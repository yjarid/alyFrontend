{"version":3,"sources":["components/Business/NewBuz/Newbuz.js"],"names":["NewBuz","props","appDispatch","useContext","DispatchContext","loginRequired","history","useMutation","CREATE_BUSINESS","onCompleted","createBusiness","type","value","message","name","window","scrollTo","onError","err","console","log","loading","title","withTopBar","className","styles","formTitle","onSubmit"],"mappings":"sNAoCeA,UA1BA,SAAAC,GACb,IAAMC,EAAcC,qBAAWC,KAE/BC,YAAcJ,EAAMK,QAASJ,GAHP,MAKgBK,YAAYC,IAAiB,CACjEC,YADiE,YAChC,IAAnBC,EAAkB,EAAlBA,eACZR,EAAY,CAAES,KAAM,eAAgBC,MAAO,CAAEC,QAAQ,YAAD,OAAcH,EAAeI,KAA7B,eAAgDH,KAAM,aAC1GI,OAAOC,SAAS,EAAG,IAErBC,QALiE,SAKzDC,GACNC,QAAQC,IAAIF,EAAIL,SAChBX,EAAY,CAAES,KAAM,eAAgBC,MAAO,CAAEC,QAAS,6CAA8CF,KAAM,WAC1GI,OAAOC,SAAS,EAAG,MAbD,mBAKfN,EALe,KAKGW,EALH,KAKGA,QAYzB,OACE,kBAAC,IAAD,CAAMC,MAAM,sBAAsBC,YAAY,GAC3CF,GAAW,kBAAC,IAAD,MACZ,wBAAIG,UAAWC,IAAOC,WAAtB,uBACA,kBAAC,IAAD,CAASC,SAAUjB","file":"static/js/15.2d80dd9e.chunk.js","sourcesContent":["import React, { useContext } from \"react\"\r\nimport BuzForm from \"./BuzForm/BuzForm\"\r\nimport { useMutation } from \"@apollo/react-hooks\"\r\nimport styles from \"./Newbuz.module.scss\"\r\nimport Spinner from \"../../UI/Spinner/Spinner\"\r\nimport { CREATE_BUSINESS } from \"../../../qraphQl/businessType\"\r\nimport { loginRequired } from \"../../../AccessToken\"\r\nimport { DispatchContext } from \"../../../Context\"\r\nimport Page from \"../../Page/Page\"\r\n\r\nconst NewBuz = props => {\r\n  const appDispatch = useContext(DispatchContext)\r\n\r\n  loginRequired(props.history, appDispatch)\r\n\r\n  const [createBusiness, { loading }] = useMutation(CREATE_BUSINESS, {\r\n    onCompleted({ createBusiness }) {\r\n      appDispatch({ type: \"flashMessage\", value: { message: `Business ${createBusiness.name} is created`, type: \"success\" } })\r\n      window.scrollTo(0, 0)\r\n    },\r\n    onError(err) {\r\n      console.log(err.message)\r\n      appDispatch({ type: \"flashMessage\", value: { message: \"Somethicng is wrong please try again later\", type: \"error\" } })\r\n      window.scrollTo(0, 0)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Page title=\"Create New Business\" withTopBar={false}>\r\n      {loading && <Spinner />}\r\n      <h3 className={styles.formTitle}>Create New Business</h3>\r\n      <BuzForm onSubmit={createBusiness} />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default NewBuz\r\n"],"sourceRoot":""}