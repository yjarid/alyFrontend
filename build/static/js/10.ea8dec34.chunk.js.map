{"version":3,"sources":["components/MapResultPage/MapResult/MapResult.module.scss","components/MapResultPage/MapResultPage.module.scss","components/UI/Map/SimpleMap.module.scss","utils/preventManyReq.js","components/MapResultPage/MapResult/MapResult.js","customHooks/useMapBound.js","components/UI/Map/SimpleMap.js","components/MapResultPage/MapResultPage.js","components/UI/AdvanceFilter/AdvanceFilter.js","components/UI/AdvanceFilter/AdvanceFilter.module.scss","../node_modules/@material-ui/core/esm/RadioGroup/RadioGroup.js","../node_modules/@material-ui/core/esm/FormGroup/FormGroup.js","components/Search/AdvancedSearch/AdvancedSearch.module.scss","cssTransition/slideDown.module.scss","../node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js","../node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js","../node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js","../node_modules/@material-ui/core/esm/Checkbox/Checkbox.js","components/Search/AdvancedSearch/AdvancedSearch.js"],"names":["module","exports","scrollToRef","source","makeRequestCreator","ref","window","scrollTo","current","offsetTop","MapResult","data","selectedBus","selectedBusFunc","scroll","myRef","useRef","BusId","_id","useEffect","className","styles","gridContainer","map","item","i","key","onMouseEnter","BuzCard","busCard","useMapBound","zoom","useState","bounds","setBound","boundChange","setPrevBound","prevZoom","setPrevZoom","length","newMiddlePointLat","newMiddlePointLng","oldMiddlePointLat","oldMiddlePointLng","difference","Math","abs","iconRed","L","Icon","iconUrl","iconSize","iconBlue","SimpleMap","area","initZoom","mapBounds","selectedBusfromParent","setZoom","setSelectedBus","mapRef","featureRef","max","idFromParent","businesses","initialCor","lat","lng","updateMap","b","leafletElement","getBounds","zoomm","getZoom","initBound","getSouthWest","getNorthEast","console","log","Map","onViewportChanged","center","minZoom","TileLayer","url","attribution","FeatureGroup","bus","id","rating","nbrRev","totRev","Marker","position","location","coordinates","icon","onClick","markerClicked","onMouseOver","e","target","openPopup","markerHoover","Popup","autoPan","popUpTitle","to","name","StyledRating","value","precision","size","readOnly","MapResultPage","mapBounds2","setScroll","showMapMob","setShowMapMob","listMap","listMapBtn","searchResContainer","fixContainer","mapContainer","bound","useStyles","makeStyles","root","fontSize","AdvanceFilter","onFilter","parentCat","appDispatch","useContext","DispatchContext","classes","city","setCity","cat","setCat","level","setLevel","disable","setDisable","neigh","setNeigh","subCat","setSubCat","price","setPrice","useQuery","CATEGORIES","variables","dataL","LOCATIONS","useLazyQuery","getSubCat","dataSC","getNeigh","dataN","locations","categories","neighborhood","subCategories","handleCheckboxChange","checked","prev","concat","filter","v","handleLevel","type","message","parsedCityName","JSON","parse","group","levelContainer","mainContainer","formGridTop","formGridItem","sectionTitle","component","onChange","neighContainer","catName","upCaseFirstLetter","stringify","control","label","toLowerCase","formGrid","formGridItemScroll","sectionTitleInfo","required","checkboxContainer","dis","includes","chk","disabled","p","submit","RadioGroup","props","actions","children","nameProp","valueProp","other","rootRef","_useControlled","controlled","default","defaultValue","_useControlled2","setValue","focus","input","querySelector","handleRef","_React$useState","defaultName","setDefaultName","round","random","Provider","event","role","FormGroup","_props$row","row","display","flexDirection","flexWrap","createSvgIcon","d","defaultCheckedIcon","CheckBox","defaultIcon","CheckBoxOutlineBlank","defaultIndeterminateIcon","IndeterminateCheckBox","_props$checkedIcon","checkedIcon","_props$color","color","_props$icon","_props$indeterminate","indeterminate","_props$indeterminateI","indeterminateIcon","inputProps","_props$size","SwitchBase","capitalize","withStyles","theme","palette","text","secondary","colorPrimary","primary","main","backgroundColor","action","hoverOpacity","colorSecondary","AdvancedSearch","showFilter","setShowFilter","setNeighborhood","neighName","setNeighName","cityName","setCityName","GET_BUSINESSES","fetchPolicy","getBusiness","error","loading","dataFinal","fetchBus","variab","limit","showFilterBtn","timeout","in","classNames","slideDown","unmountOnExit","initNeighborhood","initSubCat","initCity","initCat","initPrice","parseNeigh","parseCity","title","withTopBar"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,YAAc,+BAA+B,QAAU,6B,oBCAzED,EAAOC,QAAU,CAAC,mBAAqB,0CAA0C,aAAe,oCAAoC,aAAe,oCAAoC,QAAU,iC,oBCAjMD,EAAOC,QAAU,CAAC,OAAS,0BAA0B,WAAa,gC,6ICqCrDC,GApCc,WACzB,IAAIC,EA+BwBC,GAIH,SAACC,GAAD,OAASC,OAAOC,SAAS,EAAGF,EAAIG,QAAQC,aCCpDC,MAjCf,YAAoE,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,gBAAiBC,EAAU,EAAVA,OACjDC,EAAQC,iBAAO,MAEfC,EAAQL,EAAcA,EAAYM,IAAM,KAQ9C,OANAC,qBAAU,WACJJ,EAAMP,SAAWM,GACnBZ,EAAYa,KAEb,CAACE,EAAOH,IAGT,6BACE,yBAAKM,UAAWC,IAAOC,eACpBX,EAAKY,KAAI,SAACC,EAAMC,GACf,OAAID,EAAKN,KAAOD,EAEZ,yBAAKS,IAAKD,EAAGpB,IAAKU,EAAOK,UAAWC,IAAOT,YAAae,aAAc,kBAAMd,EAAgBW,KAC1F,kBAACI,EAAA,EAAD,CAASjB,KAAMa,KAKnB,yBAAKJ,UAAWC,IAAOQ,QAASH,IAAKD,EAAGE,aAAc,kBAAMd,EAAgBW,GAAM,KAChF,kBAACI,EAAA,EAAD,CAASjB,KAAMa,W,4HCDdM,EA3BK,SAAAC,GAAS,IAAD,EACCC,mBAAS,IADV,mBACnBC,EADmB,KACXC,EADW,OAEUF,mBAAS,IAFnB,mBAEnBG,EAFmB,KAENC,EAFM,OAGMJ,mBAAS,GAHf,mBAGnBK,EAHmB,KAGTC,EAHS,KAK1B,GAAIL,EAAOM,QAAU,EAAG,CAGtB,IAAIC,GAAqBP,EAAO,GAAKA,EAAO,IAAM,EAC9CQ,GAAqBR,EAAO,GAAKA,EAAO,IAAM,EAC9CS,GAAqBP,EAAY,GAAKA,EAAY,IAAM,EACxDQ,GAAqBR,EAAY,GAAKA,EAAY,IAAM,EAExDS,EAAaC,KAAKC,IAAIN,EAAoBE,GAAqBG,KAAKC,IAAIL,EAAoBE,GAE5FN,GAAYN,GACdO,EAAYP,GACZK,EAAaH,KACHW,GAAc,KAAQb,GAAQ,IAAQa,GAAc,KAAgB,IAARb,GAAgBa,GAAc,KAAgB,IAARb,GAAgBa,GAAc,KAAQb,GAAQ,IAAQa,GAAc,MAASb,GAAQ,MACjMO,EAAYP,GACZK,EAAaH,IAIjB,MAAO,CAACE,EAAaD,IClBjBa,EAAU,IAAIC,IAAEC,KAAK,CACzBC,QAAS,kBACTC,SAAU,CAAC,GAAI,MAEXC,EAAW,IAAIJ,IAAEC,KAAK,CAC1BC,QAAS,uBACTC,SAAU,CAAC,GAAI,MAGF,SAASE,EAAT,GAAiG,IAAD,EAA3E1C,EAA2E,EAA3EA,KAAM2C,EAAqE,EAArEA,KAAMC,EAA+D,EAA/DA,SAAUC,EAAqD,EAArDA,UAAW3C,EAA0C,EAA1CA,gBAAiB4C,EAAyB,EAAzBA,sBAAyB,EACrFzB,mBAASuB,GAD4E,mBACtGxB,EADsG,KAChG2B,EADgG,OAEvE1B,mBAASyB,GAF8D,mBAEtG7C,EAFsG,KAEzF+C,EAFyF,KAGvGC,EAAS5C,mBACT6C,EAAa7C,mBAJ0F,EAK7Ec,EAAYe,KAAKiB,IAAI/B,EAAMwB,IALkD,mBAKtGpB,EALsG,KAKzFD,EALyF,KAOvG6B,EAAeN,EAAwBA,EAAsBvC,IAAM,KAEnE8C,EAAarD,GAAc,GAC7BsD,EAAaX,EAAO,CAACA,EAAKY,IAAKZ,EAAKa,KAAO,CAAC,WAAY,SAa5D,SAASC,IACP,IAAMC,EAAIT,EAAOpD,QAAQ8D,eAAeC,YAClCC,EAAQZ,EAAOpD,QAAQ8D,eAAeG,UACtCC,EAAY,CAACL,EAAEM,eAAeR,IAAKE,EAAEM,eAAeT,IAAKG,EAAEO,eAAeT,IAAKE,EAAEO,eAAeV,KACtGW,QAAQC,IAAIJ,GACZhB,EAAQc,GACRtC,EAASwC,GAjBXG,QAAQC,IAAId,GACZ7C,qBAAU,WACRwC,EAAeF,KACd,CAACM,IAEJ5C,qBAAU,WACRqC,EAAUrB,KACT,CAACA,IAgCJ,OACE,kBAAC4C,EAAA,GAAD,GAAKC,kBAAmBZ,EAAWa,OAAQhB,EAAYlC,KAAMA,EAAMmD,QAAS,IAA5E,kCAAmGd,GAAnG,oBAAmHR,GAAnH,GACE,kBAACuB,EAAA,EAAD,CAAWC,IAAI,qDAAqDC,YAAY,2EAEhF,kBAACC,EAAA,EAAD,CAAcjF,IAAKwD,GAChBG,EAAWzC,KAAI,SAAAgE,GACd,IAfWC,EAePC,EAASF,EAAIG,OAASH,EAAII,OAASJ,EAAIG,OAAS,EAIpD,OACE,kBAACE,EAAA,EAAD,CAAQC,SAAU,CAACN,EAAIO,SAASC,YAAY,GAAIR,EAAIO,SAASC,YAAY,IAAKC,MApBrER,EAoBsFD,EAAIrE,IAnBvGN,GACE4E,GAAM5E,EAAYM,IACb6B,EAGJK,GAc0G6C,QAAS,kBA9BtG,SAAAV,GACpB5B,EAAe4B,GACf1E,EAAgB0E,GAAK,GA4B2GW,CAAcX,IAAMY,YAAa,SAAAC,GAAC,OAzB/I,SAACA,EAAGb,GACvBa,EAAEC,OAAOC,YACT3C,EAAe4B,GAuBuJgB,CAAaH,EAAGb,IAAM7D,IAAK6D,EAAIrE,KAC1LN,GACC,kBAAC4F,EAAA,EAAD,CAAOX,SAAU,CAACjF,EAAYkF,SAASC,YAAY,GAAInF,EAAYkF,SAASC,YAAY,IAAKU,SAAS,GACpG,6BACE,yBAAKrF,UAAWC,IAAOqF,YACrB,kBAAC,OAAD,CAAMC,GAAE,oBAAe/F,EAAYM,MAAQN,EAAYgG,OAEzD,yBAAKxF,UAAWC,IAAOoE,QACrB,kBAACoB,EAAA,EAAD,CAAcD,KAAK,mBAAmBE,MAAOrB,EAAQsB,UAAW,GAAKC,KAAK,QAAQC,UAAQ,IAC1F,6BAAM1B,EAAIG,OAAV,qBC/CPwB,IApCf,YAAoE,IAA3ClD,EAA0C,EAA1CA,WAAY8B,EAA8B,EAA9BA,SAAUqB,EAAoB,EAApBA,WAAYpF,EAAQ,EAARA,KAAQ,EAC3BC,mBAAS,MADkB,mBAC1DpB,EAD0D,KAC7C+C,EAD6C,OAErC3B,oBAAS,GAF4B,mBAE1DlB,EAF0D,KAElDsG,EAFkD,OAG7BpF,mBAAS,MAHoB,mBAG1DqF,EAH0D,KAG9CC,EAH8C,KAK3DzG,EAAkB,SAAC0E,EAAKzE,GAC5B6C,EAAe4B,GACf6B,EAAUtG,IAKZ,OACE,oCACE,yBAAKM,UAAWC,IAAOkG,SACrB,gCACE,0BAAMnG,UAAWC,IAAOmG,WAAYvB,QAAS,kBAAMqB,EAAc,UAAjE,SAIF,gCACE,0BAAMlG,UAAWC,IAAOmG,WAAYvB,QAAS,kBAAMqB,EAAc,SAAjE,SAKJ,yBAAKlG,UAAWC,IAAOoG,sBAClBJ,GAA4B,QAAdA,IAAyB,kBAAC,EAAD,CAAW1G,KAAMqD,EAAYpD,YAAaA,EAAaC,gBAAiBA,EAAiBC,OAAQA,IAC3I,yBAAKM,UAAWC,IAAOqG,cACrB,yBAAKtG,UAAWC,IAAOsG,gBAAiBN,GAA4B,OAAdA,IAAwB,kBAAChE,EAAD,CAAW1C,KAAMqD,EAAYV,KAAMwC,EAAW,CAAE5B,IAAK4B,EAAS5B,IAAKC,IAAK2B,EAAS3B,KAAQ,CAAED,IAAK,YAAaC,IAAK,aAAeX,UAnBrM,SAAAoE,GAAK,OAAIT,EAAWS,IAmBuMrE,SAAUxB,EAAMlB,gBAAiBA,EAAiB4C,sBAAuB7C,U,iNC1BlTiH,EAAYC,YAAW,CAC3BC,KAAM,CACJ,yBAA0B,CACxBC,SAAU,WAKD,SAASC,EAAT,GAAiD,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAC1CC,EAAcC,qBAAWC,KACzBC,EAAUV,IAF6C,EAGrC7F,mBAAS,MAH4B,mBAGtDwG,EAHsD,KAGhDC,EAHgD,OAIvCzG,mBAASmG,GAJ8B,mBAItDO,EAJsD,KAIjDC,EAJiD,OAKnC3G,mBAAS,OAL0B,mBAKtD4G,EALsD,KAK/CC,EAL+C,OAM/B7G,oBAAS,GANsB,mBAMtD8G,EANsD,KAM7CC,EAN6C,OAOnC/G,mBAAS,MAP0B,mBAOtDgH,EAPsD,KAO/CC,EAP+C,OAQjCjH,mBAAS,IARwB,mBAQtDkH,EARsD,KAQ9CC,EAR8C,OASnCnH,mBAAS,IAT0B,mBAStDoH,EATsD,KAS/CC,EAT+C,KAWrD1I,EAAS2I,YAASC,IAAY,CAAEC,UAAW,CAAEd,IAAK,WAAlD/H,KACM8I,EAAUH,YAASI,IAAW,CAAEF,UAAW,CAAEd,IAAK,UAAxD/H,KAZqD,EAcvBgJ,YAAaJ,KAdU,mBActDK,EAdsD,KAcnCC,EAdmC,KAczClJ,KAdyC,GAezBgJ,YAAaD,KAfY,qBAetDI,GAfsD,MAepCC,GAfoC,MAe1CpJ,KAEfqJ,GAAYP,EAAQA,EAAMO,UAAY,GACtCC,GAAatJ,EAAOA,EAAKsJ,WAAa,GACtCC,GAAeH,GAAQA,GAAMC,UAAY,GACzCG,GAAgBN,EAASA,EAAOI,WAAa,GAI3CG,GAAuB,SAAAhE,GAC3B,IAAIQ,EAAOR,EAAEC,OAAOO,KAEpB,GAAwB,GAApBR,EAAEC,OAAOgE,QAAiB,CAC5B,GAAqB,GAAjBnB,EAAO3G,OAGT,OAFA4G,GAAU,SAAAmB,GAAI,OAAIA,EAAKC,OAAO3D,WAC9BmC,GAAW,GAGbI,GAAU,SAAAmB,GAAI,OAAIA,EAAKC,OAAO3D,WAE9BmC,GAAW,GACXI,GAAU,SAAAmB,GAAI,OAAIA,EAAKE,QAAO,SAAAC,GAAC,OAAIA,IAAM7D,SAQvC8D,GAAc,SAAA9B,GAClB,GAAa,OAATA,EAAgB,CAClB,IAAKJ,IAASE,EAEZ,YADAN,EAAY,CAAEuC,KAAM,eAAgB7D,MAAO,CAAE8D,QAAQ,2CAA6CD,KAAM,WAG1G9B,EAASD,GACT,IAAIiC,EAAiBC,KAAKC,MAAMvC,GAAM5B,KACtCkD,GAAS,CAAEN,UAAW,CAAEwB,MAAOH,EAAgBnC,IAAK,kBACpDkB,EAAU,CAAEJ,UAAW,CAAEwB,MAAOtC,EAAKA,IAAK,gBAE1CG,EAASD,IAQb,OACE,6BACE,yBAAKxH,UAAWC,IAAO4J,gBACrB,0BAAM7J,UAAWC,IAAOuH,MAAO3C,QAAS,kBAAMyE,GAAY,SAA1D,UAGA,0BAAMtJ,UAAWC,IAAOuH,MAAO3C,QAAS,kBAAMyE,GAAY,SAA1D,WAIF,yBAAKtJ,UAAWC,IAAO6J,eACX,OAATtC,GACC,yBAAKxH,UAAWC,IAAO8J,aACrB,yBAAK/J,UAAWC,IAAO+J,cACrB,uBAAGhK,UAAWC,IAAOgK,cAArB,gBACA,kBAAC,IAAD,CAAaC,UAAU,WAAWlK,UAAWmH,EAAQR,MACnD,kBAAC,IAAD,CAAYnB,KAAK,OAAOE,MAAO0B,EAAM+C,SAAU,SAAAnF,GAAC,OAAIqC,EAAQrC,EAAEC,OAAOS,SACnE,yBAAK1F,UAAWC,IAAOmK,gBACpBxB,GAAUzI,KAAI,SAACmH,EAAKjH,GACnB,IAAIgK,EAAUC,YAAkBhD,EAAI9B,MACpC,OAAO,kBAAC,IAAD,CAAkBlF,IAAKD,EAAGqF,MAAOgE,KAAKa,UAAUjD,GAAMkD,QAAS,kBAAC,IAAD,CAAO5E,KAAK,UAAY6E,MAAOJ,WAO/G,yBAAKrK,UAAWC,IAAO+J,cACrB,uBAAGhK,UAAWC,IAAOgK,cAArB,yBACA,kBAAC,IAAD,CAAaC,UAAU,WAAWlK,UAAWmH,EAAQR,MACnD,kBAAC,IAAD,CAAYnB,KAAK,SAASE,MAAO4B,EAAK6C,SAAU,SAAAnF,GAAC,OAAIuC,EAAOvC,EAAEC,OAAOS,SACnE,yBAAK1F,UAAWC,IAAOmK,gBACpBvB,GAAW1I,KAAI,SAACmH,EAAKjH,GACpB,IAAIgK,EAAUC,YAAkBhD,EAAI9B,MACpC,OAAO,kBAAC,IAAD,CAAkBlF,IAAKD,EAAGqF,MAAO4B,EAAI9B,KAAKkF,cAAeF,QAAS,kBAAC,IAAD,CAAO5E,KAAK,UAAY6E,MAAOJ,YAS5G,OAAT7C,GACC,kBAAC,WAAD,KACE,yBAAKxH,UAAWC,IAAO0K,UACrB,yBAAK3K,UAAWC,IAAO+J,cACrB,uBAAGhK,UAAWC,IAAOgK,cAArB,wBAEA,yBAAKjK,UAAWC,IAAO2K,oBACrB,kBAAC,IAAD,CAAaV,UAAU,WAAWlK,UAAWmH,EAAQR,MACnD,kBAAC,IAAD,CACEnB,KAAK,SACLE,MAAOkC,EACPuC,SAAU,SAAAnF,GACR6C,EAAS7C,EAAEC,OAAOS,SAGpB,yBAAK1F,UAAWC,IAAOmK,gBACpBtB,GAAa3I,KAAI,SAACmH,EAAKjH,GACtB,IAAIgK,EAAUC,YAAkBhD,EAAI9B,MACpC,OAAO,kBAAC,IAAD,CAAkBlF,IAAKD,EAAGqF,MAAOgE,KAAKa,UAAUjD,GAAMkD,QAAS,kBAAC,IAAD,CAAO5E,KAAK,UAAY6E,MAAOJ,YAQjH,yBAAKrK,UAAWC,IAAO+J,cACrB,uBAAGhK,UAAWC,IAAOgK,cAArB,mBACkB,0BAAMjK,UAAWC,IAAO4K,kBAAxB,YAElB,yBAAK7K,UAAWC,IAAO2K,oBACrB,kBAAC,IAAD,CAAaE,UAAQ,EAACZ,UAAU,WAAWlK,UAAWmH,EAAQR,MAC5D,kBAAC,IAAD,KAEI,yBAAK3G,UAAWC,IAAO8K,mBACpBhC,GAAc5I,KAAI,SAACmH,EAAKjH,GACvB,IAAIgK,EAAU/C,EAAI9B,KACdwF,KAAMtD,GAAYI,EAAOmD,SAASZ,IAClCa,IAAMpD,EAAOmD,SAASZ,GAC1B,OAAO,kBAAC,IAAD,CAAkB/J,IAAKD,EAAGmK,QAAS,kBAAC,IAAD,CAAUhF,KAAM6E,EAASzE,KAAK,QAAQuE,SAAUnB,GAAsBmC,SAAUH,EAAK/B,QAASiC,IAAST,MAAOH,YAAkBD,aASxL,yBAAKrK,UAAWC,IAAO+J,cACrB,uBAAGhK,UAAWC,IAAOgK,cAArB,iBACA,kBAAC,IAAD,CAAaC,UAAU,WAAWlK,UAAWmH,EAAQR,MACnD,kBAAC,IAAD,CAAYnB,KAAK,QAAQE,MAAOsC,EAAOmC,SArH5B,SAAAnF,GACd,cAAPsC,GAAqBW,EAASjD,EAAEC,OAAOS,SAqH3B,yBAAK1F,UAAWC,IAAOmK,gBAxI5B,CAAC,IAAK,KAAM,MAAO,QAyIJjK,KAAI,SAACiL,EAAG/K,GACd,OAAO,kBAAC,IAAD,CAAkBC,IAAKD,EAAGqF,MAAO0F,EAAGZ,QAAS,kBAAC,IAAD,CAAO5E,KAAK,UAAY6E,MAAOW,YAO/F,0BAAMpL,UAAWC,IAAOoL,OAAQxG,QA5GrB,WACnBiC,EAASc,EAAOE,EAAQV,EAAME,EAAKU,KA2G3B,e,oBCtLZpJ,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,SAAW,gCAAgC,YAAc,mCAAmC,aAAe,oCAAoC,mBAAqB,0CAA0C,kBAAoB,yCAAyC,eAAiB,sCAAsC,uBAAyB,8CAA8C,aAAe,oCAAoC,iBAAmB,wCAAwC,OAAS,8BAA8B,eAAiB,sCAAsC,MAAQ,+B,iCCDpqB,4EASIyM,EAAa,cAAiB,SAAoBC,EAAOtM,GAC3D,IAAIuM,EAAUD,EAAMC,QAChBC,EAAWF,EAAME,SACjBC,EAAWH,EAAM/F,KACjBmG,EAAYJ,EAAM7F,MAClByE,EAAWoB,EAAMpB,SACjByB,EAAQ,YAAyBL,EAAO,CAAC,UAAW,WAAY,OAAQ,QAAS,aAEjFM,EAAU,SAAa,MAEvBC,EAAiB,YAAc,CACjCC,WAAYJ,EACZK,QAAST,EAAMU,aACfzG,KAAM,eAEJ0G,EAAkB,YAAeJ,EAAgB,GACjDpG,EAAQwG,EAAgB,GACxBC,EAAWD,EAAgB,GAE/B,sBAA0BV,GAAS,WACjC,MAAO,CACLY,MAAO,WACL,IAAIC,EAAQR,EAAQzM,QAAQkN,cAAc,gCAErCD,IACHA,EAAQR,EAAQzM,QAAQkN,cAAc,yBAGpCD,GACFA,EAAMD,YAIX,IACH,IAAIG,EAAY,YAAWtN,EAAK4M,GAU5BW,EAAkB,aAClBC,EAAcD,EAAgB,GAC9BE,EAAiBF,EAAgB,GAEjChH,EAAOkG,GAAYe,EAOvB,OANA,aAAgB,WAIdC,EAAe,kBAAkBvD,OAAO1H,KAAKkL,MAAsB,IAAhBlL,KAAKmL,cACvD,IACI,gBAAoB,IAAkBC,SAAU,CACrDnH,MAAO,CACLF,KAAMA,EACN2E,SAtBe,SAAsB2C,GACvCX,EAASW,EAAM7H,OAAOS,OAElByE,GACFA,EAAS2C,EAAOA,EAAM7H,OAAOS,QAmB7BA,MAAOA,IAER,gBAAoB,IAAW,YAAS,CACzCqH,KAAM,aACN9N,IAAKsN,GACJX,GAAQH,OAiDE,O,iCC1Hf,8CAyBIuB,EAAY,cAAiB,SAAmBzB,EAAOtM,GACzD,IAAIkI,EAAUoE,EAAMpE,QAChBnH,EAAYuL,EAAMvL,UAClBiN,EAAa1B,EAAM2B,IACnBA,OAAqB,IAAfD,GAAgCA,EACtCrB,EAAQ,YAAyBL,EAAO,CAAC,UAAW,YAAa,QAErE,OAAO,gBAAoB,MAAO,YAAS,CACzCvL,UAAW,YAAKmH,EAAQR,KAAM3G,EAAWkN,GAAO/F,EAAQ+F,KACxDjO,IAAKA,GACJ2M,OAwBU,gBArDK,CAElBjF,KAAM,CACJwG,QAAS,OACTC,cAAe,SACfC,SAAU,QAIZH,IAAK,CACHE,cAAe,QA2Ce,CAChC5H,KAAM,gBADO,CAEZwH,I,oBC5DHpO,EAAOC,QAAU,CAAC,cAAgB,sCAAsC,mBAAqB,2CAA2C,aAAe,qCAAqC,aAAe,uC,oBCA3MD,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,YAAc,+BAA+B,KAAO,wBAAwB,WAAa,gC,yFCK7H,SAAAyO,EAAA,GAAc,gBAAoB,OAAQ,CACvDC,EAAG,+FACD,wBCFW,SAAAD,EAAA,GAAc,gBAAoB,OAAQ,CACvDC,EAAG,wIACD,Y,QCFW,SAAAD,EAAA,GAAc,gBAAoB,OAAQ,CACvDC,EAAG,kGACD,yB,eCwDAC,EAAqB,gBAAoBC,EAAc,MACvDC,EAAc,gBAAoBC,EAA0B,MAC5DC,EAA2B,gBAAoBC,EAA2B,MAC1E,EAAW,cAAiB,SAAkBtC,EAAOtM,GACvD,IAAI6O,EAAqBvC,EAAMwC,YAC3BA,OAAqC,IAAvBD,EAAgCN,EAAqBM,EACnE3G,EAAUoE,EAAMpE,QAChB6G,EAAezC,EAAM0C,MACrBA,OAAyB,IAAjBD,EAA0B,YAAcA,EAChDE,EAAc3C,EAAM3G,KACpBA,OAAuB,IAAhBsJ,EAAyBR,EAAcQ,EAC9CC,EAAuB5C,EAAM6C,cAC7BA,OAAyC,IAAzBD,GAA0CA,EAC1DE,EAAwB9C,EAAM+C,kBAC9BA,OAA8C,IAA1BD,EAAmCT,EAA2BS,EAClFE,EAAahD,EAAMgD,WACnBC,EAAcjD,EAAM3F,KACpBA,OAAuB,IAAhB4I,EAAyB,SAAWA,EAC3C5C,EAAQ,YAAyBL,EAAO,CAAC,cAAe,UAAW,QAAS,OAAQ,gBAAiB,oBAAqB,aAAc,SAE5I,OAAO,gBAAoBkD,EAAA,EAAY,YAAS,CAC9ClF,KAAM,WACNpC,QAAS,CACPR,KAAM,YAAKQ,EAAQR,KAAMQ,EAAQ,QAAQgC,OAAO,OAAAuF,EAAA,GAAWT,KAAUG,GAAiBjH,EAAQiH,eAC9FnF,QAAS9B,EAAQ8B,QACjBkC,SAAUhE,EAAQgE,UAEpB8C,MAAOA,EACPM,WAAY,YAAS,CACnB,qBAAsBH,GACrBG,GACH3J,KAAM,eAAmBwJ,EAAgBE,EAAoB1J,EAAM,CACjEgC,SAAmB,UAAThB,EAAmB,QAAU,YAEzCmI,YAAa,eAAmBK,EAAgBE,EAAoBP,EAAa,CAC/EnH,SAAmB,UAAThB,EAAmB,QAAU,YAEzC3G,IAAKA,GACJ2M,OAgGU,WAAA+C,EAAA,IAzLK,SAAgBC,GAClC,MAAO,CAELjI,KAAM,CACJsH,MAAOW,EAAMC,QAAQC,KAAKC,WAI5B9F,QAAS,GAGTkC,SAAU,GAGViD,cAAe,GAGfY,aAAc,CACZ,YAAa,CACXf,MAAOW,EAAMC,QAAQI,QAAQC,KAC7B,UAAW,CACTC,gBAAiB,YAAKP,EAAMC,QAAQI,QAAQC,KAAMN,EAAMC,QAAQO,OAAOC,cAEvE,uBAAwB,CACtBF,gBAAiB,iBAIvB,aAAc,CACZlB,MAAOW,EAAMC,QAAQO,OAAOjE,WAKhCmE,eAAgB,CACd,YAAa,CACXrB,MAAOW,EAAMC,QAAQE,UAAUG,KAC/B,UAAW,CACTC,gBAAiB,YAAKP,EAAMC,QAAQE,UAAUG,KAAMN,EAAMC,QAAQO,OAAOC,cAEzE,uBAAwB,CACtBF,gBAAiB,iBAIvB,aAAc,CACZlB,MAAOW,EAAMC,QAAQO,OAAOjE,cA2IF,CAChC3F,KAAM,eADO,CAEZ,I,8xBC3LY,SAAS+J,IACtB,IAAMvI,EAAcC,qBAAWC,KADQ,EAEHtG,oBAAS,GAFN,mBAEhC4O,EAFgC,KAEpBC,EAFoB,OAGf7O,mBAAS,GAHM,mBAGhCD,EAHgC,KAG1B2B,EAH0B,OAIb1B,mBAAS,IAJI,mBAIhC4F,EAJgC,KAIzB1F,EAJyB,OAKbF,mBAAS,MALI,mBAKhCoH,EALgC,KAKzBC,EALyB,OAMCrH,mBAAS,MANV,mBAMhCkI,EANgC,KAMlB4G,EANkB,OAOL9O,mBAAS,MAPJ,mBAOhC+O,EAPgC,KAOrBC,EAPqB,OAQfhP,mBAAS,MARM,mBAQhCwG,EARgC,KAQ1BC,EAR0B,OASPzG,mBAAS,MATF,mBAShCiP,EATgC,KAStBC,EATsB,OAUXlP,mBAAS,IAVE,mBAUhCkH,EAVgC,KAUxBC,EAVwB,OAWjBnH,mBAAS,cAXQ,mBAWhC0G,GAXgC,KAW3BC,GAX2B,QAaOgB,YAAawH,IAAgB,CAAEC,YAAa,iBAbnD,qBAalCC,GAbkC,eAanB1Q,GAbmB,GAanBA,KAAM2Q,GAba,GAabA,MAAOC,GAbM,GAaNA,QAE3BC,GAA2B,oBAAR7Q,GAAsBA,GAAKqD,WAAa,GAEjE7C,qBAAU,WACRsQ,KACAZ,GAAc,KACb,CAACjJ,EAAM,GAAIwB,EAAO2H,EAAWjG,KAAKa,UAAUzC,GAAS+H,EAAUvI,KAElEvH,qBAAU,WACJmQ,IACFlJ,EAAY,CAAEuC,KAAM,eAAgB7D,MAAO,CAAE8D,QAAS,uBAAwBD,KAAM,aAErF,CAAC2G,KAEJ,IA+BMG,GAAW,WACf,IAAIC,EAAS,GAITtI,IACFsI,EAAM,KAAQA,EAAR,CAAgBtI,WAIpBc,EACFwH,EAAM,KAAQA,EAAR,CAAgBxH,aAAcA,EAAalB,QAG7CR,IACFkJ,EAAM,KAAQA,EAAR,CAAgBlJ,KAAMA,EAAK5B,QAKjCgB,EAAMrF,OAAS,IACjBmP,EAAM,KAAQA,EAAR,CAAgB9J,WAIpBsB,EAAO3G,OAAS,IAClBmP,EAAM,KAAQA,EAAR,CAAgBxI,YAMpBR,KACFgJ,EAAM,KAAQA,EAAR,CAAgBhJ,UAGxB2I,GAAY,CAAE7H,UAAU,EAAD,GAAOkI,EAAP,CAAeC,MAlC1B,QA0Cd,OACE,oCACE,kBAAC,IAAD,MACA,6BACE,yBAAKvQ,UAAWC,IAAOuQ,cAAe3L,QAAS,kBAAM4K,GAAeD,KAApE,mBAIA,kBAAC,IAAD,CAAeiB,QAAS,IAAKC,GAAIlB,EAAYmB,WAAYC,IAAWC,eAAa,GAC/E,kBAAC,IAAD,CAAe/J,SApFN,SAACgK,EAAkBC,EAAYC,EAAUC,EAASC,GAKjE,GAJApQ,EAAS,IACT8O,EAAa,MACbE,EAAY,MACZ/H,EAAU,IACN+I,EAAkB,CACpB,IAAIK,EAAazH,KAAKC,MAAMmH,GAC5BpB,EAAgByB,GAChBvB,EAAauB,EAAW3L,MACxBlD,EAAQ,QACH,CAEL,IAAI8O,EAAY1H,KAAKC,MAAMqH,GAC3B3J,EAAQ+J,GACRtB,EAAYsB,EAAU5L,MACtBlD,EAAQ,IAGNyO,EAAW5P,OAAS,GACtB4G,EAAUgJ,GAGRE,GACF1J,GAAO0J,GAGLC,GACFjJ,EAASiJ,IAyD8BnK,UAAWO,IAAY,iBAI9D,kBAAC,IAAD,CAAM+J,MAAM,kBAAkBC,YAAY,GACvCnB,IAAW,kBAAC,IAAD,MACZ,kBAAC,IAAD,CAAevN,WAAYwN,GAAW1L,SAAUoE,GAAgB1B,EAAMrB,WApBzD,SAAAlF,GACjB4C,QAAQC,IAAI7C,GACZC,EAASD,IAkByFF,KAAMA","file":"static/js/10.ea8dec34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedBus\":\"MapResult_selectedBus__3BR5a\",\"busCard\":\"MapResult_busCard__2EnNv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchResContainer\":\"MapResultPage_searchResContainer__27PT7\",\"mapContainer\":\"MapResultPage_mapContainer__3nirv\",\"fixContainer\":\"MapResultPage_fixContainer__DU6q7\",\"listMap\":\"MapResultPage_listMap__1YLp_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rating\":\"SimpleMap_rating__16dYM\",\"popUpTitle\":\"SimpleMap_popUpTitle__1hYOa\"};","import axios from 'axios'\r\n\r\nconst makeRequestCreator = () => {\r\n  let source\r\n\r\n  return async (query) => {\r\n\r\n    // Check if we made a request\r\n    if(source){\r\n      // Cancel the previous request before making a new request\r\n      source.cancel()\r\n    }\r\n  \r\n    // Create a new CancelToken\r\n     source = axios.CancelToken.source()\r\n     \r\n    try{\r\n      \r\n      const res = await axios.get(query, {cancelToken: source.token})\r\n      \r\n      const result = res.data\r\n      return result;\r\n    } catch(error) {\r\n        if(axios.isCancel(error)) {\r\n          // Handle if request was cancelled\r\n          console.log('Request canceled', error.message);\r\n        } else {\r\n          // Handle usual errors\r\n          console.log('Something went wrong: ', error.message)\r\n        }\r\n    }\r\n  }\r\n}\r\n\r\nexport const preventManyReq = makeRequestCreator()\r\n\r\n\r\n// scroll to particular element\r\nexport const scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop)   ","import React, { useRef, useEffect } from \"react\"\r\nimport BuzCard from \"../../UI/Cards/BuzCard/BuzCard\"\r\nimport styles from \"./MapResult.module.scss\"\r\nimport { upCaseFirstLetter } from \"../../../utils/string\"\r\nimport { scrollToRef } from \"../../../utils/preventManyReq\"\r\n\r\nfunction MapResult({ data, selectedBus, selectedBusFunc, scroll }) {\r\n  const myRef = useRef(null)\r\n\r\n  const BusId = selectedBus ? selectedBus._id : null\r\n\r\n  useEffect(() => {\r\n    if (myRef.current && scroll) {\r\n      scrollToRef(myRef)\r\n    }\r\n  }, [BusId, scroll])\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.gridContainer}>\r\n        {data.map((item, i) => {\r\n          if (item._id == BusId) {\r\n            return (\r\n              <div key={i} ref={myRef} className={styles.selectedBus} onMouseEnter={() => selectedBusFunc(item)}>\r\n                <BuzCard data={item} />\r\n              </div>\r\n            )\r\n          }\r\n          return (\r\n            <div className={styles.busCard} key={i} onMouseEnter={() => selectedBusFunc(item, false)}>\r\n              <BuzCard data={item} />\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapResult\r\n","import { useState } from \"react\"\r\n\r\nconst useMapBound = zoom => {\r\n  const [bounds, setBound] = useState([])\r\n  const [boundChange, setPrevBound] = useState([])\r\n  const [prevZoom, setPrevZoom] = useState(8)\r\n\r\n  if (bounds.length >= 0) {\r\n    // calculation to prevent sending a request with evry move to the map or a zoom\r\n\r\n    let newMiddlePointLat = (bounds[1] + bounds[3]) / 2\r\n    let newMiddlePointLng = (bounds[0] + bounds[2]) / 2\r\n    let oldMiddlePointLat = (boundChange[1] + boundChange[3]) / 2\r\n    let oldMiddlePointLng = (boundChange[0] + boundChange[2]) / 2\r\n\r\n    let difference = Math.abs(newMiddlePointLat - oldMiddlePointLat) + Math.abs(newMiddlePointLng - oldMiddlePointLng)\r\n\r\n    if (prevZoom != zoom) {\r\n      setPrevZoom(zoom)\r\n      setPrevBound(bounds)\r\n    } else if ((difference >= 0.04 && zoom >= 11) || (difference >= 0.03 && zoom == 13) || (difference >= 0.02 && zoom == 14) || (difference >= 0.01 && zoom >= 15) || (difference >= 0.006 && zoom >= 17)) {\r\n      setPrevZoom(zoom)\r\n      setPrevBound(bounds)\r\n    }\r\n  }\r\n\r\n  return [boundChange, setBound]\r\n}\r\n\r\nexport default useMapBound\r\n","import React, { useRef, useState, useEffect, Fragment } from \"react\"\r\nimport { Map, Marker, TileLayer, Popup, FeatureGroup } from \"react-leaflet\"\r\nimport L from \"leaflet\"\r\nimport { StyledRating } from \"../../UI/CustomFields/StyledRating\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styles from \"./SimpleMap.module.scss\"\r\nimport useMapBound from \"../../../customHooks/useMapBound\"\r\n\r\nconst iconRed = new L.Icon({\r\n  iconUrl: \"/svg/marker.svg\",\r\n  iconSize: [25, 25]\r\n})\r\nconst iconBlue = new L.Icon({\r\n  iconUrl: \"/svg/marker-blue.svg\",\r\n  iconSize: [25, 25]\r\n})\r\n\r\nexport default function SimpleMap({ data, area, initZoom, mapBounds, selectedBusFunc, selectedBusfromParent }) {\r\n  const [zoom, setZoom] = useState(initZoom)\r\n  const [selectedBus, setSelectedBus] = useState(selectedBusfromParent)\r\n  const mapRef = useRef()\r\n  const featureRef = useRef()\r\n  const [boundChange, setBound] = useMapBound(Math.max(zoom, initZoom))\r\n\r\n  const idFromParent = selectedBusfromParent ? selectedBusfromParent._id : null\r\n  // data\r\n  const businesses = data ? data : []\r\n  let initialCor = area ? [area.lat, area.lng] : [31.791702, -7.09262]\r\n\r\n  console.log(businesses)\r\n  useEffect(() => {\r\n    setSelectedBus(selectedBusfromParent)\r\n  }, [idFromParent])\r\n\r\n  useEffect(() => {\r\n    mapBounds(boundChange)\r\n  }, [boundChange])\r\n\r\n  // get bounds\r\n\r\n  function updateMap() {\r\n    const b = mapRef.current.leafletElement.getBounds()\r\n    const zoomm = mapRef.current.leafletElement.getZoom()\r\n    const initBound = [b.getSouthWest().lng, b.getSouthWest().lat, b.getNorthEast().lng, b.getNorthEast().lat]\r\n    console.log(initBound)\r\n    setZoom(zoomm)\r\n    setBound(initBound)\r\n  }\r\n\r\n  const markerClicked = bus => {\r\n    setSelectedBus(bus)\r\n    selectedBusFunc(bus, true)\r\n  }\r\n\r\n  const markerHoover = (e, bus) => {\r\n    e.target.openPopup()\r\n    setSelectedBus(bus)\r\n  }\r\n\r\n  const selectIcon = id => {\r\n    if (selectedBus) {\r\n      if (id == selectedBus._id) {\r\n        return iconRed\r\n      }\r\n    }\r\n    return iconBlue\r\n  }\r\n\r\n  return (\r\n    <Map onViewportChanged={updateMap} center={initialCor} zoom={zoom} minZoom={11} onViewportChanged={updateMap} ref={mapRef}>\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors' />\r\n\r\n      <FeatureGroup ref={featureRef}>\r\n        {businesses.map(bus => {\r\n          let rating = bus.nbrRev ? bus.totRev / bus.nbrRev : 0\r\n\r\n          // we have a single point (crime) to render\r\n\r\n          return (\r\n            <Marker position={[bus.location.coordinates[1], bus.location.coordinates[0]]} icon={selectIcon(bus._id)} onClick={() => markerClicked(bus)} onMouseOver={e => markerHoover(e, bus)} key={bus._id}>\r\n              {selectedBus && (\r\n                <Popup position={[selectedBus.location.coordinates[1], selectedBus.location.coordinates[0]]} autoPan={false}>\r\n                  <div>\r\n                    <div className={styles.popUpTitle}>\r\n                      <Link to={`/business/${selectedBus._id}`}>{selectedBus.name}</Link>\r\n                    </div>\r\n                    <div className={styles.rating}>\r\n                      <StyledRating name=\"customized-color\" value={rating} precision={0.5} size=\"small\" readOnly />\r\n                      <div>{bus.nbrRev} reviews</div>\r\n                    </div>\r\n                  </div>\r\n                </Popup>\r\n              )}\r\n            </Marker>\r\n          )\r\n        })}\r\n      </FeatureGroup>\r\n    </Map>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport MapResult from \"./MapResult/MapResult\"\r\nimport styles from \"./MapResultPage.module.scss\"\r\nimport SimpleMap from \"../UI/Map/SimpleMap\"\r\n\r\nfunction MapResultPage({ businesses, location, mapBounds2, zoom }) {\r\n  const [selectedBus, setSelectedBus] = useState(null)\r\n  const [scroll, setScroll] = useState(false)\r\n  const [showMapMob, setShowMapMob] = useState(null)\r\n\r\n  const selectedBusFunc = (bus, scroll) => {\r\n    setSelectedBus(bus)\r\n    setScroll(scroll)\r\n  }\r\n\r\n  const mapBounds = bound => mapBounds2(bound)\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.listMap}>\r\n        <button>\r\n          <span className={styles.listMapBtn} onClick={() => setShowMapMob(\"list\")}>\r\n            List\r\n          </span>\r\n        </button>\r\n        <button>\r\n          <span className={styles.listMapBtn} onClick={() => setShowMapMob(\"map\")}>\r\n            Map\r\n          </span>\r\n        </button>\r\n      </div>\r\n      <div className={styles.searchResContainer}>\r\n        {(!showMapMob || showMapMob == \"list\") && <MapResult data={businesses} selectedBus={selectedBus} selectedBusFunc={selectedBusFunc} scroll={scroll} />}\r\n        <div className={styles.fixContainer}>\r\n          <div className={styles.mapContainer}>{(!showMapMob || showMapMob == \"map\") && <SimpleMap data={businesses} area={location ? { lat: location.lat, lng: location.lng } : { lat: \"33.573109\", lng: \"-7.617050\" }} mapBounds={mapBounds} initZoom={zoom} selectedBusFunc={selectedBusFunc} selectedBusfromParent={selectedBus} />}</div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MapResultPage\r\n","import React, { useState, Fragment, useContext } from \"react\"\r\nimport { upCaseFirstLetter } from \"../../../utils/string\"\r\nimport { DispatchContext } from \"../../../Context\"\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\"\r\nimport { LOCATIONS, CATEGORIES } from \"../../../qraphQl/taxonomyType\"\r\nimport styles from \"./AdvanceFilter.module.scss\"\r\nimport { Checkbox, Radio, FormControl, FormGroup, RadioGroup, FormControlLabel, makeStyles, FormHelperText } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    \"& .MuiTypography-body1\": {\r\n      fontSize: \"12px\"\r\n    }\r\n  }\r\n})\r\n\r\nexport default function AdvanceFilter({ onFilter, parentCat }) {\r\n  const appDispatch = useContext(DispatchContext)\r\n  const classes = useStyles()\r\n  const [city, setCity] = useState(null)\r\n  const [cat, setCat] = useState(parentCat)\r\n  const [level, setLevel] = useState(\"one\")\r\n  const [disable, setDisable] = useState(false)\r\n  const [neigh, setNeigh] = useState(null)\r\n  const [subCat, setSubCat] = useState([])\r\n  const [price, setPrice] = useState(\"\")\r\n\r\n  const { data } = useQuery(CATEGORIES, { variables: { cat: \"buz01\" } })\r\n  const { data: dataL } = useQuery(LOCATIONS, { variables: { cat: \"city\" } })\r\n\r\n  const [getSubCat, { data: dataSC }] = useLazyQuery(CATEGORIES)\r\n  const [getNeigh, { data: dataN }] = useLazyQuery(LOCATIONS)\r\n\r\n  let locations = dataL ? dataL.locations : []\r\n  let categories = data ? data.categories : []\r\n  let neighborhood = dataN ? dataN.locations : []\r\n  let subCategories = dataSC ? dataSC.categories : []\r\n\r\n  let prices = [\"$\", \"$$\", \"$$$\", \"$$$$\"]\r\n\r\n  const handleCheckboxChange = e => {\r\n    let name = e.target.name\r\n\r\n    if (e.target.checked == true) {\r\n      if (subCat.length == 2) {\r\n        setSubCat(prev => prev.concat(name))\r\n        setDisable(true)\r\n        return\r\n      }\r\n      setSubCat(prev => prev.concat(name))\r\n    } else {\r\n      setDisable(false)\r\n      setSubCat(prev => prev.filter(v => v !== name))\r\n    }\r\n  }\r\n\r\n  const setPriceRestaurant = e => {\r\n    if (cat == \"restaurant\") setPrice(e.target.value)\r\n  }\r\n\r\n  const handleLevel = level => {\r\n    if (level == \"two\") {\r\n      if (!city || !cat) {\r\n        appDispatch({ type: \"flashMessage\", value: { message: `you must select a city and business type`, type: \"error\" } })\r\n        return\r\n      }\r\n      setLevel(level)\r\n      let parsedCityName = JSON.parse(city).name\r\n      getNeigh({ variables: { group: parsedCityName, cat: \"neighborhood\" } })\r\n      getSubCat({ variables: { group: cat, cat: \"buz02\" } })\r\n    } else {\r\n      setLevel(level)\r\n    }\r\n  }\r\n\r\n  const submitFilter = () => {\r\n    onFilter(neigh, subCat, city, cat, price)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.levelContainer}>\r\n        <span className={styles.level} onClick={() => handleLevel(\"one\")}>\r\n          Step 1\r\n        </span>\r\n        <span className={styles.level} onClick={() => handleLevel(\"two\")}>\r\n          Step 2\r\n        </span>\r\n      </div>\r\n      <div className={styles.mainContainer}>\r\n        {level == \"one\" && (\r\n          <div className={styles.formGridTop}>\r\n            <div className={styles.formGridItem}>\r\n              <p className={styles.sectionTitle}> Select City</p>\r\n              <FormControl component=\"fieldset\" className={classes.root}>\r\n                <RadioGroup name=\"city\" value={city} onChange={e => setCity(e.target.value)}>\r\n                  <div className={styles.neighContainer}>\r\n                    {locations.map((cat, i) => {\r\n                      let catName = upCaseFirstLetter(cat.name) // to captalize values\r\n                      return <FormControlLabel key={i} value={JSON.stringify(cat)} control={<Radio size=\"small\" />} label={catName} />\r\n                    })}\r\n                  </div>\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </div>\r\n\r\n            <div className={styles.formGridItem}>\r\n              <p className={styles.sectionTitle}> Select Business Type</p>\r\n              <FormControl component=\"fieldset\" className={classes.root}>\r\n                <RadioGroup name=\"subCat\" value={cat} onChange={e => setCat(e.target.value)}>\r\n                  <div className={styles.neighContainer}>\r\n                    {categories.map((cat, i) => {\r\n                      let catName = upCaseFirstLetter(cat.name) // to captalize values\r\n                      return <FormControlLabel key={i} value={cat.name.toLowerCase()} control={<Radio size=\"small\" />} label={catName} />\r\n                    })}\r\n                  </div>\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {level == \"two\" && (\r\n          <Fragment>\r\n            <div className={styles.formGrid}>\r\n              <div className={styles.formGridItem}>\r\n                <p className={styles.sectionTitle}> Select Neighborhood</p>\r\n\r\n                <div className={styles.formGridItemScroll}>\r\n                  <FormControl component=\"fieldset\" className={classes.root}>\r\n                    <RadioGroup\r\n                      name=\"subCat\"\r\n                      value={neigh}\r\n                      onChange={e => {\r\n                        setNeigh(e.target.value)\r\n                      }}\r\n                    >\r\n                      <div className={styles.neighContainer}>\r\n                        {neighborhood.map((cat, i) => {\r\n                          let catName = upCaseFirstLetter(cat.name) // to captalize values\r\n                          return <FormControlLabel key={i} value={JSON.stringify(cat)} control={<Radio size=\"small\" />} label={catName} />\r\n                        })}\r\n                      </div>\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.formGridItem}>\r\n                <p className={styles.sectionTitle}>\r\n                  Select Category <span className={styles.sectionTitleInfo}>(max 3)</span>\r\n                </p>\r\n                <div className={styles.formGridItemScroll}>\r\n                  <FormControl required component=\"fieldset\" className={classes.root}>\r\n                    <FormGroup>\r\n                      {\r\n                        <div className={styles.checkboxContainer}>\r\n                          {subCategories.map((cat, i) => {\r\n                            let catName = cat.name // to captalize values\r\n                            let dis = disable && !subCat.includes(catName) ? true : false\r\n                            let chk = subCat.includes(catName) ? true : false\r\n                            return <FormControlLabel key={i} control={<Checkbox name={catName} size=\"small\" onChange={handleCheckboxChange} disabled={dis} checked={chk} />} label={upCaseFirstLetter(catName)} />\r\n                          })}\r\n                        </div>\r\n                      }\r\n                    </FormGroup>\r\n                  </FormControl>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.formGridItem}>\r\n                <p className={styles.sectionTitle}> Select Price</p>\r\n                <FormControl component=\"fieldset\" className={classes.root}>\r\n                  <RadioGroup name=\"price\" value={price} onChange={setPriceRestaurant}>\r\n                    <div className={styles.neighContainer}>\r\n                      {prices.map((p, i) => {\r\n                        return <FormControlLabel key={i} value={p} control={<Radio size=\"small\" />} label={p} />\r\n                      })}\r\n                    </div>\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </div>\r\n            </div>\r\n            <span className={styles.submit} onClick={submitFilter}>\r\n              Submit\r\n            </span>\r\n          </Fragment>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"AdvanceFilter_mainContainer__1EqN3\",\"formGrid\":\"AdvanceFilter_formGrid__3AKAk\",\"formGridTop\":\"AdvanceFilter_formGridTop__2EHhh\",\"formGridItem\":\"AdvanceFilter_formGridItem__2-L4U\",\"formGridItemScroll\":\"AdvanceFilter_formGridItemScroll__2jt5Y\",\"checkboxContainer\":\"AdvanceFilter_checkboxContainer__3p8V4\",\"neighContainer\":\"AdvanceFilter_neighContainer__cOFRP\",\"checkboxContainerInner\":\"AdvanceFilter_checkboxContainerInner__bE7sQ\",\"sectionTitle\":\"AdvanceFilter_sectionTitle__3vEM2\",\"sectionTitleInfo\":\"AdvanceFilter_sectionTitleInfo__3ps4t\",\"submit\":\"AdvanceFilter_submit__3hOfJ\",\"levelContainer\":\"AdvanceFilter_levelContainer__1UiB6\",\"level\":\"AdvanceFilter_level__1i2vX\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport FormGroup from '../FormGroup';\nimport useForkRef from '../utils/useForkRef';\nimport useControlled from '../utils/useControlled';\nimport RadioGroupContext from './RadioGroupContext';\nvar RadioGroup = React.forwardRef(function RadioGroup(props, ref) {\n  var actions = props.actions,\n      children = props.children,\n      nameProp = props.name,\n      valueProp = props.value,\n      onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"actions\", \"children\", \"name\", \"value\", \"onChange\"]);\n\n  var rootRef = React.useRef(null);\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: props.defaultValue,\n    name: 'RadioGroup'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      value = _useControlled2[0],\n      setValue = _useControlled2[1];\n\n  React.useImperativeHandle(actions, function () {\n    return {\n      focus: function focus() {\n        var input = rootRef.current.querySelector('input:not(:disabled):checked');\n\n        if (!input) {\n          input = rootRef.current.querySelector('input:not(:disabled)');\n        }\n\n        if (input) {\n          input.focus();\n        }\n      }\n    };\n  }, []);\n  var handleRef = useForkRef(ref, rootRef);\n\n  var handleChange = function handleChange(event) {\n    setValue(event.target.value);\n\n    if (onChange) {\n      onChange(event, event.target.value);\n    }\n  };\n\n  var _React$useState = React.useState(),\n      defaultName = _React$useState[0],\n      setDefaultName = _React$useState[1];\n\n  var name = nameProp || defaultName;\n  React.useEffect(function () {\n    // Fallback to this default name when possible.\n    // Use the random value for client-side rendering only.\n    // We can't use it server-side.\n    setDefaultName(\"mui-radiogroup-\".concat(Math.round(Math.random() * 1e5)));\n  }, []);\n  return React.createElement(RadioGroupContext.Provider, {\n    value: {\n      name: name,\n      onChange: handleChange,\n      value: value\n    }\n  }, React.createElement(FormGroup, _extends({\n    role: \"radiogroup\",\n    ref: handleRef\n  }, other), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? RadioGroup.propTypes = {\n  /**\n   * @ignore\n   */\n  actions: PropTypes.shape({\n    current: PropTypes.object\n  }),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The default `input` element value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n\n  /**\n   * The name used to reference the value of the control.\n   * If you don't provide this prop, it falls back to a randomly generated name.\n   */\n  name: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when a radio button is selected.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * Value of the selected radio button. The DOM API casts this to a string.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default RadioGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap'\n  },\n\n  /* Styles applied to the root element if `row={true}`. */\n  row: {\n    flexDirection: 'row'\n  }\n};\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\n\nvar FormGroup = React.forwardRef(function FormGroup(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$row = props.row,\n      row = _props$row === void 0 ? false : _props$row,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"row\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, row && classes.row),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormGroup.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Display group of elements in a compact row.\n   */\n  row: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormGroup'\n})(FormGroup);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showFilterBtn\":\"AdvancedSearch_showFilterBtn__9sg5p\",\"searchResContainer\":\"AdvancedSearch_searchResContainer__2IffH\",\"mapContainer\":\"AdvancedSearch_mapContainer__2JT_B\",\"fixContainer\":\"AdvancedSearch_fixContainer__2CsEC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"slideDown_enter__3LX4m\",\"enterActive\":\"slideDown_enterActive__1Z_J0\",\"exit\":\"slideDown_exit__3yjdw\",\"exitActive\":\"slideDown_exitActive__19VPv\"};","import * as React from 'react';\nimport createSvgIcon from './createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import * as React from 'react';\nimport createSvgIcon from './createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import * as React from 'react';\nimport createSvgIcon from './createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z\"\n}), 'IndeterminateCheckBox');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport SwitchBase from '../internal/SwitchBase';\nimport CheckBoxOutlineBlankIcon from '../internal/svg-icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '../internal/svg-icons/CheckBox';\nimport { fade } from '../styles/colorManipulator';\nimport IndeterminateCheckBoxIcon from '../internal/svg-icons/IndeterminateCheckBox';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Pseudo-class applied to the root element if `checked={true}`. */\n    checked: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `indeterminate={true}`. */\n    indeterminate: {},\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }\n  };\n};\nvar defaultCheckedIcon = React.createElement(CheckBoxIcon, null);\nvar defaultIcon = React.createElement(CheckBoxOutlineBlankIcon, null);\nvar defaultIndeterminateIcon = React.createElement(IndeterminateCheckBoxIcon, null);\nvar Checkbox = React.forwardRef(function Checkbox(props, ref) {\n  var _props$checkedIcon = props.checkedIcon,\n      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,\n      classes = props.classes,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$icon = props.icon,\n      icon = _props$icon === void 0 ? defaultIcon : _props$icon,\n      _props$indeterminate = props.indeterminate,\n      indeterminate = _props$indeterminate === void 0 ? false : _props$indeterminate,\n      _props$indeterminateI = props.indeterminateIcon,\n      indeterminateIcon = _props$indeterminateI === void 0 ? defaultIndeterminateIcon : _props$indeterminateI,\n      inputProps = props.inputProps,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"checkedIcon\", \"classes\", \"color\", \"icon\", \"indeterminate\", \"indeterminateIcon\", \"inputProps\", \"size\"]);\n\n  return React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    classes: {\n      root: clsx(classes.root, classes[\"color\".concat(capitalize(color))], indeterminate && classes.indeterminate),\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    color: color,\n    inputProps: _extends({\n      'data-indeterminate': indeterminate\n    }, inputProps),\n    icon: React.cloneElement(indeterminate ? indeterminateIcon : icon, {\n      fontSize: size === 'small' ? 'small' : 'default'\n    }),\n    checkedIcon: React.cloneElement(indeterminate ? indeterminateIcon : checkedIcon, {\n      fontSize: size === 'small' ? 'small' : 'default'\n    }),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Checkbox.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary', 'default']),\n\n  /**\n   * If `true`, the checkbox will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * If `true`, the component appears indeterminate.\n   * This does not set the native input element to indeterminate due\n   * to inconsistent behavior across browsers.\n   * However, we set a `data-indeterminate` attribute on the input.\n   */\n  indeterminate: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is indeterminate.\n   */\n  indeterminateIcon: PropTypes.node,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the checkbox.\n   * `small` is equivalent to the dense checkbox styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium']),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string,\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCheckbox'\n})(Checkbox);","import React, { useState, useEffect, useContext, useRef } from \"react\"\r\nimport { GET_BUSINESSES } from \"../../../qraphQl/businessType\"\r\nimport { useLazyQuery } from \"@apollo/react-hooks\"\r\nimport AdvanceFilter from \"../../UI/AdvanceFilter/AdvanceFilter\"\r\nimport styles from \"./AdvancedSearch.module.scss\"\r\nimport Spinner from \"../../UI/Spinner/Spinner\"\r\nimport { CSSTransition } from \"react-transition-group\"\r\nimport slideDown from \"../../../cssTransition/slideDown.module.scss\"\r\nimport Page from \"../../Page/Page\"\r\nimport { DispatchContext } from \"../../../Context\"\r\nimport MapResultPage from \"../../MapResultPage/MapResultPage\"\r\nimport TopBar from \"../../TopBar/TopBar\"\r\n\r\nexport default function AdvancedSearch() {\r\n  const appDispatch = useContext(DispatchContext)\r\n  const [showFilter, setShowFilter] = useState(false)\r\n  const [zoom, setZoom] = useState(8)\r\n  const [bound, setBound] = useState([])\r\n  const [price, setPrice] = useState(null)\r\n  const [neighborhood, setNeighborhood] = useState(null)\r\n  const [neighName, setNeighName] = useState(null)\r\n  const [city, setCity] = useState(null)\r\n  const [cityName, setCityName] = useState(null)\r\n  const [subCat, setSubCat] = useState([])\r\n  const [cat, setCat] = useState(\"restaurant\")\r\n\r\n  let [getBusiness, { data, error, loading }] = useLazyQuery(GET_BUSINESSES, { fetchPolicy: \"network-only\" })\r\n\r\n  const dataFinal = typeof data != \"undefined\" ? data.businesses : []\r\n\r\n  useEffect(() => {\r\n    fetchBus()\r\n    setShowFilter(false)\r\n  }, [bound[0], price, neighName, JSON.stringify(subCat), cityName, cat])\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      appDispatch({ type: \"flashMessage\", value: { message: \"Something went wrong\", type: \"error\" } })\r\n    }\r\n  }, [error])\r\n\r\n  const onFilter = (initNeighborhood, initSubCat, initCity, initCat, initPrice) => {\r\n    setBound([])\r\n    setNeighName(null)\r\n    setCityName(null)\r\n    setSubCat([])\r\n    if (initNeighborhood) {\r\n      let parseNeigh = JSON.parse(initNeighborhood)\r\n      setNeighborhood(parseNeigh)\r\n      setNeighName(parseNeigh.name)\r\n      setZoom(13)\r\n    } else {\r\n      // if neigh is not defined filter with city\r\n      let parseCity = JSON.parse(initCity)\r\n      setCity(parseCity)\r\n      setCityName(parseCity.name)\r\n      setZoom(11)\r\n    }\r\n\r\n    if (initSubCat.length > 0) {\r\n      setSubCat(initSubCat)\r\n    }\r\n\r\n    if (initCat) {\r\n      setCat(initCat)\r\n    }\r\n\r\n    if (initPrice) {\r\n      setPrice(initPrice)\r\n    }\r\n  }\r\n\r\n  const fetchBus = () => {\r\n    let variab = {}\r\n    let limit = 20\r\n\r\n    // PART PRICE\r\n    if (price) {\r\n      variab = { ...variab, price }\r\n    }\r\n\r\n    // PART LOCATION\r\n    if (neighborhood) {\r\n      variab = { ...variab, neighborhood: neighborhood.neigh }\r\n    } else {\r\n      // if neigh is not efine we will filter by city\r\n      if (city) {\r\n        variab = { ...variab, city: city.name }\r\n      }\r\n    }\r\n\r\n    // PART BOUND\r\n    if (bound.length > 0) {\r\n      variab = { ...variab, bound }\r\n    }\r\n\r\n    // PART CATEGORY\r\n    if (subCat.length > 0) {\r\n      variab = { ...variab, subCat }\r\n\r\n      if (zoom < 14) {\r\n      }\r\n    }\r\n\r\n    if (cat) {\r\n      variab = { ...variab, cat }\r\n    }\r\n\r\n    getBusiness({ variables: { ...variab, limit } })\r\n  }\r\n\r\n  const mapBounds2 = bounds => {\r\n    console.log(bounds)\r\n    setBound(bounds)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <TopBar />\r\n      <div>\r\n        <div className={styles.showFilterBtn} onClick={() => setShowFilter(!showFilter)}>\r\n          Advanced Filter\r\n        </div>\r\n\r\n        <CSSTransition timeout={400} in={showFilter} classNames={slideDown} unmountOnExit>\r\n          <AdvanceFilter onFilter={onFilter} parentCat={cat ? cat : \"restaurant\"} />\r\n        </CSSTransition>\r\n      </div>\r\n\r\n      <Page title=\"Advanced Search\" withTopBar={false}>\r\n        {loading && <Spinner />}\r\n        <MapResultPage businesses={dataFinal} location={neighborhood || city} mapBounds2={mapBounds2} zoom={zoom} />\r\n      </Page>\r\n    </>\r\n  )\r\n}\r\n"],"sourceRoot":""}