(this.webpackJsonpalfarouq=this.webpackJsonpalfarouq||[]).push([[6],{492:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d}));var r=a(12),n=a(11),i=a.n(n);function c(){var e=Object(r.a)(["\n  mutation UpdateRevReport($id: ID!, $decision: String) {\n    updateRevReport(id: $id, data: { decision: $decision }) {\n      _id\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(r.a)(["\n  query RevReports {\n    revReports {\n      _id\n      createdAt\n      report\n      decision\n      from {\n        _id\n        userName\n        email\n      }\n      review {\n        _id\n        text\n        business {\n          _id\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}function o(){var e=Object(r.a)(["\n  mutation CreateRevReport($id: ID!, $report: String!) {\n    createRevReport(data: { id: $id, report: $report }) {\n      _id\n    }\n  }\n"]);return o=function(){return e},e}var l=i()(o()),u=i()(s()),d=i()(c())},494:function(e,t,a){"use strict";var r=a(500),n=a(501),i=a(507),c=a(502),s=a(508),o=a(1),l=a.n(o),u=(a(503),a(504),function(e){return e.show?l.a.createElement("div",{className:"Backdrop",onClick:e.clicked}):null}),d=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.update!==this.props.update}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(u,{show:this.props.show,clicked:this.props.modalClosed}),l.a.createElement("div",{className:"Modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.show?this.props.children:null))}}]),t}(o.Component);t.a=d},500:function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return r}))},501:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}a.d(t,"a",(function(){return n}))},502:function(e,t,a){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.d(t,"a",(function(){return r}))},503:function(e,t,a){},504:function(e,t,a){},507:function(e,t,a){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return(n="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}a.d(t,"a",(function(){return i}))},508:function(e,t,a){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}a.d(t,"a",(function(){return n}))},509:function(e,t,a){"use strict";var r=a(10),n=a(1),i=a.n(n),c=a(13),s=a(512),o=a.n(s),l=a(18),u=a(492),d=a(165),m=function(e){var t=e.reviewId,a=Object(n.useState)(!1),c=Object(r.a)(a,2),s=c[0],m=c[1],f=Object(n.useState)({message:null,type:null}),p=Object(r.a)(f,2),v=p[0],_=p[1],b=Object(n.useState)("explain why review is inapropriate"),h=Object(r.a)(b,2),E=h[0],g=h[1],y=Object(l.b)(u.a,{onCompleted:function(e){e.updateImage;m(!1),_({message:"Thank you we will check the review",type:"sucess"})},onError:function(e){var t=e.message.replace("GraphQL error:","");_({message:t,type:"error"})}}),w=Object(r.a)(y,2),O=w[0];w[1].loading;return i.a.createElement("div",{className:o.a.mainContainer},i.a.createElement("div",null,i.a.createElement("textarea",{className:o.a.textAreaDesc,onChange:function(e){_({message:null,type:null});e.target.value;g(e.target.value)},value:E})),i.a.createElement("span",{className:o.a.btnDesc,onClick:function(){if(!s){m(!0);var e=E.length;0==e?(_({message:"Please explain why",type:"error"}),m(!1)):E&&e>100?(_({message:"Do not exceed 100 letters you are at ".concat(e),type:"error"}),m(!1)):O({variables:{id:t,report:E}})}}},"Submit"),v.message&&i.a.createElement(d.a,{message:v.message,type:v.type}))},f=a(494),p=a(513),v=a.n(p),_=a(168),b=a(124),h=a(106),E=a(514),g=a.n(E),y=a(137),w=a(31),O=a(61),N=a(39),C=a(78),j=a(170);t.a=function(e){var t=e.review,a=Object(n.useState)(!1),s=Object(r.a)(a,2),o=s[0],l=s[1],u=Object(y.useMediaQuery)({query:"(min-device-width: 768px)"});console.log(t);var d=Object(j.a)(t),p=null,E=null,$=!1,D="business";"undefined"!=typeof t.business?(p=t.business,E="/business/".concat(p._id)):"undefined"!=typeof t.author&&((p=t.author).name=p.userName,E="/profile/".concat(p._id),D="profile",$=!0);var A=g()(t.createdAt);return i.a.createElement(n.Fragment,null,i.a.createElement(f.a,{show:o,modalClosed:function(){l(!1)}},i.a.createElement(m,{reviewId:t._id})),i.a.createElement("div",{className:v.a.revContainer,id:t._id,key:t._id},i.a.createElement("div",{className:v.a.revContainerInner},i.a.createElement("div",{className:v.a.revContainerAvatar},p.picture?i.a.createElement("img",{src:p.picture}):$?i.a.createElement(C.a,{size:"90%",color:"#0996e8"}):i.a.createElement(N.d,{size:"90%",color:"#0996e8"})),i.a.createElement("div",null,i.a.createElement("div",{className:v.a.revAuth},i.a.createElement(c.Link,{to:E},Object(w.b)(p.name))),i.a.createElement("div",{className:v.a.revChips},i.a.createElement("div",{className:"chipsContainer"},$&&i.a.createElement("div",{className:"chip"},i.a.createElement(O.a,{color:"#0996e8"}),i.a.createElement("div",{className:"label"},"".concat(p.followers.length," ").concat(u?"Followers":""))),i.a.createElement("div",{className:"chip"},i.a.createElement(O.b,{color:"#0996e8"}),i.a.createElement("div",{className:"label"},"".concat(p.nbrRev," ").concat(u?"Reviews":"")," ")),i.a.createElement("div",{className:"chip"},i.a.createElement(N.a,{color:"#0996e8"}),i.a.createElement("div",{className:"label"},"".concat(p.revPic," ").concat(u?"Photos":""))))),i.a.createElement("div",{className:v.a.location},i.a.createElement(c.Link,{to:"/business/location/casablanca"},"Casablanca")),i.a.createElement("div",{className:v.a.revRating},i.a.createElement(h.a,{value:t.rating,size:u?"medium":"small",readOnly:!0}),i.a.createElement("div",{className:v.a.date},A.format("DD-MM-YYYY"))))),i.a.createElement("p",{className:v.a.revDesc},t.text),i.a.createElement("div",{className:v.a.revPicture},i.a.createElement(_.a,{images:d,type:D})),i.a.createElement("div",{className:v.a.clap},i.a.createElement(b.a,{claps:t.claps||0,id:t._id,type:"review"})),i.a.createElement("p",{className:v.a.report},"if review is inappropriate please",i.a.createElement("span",{className:v.a.reportbtn,onClick:function(){return l(!0)}},"report it"))))}},512:function(e,t,a){e.exports={mainContainer:"ReviewReportForm_mainContainer__D1aU4",textAreaDesc:"ReviewReportForm_textAreaDesc__3KLWM",btnDesc:"ReviewReportForm_btnDesc__3oEpB"}},513:function(e,t,a){e.exports={revContainer:"ReviewCard_revContainer__1zAEQ",revContainerInner:"ReviewCard_revContainerInner___NqKk",revContainerAvatar:"ReviewCard_revContainerAvatar__24jYS",revAuth:"ReviewCard_revAuth__3-Ul-",date:"ReviewCard_date__1TuXG",revChips:"ReviewCard_revChips__Tv0KD",location:"ReviewCard_location__3XDeC",revDesc:"ReviewCard_revDesc__KU6sl",revRating:"ReviewCard_revRating__MTHIJ",clap:"ReviewCard_clap__3x5kp",report:"ReviewCard_report__2Zp2b",reportbtn:"ReviewCard_reportbtn__kwa21"}},514:function(e,t,a){e.exports=function(){"use strict";var e="millisecond",t="second",a="minute",r="hour",n="day",i="week",c="month",s="quarter",o="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},m={s:d,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),r=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+d(r,2,"0")+":"+d(n,2,"0")},m:function(e,t){var a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,c),n=t-r<0,i=e.clone().add(a+(n?-1:1),c);return Number(-(a+(t-r)/(n?r-i:i-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:c,y:o,w:i,d:n,h:r,m:a,s:t,ms:e,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",v={};v[p]=f;var _=function(e){return e instanceof g},b=function(e,t,a){var r;if(!e)return p;if("string"==typeof e)v[e]&&(r=e),t&&(v[e]=t,r=e);else{var n=e.name;v[n]=e,r=n}return a||(p=r),r},h=function(e,t,a){if(_(e))return e.clone();var r=t?"string"==typeof t?{format:t,pl:a}:t:{};return r.date=e,new g(r)},E=m;E.l=b,E.i=_,E.w=function(e,t){return h(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var g=function(){function d(e){this.$L=this.$L||b(e.locale,null,!0),this.parse(e)}var m=d.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r)return a?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(e,t){var a=h(e);return this.startOf(t)<=a&&a<=this.endOf(t)},m.isAfter=function(e,t){return h(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<h(e)},m.$g=function(e,t,a){return E.u(e)?this[t]:this.set(a,e)},m.year=function(e){return this.$g(e,"$y",o)},m.month=function(e){return this.$g(e,"$M",c)},m.day=function(e){return this.$g(e,"$W",n)},m.date=function(e){return this.$g(e,"$D","date")},m.hour=function(e){return this.$g(e,"$H",r)},m.minute=function(e){return this.$g(e,"$m",a)},m.second=function(e){return this.$g(e,"$s",t)},m.millisecond=function(t){return this.$g(t,"$ms",e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,s){var l=this,u=!!E.u(s)||s,d=E.p(e),m=function(e,t){var a=E.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return u?a:a.endOf(n)},f=function(e,t){return E.w(l.toDate()[e].apply(l.toDate(),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,v=this.$M,_=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case o:return u?m(1,0):m(31,11);case c:return u?m(1,v):m(0,v+1);case i:var h=this.$locale().weekStart||0,g=(p<h?p+7:p)-h;return m(u?_-g:_+(6-g),v);case n:case"date":return f(b+"Hours",0);case r:return f(b+"Minutes",1);case a:return f(b+"Seconds",2);case t:return f(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(i,s){var l,u=E.p(i),d="set"+(this.$u?"UTC":""),m=(l={},l[n]=d+"Date",l.date=d+"Date",l[c]=d+"Month",l[o]=d+"FullYear",l[r]=d+"Hours",l[a]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[u],f=u===n?this.$D+(s-this.$W):s;if(u===c||u===o){var p=this.clone().set("date",1);p.$d[m](f),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else m&&this.$d[m](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(e,s){var l,u=this;e=Number(e);var d=E.p(s),m=function(t){var a=h(u);return E.w(a.date(a.date()+Math.round(t*e)),u)};if(d===c)return this.set(c,this.$M+e);if(d===o)return this.set(o,this.$y+e);if(d===n)return m(1);if(d===i)return m(7);var f=(l={},l[a]=6e4,l[r]=36e5,l[t]=1e3,l)[d]||1,p=this.$d.getTime()+e*f;return E.w(p,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=E.z(this),n=this.$locale(),i=this.$H,c=this.$m,s=this.$M,o=n.weekdays,l=n.months,d=function(e,r,n,i){return e&&(e[r]||e(t,a))||n[r].substr(0,i)},m=function(e){return E.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:E.s(s+1,2,"0"),MMM:d(n.monthsShort,s,l,3),MMMM:l[s]||l(this,a),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,o,2),ddd:d(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:E.s(i,2,"0"),h:m(1),hh:m(2),a:f(i,c,!0),A:f(i,c,!1),m:String(c),mm:E.s(c,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:r};return a.replace(u,(function(e,t){return t||p[e]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(e,l,u){var d,m=E.p(l),f=h(e),p=6e4*(f.utcOffset()-this.utcOffset()),v=this-f,_=E.m(this,f);return _=(d={},d[o]=_/12,d[c]=_,d[s]=_/3,d[i]=(v-p)/6048e5,d[n]=(v-p)/864e5,d[r]=v/36e5,d[a]=v/6e4,d[t]=v/1e3,d)[m]||v,u?_:E.a(_)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return v[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=b(e,t,!0);return r&&(a.$L=r),a},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},d}();return h.prototype=g.prototype,h.extend=function(e,t){return e(t,g,h),h},h.locale=b,h.isDayjs=_,h.unix=function(e){return h(1e3*e)},h.en=v[p],h.Ls=v,h}()},540:function(e,t,a){e.exports={cardHeader:"ProfileCard_cardHeader__2lU7w",cardHeaderAvatar:"ProfileCard_cardHeaderAvatar__2gqsQ",containerAvatar:"ProfileCard_containerAvatar__14GkX",unFollowBtn:"ProfileCard_unFollowBtn__11CoR",followBtn:"ProfileCard_followBtn__3FZTu",gridCardBuz:"ProfileCard_gridCardBuz__8KBd7",gridCardBtn:"ProfileCard_gridCardBtn__2zXNg",editBtn:"ProfileCard_editBtn__3TEU7",cardHeaderName:"ProfileCard_cardHeaderName__CHwyY",cardHeadersect:"ProfileCard_cardHeadersect__1dXj9",cardHeaderAddBuz:"ProfileCard_cardHeaderAddBuz__1YmVE",cardHeaderStat:"ProfileCard_cardHeaderStat__2usXZ",cardHeaderCity:"ProfileCard_cardHeaderCity__wAbL5",cardHeaderQuote:"ProfileCard_cardHeaderQuote__2EiJE",center:"ProfileCard_center__gF_99"}},541:function(e,t,a){e.exports={paper:"ProfileTabs_paper__3L_c5"}},542:function(e,t,a){e.exports={container:"ProfileBusiness_container__3Y3An",actionDelete:"ProfileBusiness_actionDelete__1Xncf",actionEdit:"ProfileBusiness_actionEdit__2I8fH",OneBuz:"ProfileBusiness_OneBuz__2BANF"}},543:function(e,t,a){e.exports={imageGrid:"ProfilePhoto_imageGrid__3YauD"}},544:function(e,t,a){e.exports={gallery:"ImageCard_gallery__3TdzB",desc:"ImageCard_desc__olYvl",image:"ImageCard_image__oRTXO",textAreaDesc:"ImageCard_textAreaDesc__3Munz",btnDesc:"ImageCard_btnDesc__1F-RH",errorDesc:"ImageCard_errorDesc__3hZHs",editDescBtn:"ImageCard_editDescBtn__1wYjS",description:"ImageCard_description__17bEs"}},545:function(e,t,a){e.exports={gridContainer:"ProfileFriend_gridContainer__39r1R"}},546:function(e,t,a){e.exports={cardContainer:"UserCard_cardContainer__3d9ZP",city:"UserCard_city__3E4m7",name:"UserCard_name__2xp84",containerAvatar:"UserCard_containerAvatar__2HeaN",chipsContainer:"UserCard_chipsContainer__nabKj"}},547:function(e,t,a){e.exports={container:"ProfileFeed_container__1aLOQ",section:"ProfileFeed_section__3OXOr",feedEl:"ProfileFeed_feedEl__3C0ok",timeAgo:"ProfileFeed_timeAgo__2HwP7",containerAvatar:"ProfileFeed_containerAvatar__21Uxp",image:"ProfileFeed_image__1AZ8q",modalContainer:"ProfileFeed_modalContainer__26_Bd",modalContent:"ProfileFeed_modalContent__2Fj4o",review:"ProfileFeed_review__2oE2B",close:"ProfileFeed_close__1e7BY"}},548:function(e,t,a){e.exports={mainArea:"ProfileMain_mainArea__rqcgO"}},590:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(234),c=a(52),s=a(10),o=a(13),l=a(540),u=a.n(l),d=a(18),m=a(12),f=a(11),p=a.n(f);function v(){var e=Object(m.a)(["\n  mutation DeleteFollow($user: String!) {\n    deleteFollow(data: { user: $user }) {\n      _id\n    }\n  }\n"]);return v=function(){return e},e}function _(){var e=Object(m.a)(["\n  mutation CreateFollow($user: String!) {\n    createFollow(data: { user: $user }) {\n      _id\n    }\n  }\n"]);return _=function(){return e},e}function b(){var e=Object(m.a)(["\n  query Followers($userId: ID!) {\n    followers(userId: $userId) {\n      follower {\n        _id\n        userName\n        picture\n        nbrRev\n        revPic\n        description\n        city\n      }\n    }\n  }\n"]);return b=function(){return e},e}p()(b());var h=p()(_()),E=p()(v()),g=a(137),y=a(30),w=a(31),O=a(61),N=a(39),C=a(78);var j=function(e){var t=e.user,a=e.me,i=e.followers,c=Object(r.useContext)(y.a),l=a?a.followings.map((function(e){return e.user._id})):[],m=Object(g.useMediaQuery)({query:"(min-device-width: 768px)"}),f=Object(d.b)(h,{onCompleted:function(){c({type:"flashMessage",value:{message:"you are now following ".concat(t.userName),type:"success"}})},onError:function(e){c({type:"flashMessage",value:{message:e.message.replace("GraphQL error:",""),type:"error"}})}}),p=Object(s.a)(f,1)[0],v=Object(d.b)(E,{onCompleted:function(){c({type:"flashMessage",value:{message:"no longer following ".concat(t.userName),type:"success"}})},onError:function(e){c({type:"flashMessage",value:{message:e.message.replace("GraphQL error:",""),type:"error"}})}}),_=Object(s.a)(v,1)[0],b=a?a._id:null,j=b==t._id,$=!1;l.length&&($=l.includes(t._id));var D=function(){p({variables:{user:t._id}})},A=function(){_({variables:{user:t._id}})};return n.a.createElement("div",{className:u.a.cardHeader},n.a.createElement("div",{className:u.a.cardHeaderAvatar},n.a.createElement("div",{className:u.a.containerAvatar},t.picture?n.a.createElement("img",{src:t.picture}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),j||!b?null:$?n.a.createElement("div",{className:u.a.unFollowBtn,onClick:A},"unFollow"):n.a.createElement("div",{className:u.a.followBtn,onClick:D},"Follow Me")),n.a.createElement("div",null,n.a.createElement("div",{className:u.a.cardHeadersect},n.a.createElement("span",{className:u.a.cardHeaderName},Object(w.b)(t.userName)),j&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:u.a.editBtn},n.a.createElement(o.Link,{to:"/profile/edit/".concat(t._id)},"Edit Profile")),n.a.createElement("div",{className:u.a.cardHeaderAddBuz},n.a.createElement(o.Link,{to:"/business/create"},"Add Business")))),n.a.createElement("div",{className:u.a.center},n.a.createElement("div",{className:"chipsContainer"},n.a.createElement("div",{className:"chip"},n.a.createElement(O.a,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},"".concat(i.length," ").concat(m?"Followers":""))),n.a.createElement("div",{className:"chip"},n.a.createElement(O.b,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},"".concat(t.nbrRev," ").concat(m?"Reviews":"")," ")),n.a.createElement("div",{className:"chip"},n.a.createElement(N.a,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},"".concat(t.revPic," ").concat(m?"Photos":""))))),n.a.createElement("div",null,n.a.createElement("div",{className:u.a.cardHeaderCity},t.city),n.a.createElement("div",{className:u.a.cardHeaderQuote},'"',t.description,'"'))))},$=a(592),D=a(576),A=a(541),S=a.n(A),P=Object(c.o)((function(e){var t=e.history,a=e.profile,i=e.tab,c=e.me,o=Object(r.useState)(i||""),l=Object(s.a)(o,2),u=l[0],d=l[1],m=(c?c._id:null)==a;return n.a.createElement("div",{className:S.a.paper},n.a.createElement($.a,{value:u,indicatorColor:"primary",textColor:"primary",onChange:function(e,r){d(r),t.push("/profile/".concat(a,"/").concat(r))},variant:"scrollable",scrollButtons:"off"},n.a.createElement(D.a,{label:"News",value:""}),n.a.createElement(D.a,{label:"Reviews",value:"review"}),n.a.createElement(D.a,{label:"Followers",value:"friend"}),n.a.createElement(D.a,{label:"Photos",value:"photo"}),m&&n.a.createElement(D.a,{label:"Business",value:"business"})))})),k=a(167),M=a(40),R=a(542),x=a.n(R);var I=function(e){var t=e.business,a=e.isOwner;return n.a.createElement("section",null,n.a.createElement("div",{className:x.a.container},t.map((function(e){var t=e._id;return n.a.createElement("div",{key:t,className:x.a.OneBuz},n.a.createElement(k.a,{data:e}),n.a.createElement("div",null),a&&n.a.createElement("div",{className:x.a.actionEdit},n.a.createElement(o.Link,{to:"/business/edit/".concat(e._id),style:{textDecoration:"none"}},n.a.createElement(M.a,{variant:"contained",color:"secondary"},"edit"))))}))))},F=a(543),H=a.n(F),B=a(88),L=a(544),Y=a.n(L),z=a(38),T=function(e){var t=e.singleImg,a=e.isOwner,i=Object(r.useRef)(null),c=Object(r.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1],m=Object(r.useState)(t.desc),f=Object(s.a)(m,2),p=f[0],v=f[1],_=Object(r.useState)("Add description"),b=Object(s.a)(_,2),h=b[0],E=b[1],g=Object(r.useState)(null),y=Object(s.a)(g,2),w=y[0],O=y[1],N=Object(d.b)(B.d,{onCompleted:function(e){var t=e.updateImage;u(!1),v(t.desc)},onError:function(e){O("Something went wrong try again")}}),C=Object(s.a)(N,2),j=C[0],$=C[1].loading,D=function(e){O(null);e.target.value;E(e.target.value)},A=function(){if(!l){u(!0);var e=h.length;0==e?(O("Add a description"),u(!1)):h&&e>80?(O("Do not exceed 80 letters you are at ".concat(e)),u(!1)):j({variables:{id:t.picId,desc:h}})}};Object(r.useEffect)((function(){!p&&a&&i.current.focus()}),[p,a]);var S=function(){E(p),v(null)};return n.a.createElement("div",{className:Y.a.gallery},n.a.createElement("div",{className:Y.a.image},n.a.createElement("img",{src:t.picture,alt:"",width:"600",height:"400"})),n.a.createElement("div",{className:Y.a.desc},$&&n.a.createElement(z.a,null),a?p?n.a.createElement("div",null,n.a.createElement("div",{className:Y.a.description},p),n.a.createElement("span",{className:Y.a.editDescBtn,onClick:S},"edit")):n.a.createElement("div",null,n.a.createElement("textarea",{ref:i,className:Y.a.textAreaDesc,onChange:D,value:h}),a&&n.a.createElement("span",{className:Y.a.btnDesc,onClick:A},"Done"),w&&n.a.createElement("p",{className:Y.a.errorDesc},w)):a?void 0:p?n.a.createElement("div",{className:Y.a.description},p):null))},U=a(111),W=a(170);var Q=function(e){var t=e.reviews,a=e.isOwner,i=Object(r.useState)(!1),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)(0),d=Object(s.a)(u,2),m=d[0],f=d[1],p=Object(W.a)(t);return n.a.createElement(r.Fragment,null,o&&n.a.createElement(U.a,{images:p,close:function(){l(!1)},selectedImg:m,type:"business"}),n.a.createElement("div",{className:H.a.imageGrid},p.map((function(e,t){return n.a.createElement("div",{key:e.picId,onClick:function(){return function(e){console.log(e),f(e),l(!0)}(t)}},n.a.createElement(T,{singleImg:e,isOwner:a}))}))))},q=a(545),Z=a.n(q),G=a(546),X=a.n(G),J=function(e){var t=e.friend;return n.a.createElement("div",{key:t._id,className:X.a.cardContainer},n.a.createElement(o.Link,{to:"/profile/".concat(t._id)},n.a.createElement("div",{className:X.a.containerAvatar},t.picture?n.a.createElement("img",{src:t.picture}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"}))),n.a.createElement("div",{className:X.a.userMeta},n.a.createElement("div",{className:X.a.name}," ",n.a.createElement(o.Link,{to:"/profile/".concat(t._id)}," ",t.userName)),n.a.createElement("div",null,n.a.createElement("div",{className:X.a.chipsContainer},n.a.createElement("div",{className:"chip"},n.a.createElement(O.a,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},t.nbrRev," ")),n.a.createElement("div",{className:"chip"},n.a.createElement(O.b,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},t.nbrRev," ")),n.a.createElement("div",{className:"chip"},n.a.createElement(N.a,{color:"#0996e8"}),n.a.createElement("div",{className:"label"},t.revPic))),n.a.createElement("div",{className:X.a.city},t.city))))};var K=function(e){var t=e.friend;return n.a.createElement("div",{className:Z.a.gridContainer},t.map((function(e,t){return n.a.createElement(J,{friend:e,key:t})})))},V=a(509);var ee=function(e){var t=e.reviews;return n.a.createElement(r.Fragment,null,t.map((function(e){return n.a.createElement(V.a,{review:e,key:e._id})})))},te=(a(528),function(e){var t=e.followings,a=e.recipient,r=[];a.map((function(e){var t={type:"ur",id:e._id,action:e.action,createdAt:e.createdAt,recipient:null,performer:e.performer?e.performer:null,business:e.business?e.business:null,image:e.image?e.image:null,review:e.review?e.review:null};r.push(t)}));var n,i,c=!0,s=!1,o=void 0;try{for(var l,u=t[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var d=l.value,m=!0,f=!1,p=void 0;try{for(var v,_=d.user.performer[Symbol.iterator]();!(m=(v=_.next()).done);m=!0){var b=v.value,h={performer:d.user,type:"follow",id:b._id,action:b.action,createdAt:b.createdAt,recipient:b.recipient?b.recipient:null,business:b.business?b.business:null,image:b.image?b.image:null,review:b.review?b.review:null};r.push(h)}}catch(E){f=!0,p=E}finally{try{m||null==_.return||_.return()}finally{if(f)throw p}}}}catch(E){s=!0,o=E}finally{try{c||null==u.return||u.return()}finally{if(s)throw o}}return i="id",(r=(n=r).map((function(e){return e[i]})).map((function(e,t,a){return a.indexOf(e)===t&&t})).filter((function(e){return n[e]})).map((function(e){return n[e]}))).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),r});var ae=a(169),re=a(59),ne=a(547),ie=a.n(ne),ce=function(e){var t=[],a={picId:e.image._id,picture:e.image.picture,picDesc:e.image.desc,picClaps:e.image.claps||0,id:e.business._id,name:e.business.name,profPic:e.business.picture,nbrRev:e.business.nbrRev,revPic:e.business.revPic,createdAt:e.image.createdAt};return t.push(a),t};var se=function(){var e=Object(c.m)().id,t=Object(d.c)(re.f,{variables:{id:e}}),a=(t.loading,t.data),i=(t.error,null),l=Object(r.useState)([]),u=Object(s.a)(l,2),m=u[0],f=u[1],p=Object(r.useState)(!1),v=Object(s.a)(p,2),_=v[0],b=v[1],h=Object(r.useState)(null),E=Object(s.a)(h,2),g=E[0],y=E[1],O=Object(r.useState)(!1),N=Object(s.a)(O,2),j=N[0],$=N[1],D=Object(r.useState)(0),A=Object(s.a)(D,2),S=A[0];A[1],a&&(console.log(a.user),i=te(a.user));var P=function(e){console.log(e);var t=ce(e);f(t),b(!0)},k=function(e){var t=e.review;t.business=e.business,y(t),$(!0)};return n.a.createElement(n.a.Fragment,null,_&&n.a.createElement(U.a,{images:m,close:function(){b(!1)},selectedImg:S,type:"business"}),j&&n.a.createElement("div",{className:ie.a.modalContainer},n.a.createElement("div",{className:ie.a.modalContent},n.a.createElement("div",{className:ie.a.close,onClick:function(){return $(!1)}},"Close"),n.a.createElement("div",{className:ie.a.review},n.a.createElement(V.a,{review:g})))),n.a.createElement("div",{className:ie.a.container},i&&i.map((function(e,t){return n.a.createElement("div",{key:t},function(e){var t=null;switch(e.action){case"ADD_BUS":t=n.a.createElement("div",{className:ie.a.feedEl},n.a.createElement("div",{className:ie.a.containerAvatar},e.performerPic?n.a.createElement("img",{src:e.performerPic}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),n.a.createElement("div",{className:ie.a.section},n.a.createElement(o.Link,{to:"/profile/".concat(e.performerID)},Object(w.b)(e.performerName))," added a new business : ",n.a.createElement(o.Link,{to:"/business/".concat(e.business._id)},Object(w.b)(e.business.name)),n.a.createElement("span",{className:ie.a.timeAgo},Object(ae.a)(e.createdAt))));break;case"FOLLOW":t=n.a.createElement("div",{className:ie.a.feedEl},n.a.createElement("div",{className:ie.a.containerAvatar},e.performerPic?n.a.createElement("img",{src:e.performerPic}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),n.a.createElement("div",{className:ie.a.section},n.a.createElement(o.Link,{to:"/profile/".concat(e.performer._id)},Object(w.b)(e.performer.userName))," started following ",e.recipientID?n.a.createElement(o.Link,{to:"/profile/".concat(e.recipientID)},Object(w.b)(e.recipientName)):"You",n.a.createElement("span",{className:ie.a.timeAgo},Object(ae.a)(e.createdAt))));break;case"ADD_REVIEW":t=n.a.createElement("div",{className:ie.a.feedEl},n.a.createElement("div",{className:ie.a.containerAvatar},e.performerPic?n.a.createElement("img",{src:e.performerPic}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),n.a.createElement("div",{className:ie.a.section},n.a.createElement(o.Link,{to:"/profile/".concat(e.performer._id)},Object(w.b)(e.performer.userName))," added a"," ",n.a.createElement("span",{className:ie.a.image,onClick:function(){return k(e)}},"review")," ","to ",n.a.createElement(o.Link,{to:"/business/".concat(e.business._id)},Object(w.b)(e.business.name)),n.a.createElement("span",{className:ie.a.timeAgo},Object(ae.a)(e.createdAt))));break;case"CLAP_REVIEW":t=n.a.createElement("div",{className:ie.a.feedEl},n.a.createElement("div",{className:ie.a.containerAvatar},e.performerPic?n.a.createElement("img",{src:e.performerPic}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),n.a.createElement("div",{className:ie.a.section},n.a.createElement(o.Link,{to:"/profile/".concat(e.performer._id)},Object(w.b)(e.performer.userName))," clapped to ","ur"==e.type?"your":"a"," ",n.a.createElement("span",{className:ie.a.image,onClick:function(){return k(e)}},"review")," ","for ",n.a.createElement(o.Link,{to:"/business/".concat(e.business._id)},Object(w.b)(e.business.name)),n.a.createElement("span",{className:ie.a.timeAgo},Object(ae.a)(e.createdAt))));break;case"CLAP_IMAGE":t=n.a.createElement("div",{className:ie.a.feedEl},n.a.createElement("div",{className:ie.a.containerAvatar},e.performer.picture?n.a.createElement("img",{src:e.performer.picture}):n.a.createElement(C.a,{size:"90%",color:"#0996e8"})),n.a.createElement("div",{className:ie.a.section},n.a.createElement(o.Link,{to:"/profile/".concat(e.performer._id)},Object(w.b)(e.performer.userName))," clapped to an"," ",n.a.createElement("span",{className:ie.a.image,onClick:function(){return P(e)}},"image")," ","by ","ur"==e.type?"you":n.a.createElement(o.Link,{to:"/profile/".concat(e.recipient._id)},Object(w.b)(e.recipient.userName)),n.a.createElement("span",{className:ie.a.timeAgo},Object(ae.a)(e.createdAt))))}return t}(e))}))))},oe=a(548),le=a.n(oe),ue=function(e){var t=e.info,a=e.tab,r=(t.recipient,t.followings,t.followers),s=t.business,o=t.reviews,l=Object(i.a)(t,["recipient","followings","followers","business","reviews"]),u=Object(d.c)(re.e).data;r=r.map((function(e){return e.follower}));var m=!!u&&u.me._id==l._id;return n.a.createElement("div",null,n.a.createElement(j,{user:l,followers:r,me:u?u.me:null}),n.a.createElement(P,{profile:l._id,tab:a,me:u?u.me:null}),n.a.createElement("div",{className:le.a.mainArea},n.a.createElement(c.g,null,n.a.createElement(c.d,{path:"/profile/:id",render:function(){return n.a.createElement(se,null)},exact:!0}),n.a.createElement(c.d,{path:"/profile/:id/business",render:function(){return n.a.createElement(I,{business:s,isOwner:m})}}),n.a.createElement(c.d,{path:"/profile/:id/photo",render:function(){return n.a.createElement(Q,{reviews:o,isOwner:m})}}),n.a.createElement(c.d,{path:"/profile/:id/friend",render:function(){return n.a.createElement(K,{friend:r})}}),n.a.createElement(c.d,{path:"/profile/:id/review",render:function(){return n.a.createElement(ee,{reviews:o})}}))))},de=a(77);t.default=function(e){var t=Object(r.useContext)(y.a),a=e.match.params.id,i=Object(d.c)(re.g,{variables:{id:a}}),c=i.loading,s=i.data,o=i.error;return Object(r.useEffect)((function(){o&&t({type:"flashMessage",value:{message:"Something is wrong",type:"error"}})}),[o]),console.log(s),n.a.createElement(de.a,{title:"Profile",withTopBar:!0},c&&n.a.createElement(z.a,null),"undefined"!=typeof s&&s&&n.a.createElement(ue,{info:s.user,tab:e.match.params.tab}))}}}]);
//# sourceMappingURL=6.22d1b975.chunk.js.map