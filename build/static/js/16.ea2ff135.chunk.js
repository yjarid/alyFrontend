(this.webpackJsonpalfarouq=this.webpackJsonpalfarouq||[]).push([[16],{596:function(e,a,t){"use strict";t.r(a);var r=t(10),n=t(1),s=t.n(n),l=t(18),i=t(13),o=t(62),c=t.n(o),u=t(40),m=t(25),d=t(35),p=function(e){var a=e.login,t=(e.loading,Object(m.f)({mapPropsToValues:function(e){return{email:e.email||"",password:e.password||""}},validationSchema:d.object().shape({email:d.string().email("Email not valid").required("Email is required"),password:d.string().min(6,"Password must be 6 characters or longer").max(30,"name should be at most 30 characters").required("Password is required")}),handleSubmit:function(e,t){t.setSubmitting,t.setFieldError;a({variables:e})}})((function(e){e.values,e.errors,e.touched,e.isSubmitting;return s.a.createElement("div",{className:c.a.topContainer},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:c.a.title},"Login"),s.a.createElement(m.d,null,s.a.createElement("div",{className:c.a.innerContainer},s.a.createElement("div",null,s.a.createElement(u.d,{disabled:!1,type:"email",name:"email",label:"Your Email"})),s.a.createElement("div",null,s.a.createElement(u.d,{disabled:!1,type:"password",name:"password",label:"Your Password"})),s.a.createElement(u.a,{type:"submit"},"Login"))),s.a.createElement("div",{className:c.a.note},s.a.createElement("p",null,"not a menber please",s.a.createElement("strong",null,s.a.createElement(i.Link,{to:"/register"}," Register "))),s.a.createElement("p",null,s.a.createElement(i.Link,{to:"/resetPassword"}," Forgot Password ")))))})));return s.a.createElement(t,null)},g=t(28),E=(t(165),t(38)),b=t(173),f=t.n(b),v=t(59),h=t(30),w=t(77);function y(e){var a=Object(n.useContext)(h.a),t=f.a.parse(e.location.search);Object(n.useEffect)((function(){t&&t.confirm&&a({type:"flashMessage",value:{message:"Your acount is active please Login",type:"success"}})}),[]);var i=Object(l.b)(v.c,{onCompleted:function(t){var r=t.login;Object(g.d)(r.token),a({type:"flashMessage",value:{message:"Login successful",type:"success"}}),a({type:"login",value:{userId:r.user._id,type:r.user.type}}),e.history.push("/")},onError:function(e){var t=e.message.replace("GraphQL error:","");a({type:"flashMessage",value:{message:t,type:"error"}})}}),o=Object(r.a)(i,2),c=o[0],u=o[1],m=u.loading;u.error;return s.a.createElement(w.a,{title:"Loging In",withTopBar:!0},s.a.createElement(p,{login:c}),m&&s.a.createElement(E.a,null))}t.d(a,"default",(function(){return y}))}}]);
//# sourceMappingURL=16.ea2ff135.chunk.js.map