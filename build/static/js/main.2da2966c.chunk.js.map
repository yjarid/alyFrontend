{"version":3,"sources":["components/UI/FlashMessage/FlashMessage.module.scss","components/Search/SearchFilter/SearchResList/SearchResList.module.scss","qraphQl/businessType.js","components/UI/CustomFields/StyledRating.js","components/UI/ImageModal/ImageModal.js","components/UI/Clap/useClapAnimation.js","components/UI/Clap/Clap.js","qraphQl/reviewType.js","components/Register/Forms/LoginBtn/LoginBtn.js","components/Search/SearchFilter/SearchResList/SearchReslist.js","components/Search/SearchFilter/SearchFilter.js","components/UI/ImageGrid/ImageGrid.module.scss","components/UI/Upload/DropZone.module.scss","components/UI/Spinner/Spinner.module.scss","cssTransition/inputError.module.scss","components/FrontPage/FrontPage.module.scss","components/Profile/EditProfile.module.scss","qraphQl/taxonomyType.js","components/UI/FlashMessage/FlashMessage.js","components/UI/Cards/BuzCard/BuzCard.js","components/UI/ImageGrid/ImageGrid.js","utils/timeAgo.js","utils/imageFromReviews.js","static/image/logo.png","components/TopBar/TopBar.js","static/image/logo.jpg","components/UI/Upload/DropZone.js","components/Business/BizList/BizList.module.scss","components/TopBar/TopBar.module.scss","AccessToken.js","components/UI/ImageModal/ImageModal.module.scss","Context.js","utils/string.js","components/UI/Spinner/Spinner.js","components/UI/CustomFields/CustomField.js","components/Search/SearchFilter/SearchFilter.module.scss","components/FrontPage/FPHeader/FPHeader.js","components/Business/BizList/BizList.js","components/UI/Cards/ReviewCard/FeaturedReview/FeaturedReview.js","components/UI/Cards/ImageCard/FeaturedImage/FeaturedImage.js","components/FrontPage/FrontPage.js","components/NoPageFound/NoPageFound.js","axios/axios.js","components/Register/ResetPassword.js","components/Register/ChangePassword.js","components/Profile/EditProfile.js","components/Footer/Footer.js","routers/AppRouter.js","App.js","index.js","components/UI/Cards/BuzCard/BuzCard.module.scss","components/UI/Cards/ReviewCard/FeaturedReview/FeaturedReview.module.scss","components/Footer/Footer.module.scss","components/Register/Forms/LoginBtn/LoginBtn.module.scss","components/UI/Clap/Clap.module.scss","qraphQl/userType.js","components/Register/Forms/Register.module.scss","components/UI/Cards/ImageCard/FeaturedImage/FeaturedImage.module.scss","components/Page/Page.js","qraphQl/imageType.js","components/FrontPage/FPHeader/FPHeader.module.scss"],"names":["module","exports","GET_BUSINESS","gql","GET_BUSINESS_WITH_REVIEWS","GET_BUSINESSES","UPDATE_BUSINESS","CREATE_BUSINESS","DELETE_BUSINESS","CREATE_CLAIM","StyledRating","withStyles","iconFilled","color","Rating","ImageModal","close","images","selectedImg","type","initialIndex","useState","index","setIndex","moveImage","i","prevIndex","className","styles","modalContainer","imageMeta","user","imgContainer","to","id","revContainerAvatar","profPic","src","size","userName","name","nbrRev","revPic","date","timeAgo","createdAt","description","picDesc","likebtn","claps","picClaps","picId","image","onClick","modalContent","picture","replace","alt","prev","length","next","useClapAnimation","clapEl","countEl","clapTotalEl","mojs","Timeline","animationTimeline","setAnimationTimeline","useLayoutEffect","scaleButton","Html","el","duration","scale","1.3","easing","ease","out","triangleBurst","Burst","parent","radius","50","count","angle","children","shape","6","stroke","strokeWidth","delay","speed","bezier","circleBurst","fill","3","countAnimation","opacity","0","y","then","1","tlDuration","countTotalAnimation","document","getElementById","style","transform","newAnimationTimeline","add","ClapIcon","isClicked","xmlns","viewBox","icon","checked","d","ClapCount","setRef","ref","data-refkey","CountTotal","countTotal","console","log","total","MediumClap","appDispatch","useContext","DispatchContext","clapState","setClapState","disableBtn","sendDataCount","setSendDataCount","clapRef","clapCountRef","clapTotalRef","setRefState","graphQlQuery","UPDATE_REVIEW","UPDATE_IMAGE_CLAPS","useMutation","updateClaps","data","error","loading","stateError","setStateError","useEffect","updateReview","updateImage","message","prevState","setTimeout","variables","clearTimeout","useCallback","node","prevRefState","dataset","refkey","clapContainer","clap","isLoged","loginRequired","replay","disabled","initialTot","CREATE_REVIEW","GET_REVIEWS","withRouter","props","FP","appState","StateContext","LOGOUT","onCompleted","setAccessToken","client","resetStore","value","onError","logout","userId","btnSection","btnSection2","btn","btn2","SearchResList","selectSearchVal","result","innerResult","map","neigh","item","key","_id","cat","upCaseFirstLetter","noData","history","status","nameErr","setNameErr","locationErr","setLocationErr","setName","location","setLocation","selectedLocation","setSelectedLocation","selectedLocationCat","setSelectedLocationCat","busSug","setBusSug","locSug","setLocSug","nameCount","setNameCount","locationCount","setLocationCount","doFetch","setDoFetch","useLazyQuery","businesses","getBusiness","LOCATIONS","locations","getLocation","query","limit","val","onSubmit","e","preventDefault","push","pathname","search","searchFormContainer","searchFormSection","searchInput","searchInput2","onChange","event","target","onBlur","placeholder","autoComplete","CSSTransition","in","timeout","classNames","inputError","unmountOnExit","SearchReslist","LOCATION","CATEGORIES","UPDATE_LOCATION","CREATE_LOCATION","DELETE_LOCATION","UPDATE_CATEGORY","CREATE_CATEGORY","DELETE_CATEGORY","FlashMessage","React","forwardRef","floatingAlerts","messages","msg","alertStyle","alertSuccess","alertError","floatingAlert","BuzCard","rating","totRev","paper","head","headInner","imageContainer","title","price","city","neighborhood","subCat","precision","readOnly","desc","truncate","ImageGrid","top","showModalBtn","showModal","setShowModal","imgGridTop","imgGrid","finalImage","singleImg","time","Date","templates","prefix","suffix","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","template","t","n","Math","abs","round","getTime","useImageFromReviews","reviews","modalInfo","Array","isArray","forEach","review","entity","author","business","pic","detailedInfo","TopBar","showMobileMenu","setShowMobileMenu","mainContainer","TopBarMobile","TopBarMobileLogo","require","menuIcon","menuIconClose","menuIconMidle","innerContainer","innerContainerVisible","logo","grid","searchFilter","advSearch","login","DropZone","field","form","setFieldValue","img","setImg","onDrop","acceptedFiles","file","myFileReader","FileReader","addEventListener","readAsDataURL","useDropzone","multiple","getRootProps","getInputProps","isDragActive","buzPicture","dropBox","imgProfile","AccessToken","getAccessToken","s","window","scrollTo","loggedInUser","token","jwtDecode","createContext","str","splitStr","toLowerCase","split","charAt","toUpperCase","substring","join","no_words","strArr","splice","concat","Spinner","container","ldsRing","MyTextField","makeStyles","theme","formControl","margin","spacing","minWidth","root","label","classes","useField","meta","errorText","touched","helperText","variant","fullWidth","MyTextArea","rows","multiline","MyButton","justifyItems","display","padding","border","lineHeight","backgroundColor","borderColor","boxShadow","Button","MaterialUISelectField","errorString","MySelect","option","as","FPHeader","imageIndex","setImageIndex","useQuery","GET_TOP_FEATURED_IMAGES","topFeatured","isTablet","useMediaQuery","ImageSize","floor","random","bgImage","backgroundImage","navigation","LoginBtn","main","SearchFilter","imageInfo","BizList","published","authorID","body","bizList","FeaturedReview","featured","rev","imageFromReviews","revContainer","revContainerInner","revAuth","followers","busSection","busName","revRating","revDesc","text","revPicture","Clap","FeaturedImage","selectedImgIndex","setSelectedImgIndex","GET_FEATURED_IMAGES","imageClickHandler","FrontPage","reviewGrid","imageGrid","NoPageFound","instance","axios","create","baseURL","process","withCredentials","createAuthRefreshInterceptor","failedRequest","config","refTok","localStorage","getItem","post","res","response","acsTok","Promise","resolve","ResetPassword","ResetForm","withFormik","mapPropsToValues","email","validationSchema","Yup","required","handleSubmit","values","setSubmitting","setFieldError","catch","err","note","Page","withTopBar","ChangePassword","genError","setGenError","useParams","queryString","parse","CHANGE_PASS","changePass","pass","confPass","min","max","oneOf","password","errors","isSubmitting","generalError","EditProfile","updatedProfile","setUpdatedProfile","match","params","GET_USER","UPDATE_USER","updateUser","loadingU","finalData","EditProfileForm","enableReinitialize","resetForm","pictureId","component","link","ComponentName","socialMedia","bottom","copyright","law","TaxBizList","lazy","Profile","BuzSinglePage","SearchResultPage","AdminMain","Newbuz","Editbuz","Register","Login","AdvancedSearch","AppRouter","initialState","flash","useImmerReducer","draft","action","state","dispatch","Provider","fallback","path","exact","render","Footer","App","setLoading","credentials","accessToken","ReactDOM","cache","InMemoryCache","requestLink","ApolloLink","operation","forward","Observable","observer","handle","setContext","headers","authorization","subscribe","bind","complete","unsubscribe","ApolloClient","from","TokenRefreshLink","accessTokenField","isTokenValidOrUndefined","exp","now","fetchAccessToken","fetch","method","handleFetch","handleError","warn","createUploadLink","uri","REGISTER","LOGIN","ME","PROFILE_INFO","PROFILE_FEED","UPDATE_IMAGE_DESC"],"mappings":"yFACAA,EAAOC,QAAU,CAAC,WAAa,iCAAiC,aAAe,mCAAmC,eAAiB,qCAAqC,cAAgB,sC,oBCAxLD,EAAOC,QAAU,CAAC,YAAc,mCAAmC,OAAS,8BAA8B,KAAO,4BAA4B,OAAS,gC,8oICC/I,IAAMC,EAAeC,IAAH,KAyBZC,EAA4BD,IAAH,KAiDzBE,EAAiBF,IAAH,KAyBdG,EAAkBH,IAAH,KAuBfI,EAAkBJ,IAAH,KASfK,EAAkBL,IAAH,KASfM,EAAeN,IAAH,M,iCC9IzB,sDAGcO,EAAeC,YAAW,CACpCC,WAAY,CACVC,MAAO,YAFgBF,CAIxBG,M,kKCEU,SAASC,EAAT,GAA2D,IAArCC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,YAAaC,EAAQ,EAARA,KAC3DC,EAAeF,GAA4B,EADwB,EAE7CG,mBAASD,GAFoC,mBAEhEE,EAFgE,KAEzDC,EAFyD,KAIjEC,EAAY,SAAAC,GAChBF,GAAS,SAAAG,GAAS,OAAIA,EAAYD,MAGpC,OACE,yBAAKE,UAAWC,IAAOC,gBACrB,yBAAKF,UAAWC,IAAOE,WACrB,yBAAKH,UAAWC,IAAOG,MACrB,yBAAKJ,UAAWC,IAAOI,cACrB,kBAAC,OAAD,CAAMC,GAAE,WAAc,YAARd,EAAqB,WAAa,UAAxC,YAAqDF,EAAOK,GAAOY,KACzE,yBAAKP,UAAWC,IAAOO,oBAAqBlB,EAAOK,GAAOc,QAAU,yBAAKC,IAAKpB,EAAOK,GAAOc,UAAc,kBAAC,IAAD,CAAcE,KAAK,MAAMzB,MAAM,eAI7I,6BACE,wBAAIc,UAAWC,IAAOW,UACpB,kBAAC,OAAD,CAAMN,GAAE,WAAc,YAARd,EAAqB,WAAa,UAAxC,YAAqDF,EAAOK,GAAOY,KAAOjB,EAAOK,GAAOkB,OAElG,yBAAKb,UAAU,kBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAYd,MAAM,YAClB,yBAAKc,UAAU,SAASV,EAAOK,GAAOmB,OAAtC,MAEF,yBAAKd,UAAU,QACb,kBAAC,IAAD,CAAcd,MAAM,YACpB,yBAAKc,UAAU,SAASV,EAAOK,GAAOoB,UAG1C,uBAAGf,UAAWC,IAAOe,MAAOC,YAAQ3B,EAAOK,GAAOuB,cAGtD,yBAAKlB,UAAWC,IAAOkB,aAAc7B,EAAOK,GAAOyB,SAEnD,yBAAKpB,UAAWC,IAAOoB,SACrB,kBAAC,IAAD,CAAMC,MAAOhC,EAAOK,GAAO4B,SAAUhB,GAAIjB,EAAOK,GAAO6B,UAG3D,yBAAKxB,UAAWC,IAAOwB,OACrB,0BAAMzB,UAAWC,IAAOZ,MAAOqC,QAASrC,GAAxC,QAGA,yBAAKW,UAAWC,IAAO0B,aAAcjB,IAAKpB,EAAOK,GAAOiC,QAAQC,QAAQ,WAAY,WAAYC,IAAI,SAC1F,GAATnC,GACC,0BAAMK,UAAWC,IAAO8B,KAAML,QAAS,kBAAM7B,GAAW,KAAxD,UAIDF,GAASL,EAAO0C,OAAS,GACxB,0BAAMhC,UAAWC,IAAOgC,KAAMP,QAAS,kBAAM7B,EAAU,KAAvD,c,sFC8BKqC,EAtFU,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAAkB,EACX3C,oBAAS,kBAAM,IAAI4C,IAAKC,YADb,mBACtDC,EADsD,KACnCC,EADmC,KAmF7D,OAhFAC,2BAAgB,WACd,GAAKP,GAAWC,GAAYC,EAA5B,CAIA,IACMM,EAAc,IAAIL,IAAKM,KAAK,CAChCC,GAAIV,EACJW,SAHiB,IAIjBC,MAAO,CAAEC,IAAK,GACdC,OAAQX,IAAKW,OAAOC,KAAKC,MAGrBC,EAAgB,IAAId,IAAKe,MAAM,CACnCC,OAAQnB,EACRoB,OAAQ,CAAEC,GAAI,IACdC,MAAO,EACPC,MAAO,GACPC,SAAU,CACRC,MAAO,UACPL,OAAQ,CAAEM,EAAG,GACbC,OAAQ,qBACRC,YAAa,EACbL,MAAO,IACPM,MAAO,GACPC,MAAO,GACPhB,OAAQX,IAAKW,OAAOiB,OAAO,GAAK,EAAG,GAAK,GACxCpB,SAtBe,OA0BbqB,EAAc,IAAI7B,IAAKe,MAAM,CACjCC,OAAQnB,EACRoB,OAAQ,CAAEC,GAAI,IACdE,MAAO,GACPZ,SA9BiB,IA+BjBa,SAAU,CACRC,MAAO,SACPQ,KAAM,wBACNJ,MAAO,GACPC,MAAO,GACPV,OAAQ,CAAEc,EAAG,GACbpB,OAAQX,IAAKW,OAAOiB,OAAO,GAAK,EAAG,GAAK,MAItCI,EAAiB,IAAIhC,IAAKM,KAAK,CACnCC,GAAIT,EACJmC,QAAS,CAAEC,EAAG,GACdC,EAAG,CAAED,GAAI,IACT1B,SA7CiB,MA8ChB4B,KAAK,CACNH,QAAS,CAAEI,EAAG,GACdF,GAAI,GACJT,MAAOY,MAGHC,EAAsB,IAAIvC,IAAKM,KAAK,CACxCC,GAAIR,EACJkC,QAAS,CAAEC,EAAG,GACdR,MAAQ,IACRlB,SAxDiB,IAyDjB2B,EAAG,CAAED,GAAI,KACRE,KAAK,CACNH,QAAS,CAAEI,EAAG,GACdF,GAAI,GACJT,MAAO,OAGT,GAAsB,kBAAX7B,EACI2C,SAASC,eAAe,QAChCC,MAAMC,UAAY,kBAEvB9C,EAAO6C,MAAMC,UAAY,aAG3B,IAAMC,EAAuB1C,EAAkB2C,IAAI,CAACxC,EAAakC,EAAqBP,EAAgBlB,EAAee,IACrH1B,EAAqByC,MACpB,CAAC/C,EAAQC,EAASC,IAEdG,G,wRC/ET,IA2GM4C,EAAW,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAClB,OACE,8BACE,yBAAKC,MAAM,6BAA6BC,QAAQ,qBAAqBvF,UAAS,UAAKC,IAAOuF,KAAZ,YAAoBH,GAAapF,IAAOwF,UACpH,0BAAMC,EAAE,mZACR,0BAAMA,EAAE,kkBAKVC,EAAY,SAAC,GAAuB,IAArBlC,EAAoB,EAApBA,MAAOmC,EAAa,EAAbA,OAC1B,OACE,0BAAMC,IAAKD,EAAQE,cAAY,eAAe9F,UAAWC,IAAOwD,OAAhE,KACKA,IAKHsC,EAAa,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,WAAYJ,EAAa,EAAbA,OAEhC,OADAK,QAAQC,IAAIF,GAEV,0BAAMH,IAAKD,EAAQE,cAAY,eAAe9F,UAAWC,IAAOkG,OAC7DH,IAKQI,IApII,SAAC,GAAyB,IAAvB9E,EAAsB,EAAtBA,MAAOf,EAAe,EAAfA,GAAIf,EAAW,EAAXA,KACzB6G,EAAcC,qBAAWC,KADW,EAER7G,mBAAS,CACzC+D,MAAO,EACPuC,WAAY1E,EACZ+D,WAAW,IAL6B,mBAEnCmB,EAFmC,KAExBC,EAFwB,KAOlChD,EAAiC+C,EAAjC/C,MAAOuC,EAA0BQ,EAA1BR,WAAYX,EAAcmB,EAAdnB,UAPe,EASN3F,oBAAS,GATH,mBASnCgH,EATmC,aAUAhH,mBAAS,IAVT,mBAUnCiH,EAVmC,KAUpBC,EAVoB,OAYqBlH,mBAAS,IAZ9B,0BAYjCmH,EAZiC,EAYjCA,QAASC,EAZwB,EAYxBA,aAAcC,EAZU,EAYVA,aAAgBC,EAZN,KAcpCC,EAAuB,UAARzH,EAAmB0H,IAAgBC,IAdd,EAgBMC,YAAYH,GAhBlB,mBAgBnCI,EAhBmC,YAgBpBC,EAhBoB,EAgBpBA,KAAMC,EAhBc,EAgBdA,MAhBc,KAgBPC,QACC9H,mBAAS,OAjBH,mBAiBnC+H,EAjBmC,KAiBvBC,EAjBuB,KAmB1CC,qBAAU,WACR,GAAIL,EAAM,CACR,IAAMhG,EAAgB,UAAR9B,EAAmB8H,EAAKM,aAAatG,MAAQgG,EAAKO,YAAYvG,MAE5EmF,EAAa,CACXpB,WAAW,EACX5B,MAAO,EACPuC,WAAY1E,OAGf,CAACgG,IAEJK,qBAAU,WACRD,EAAc,MACdjB,EAAa,CACXpB,WAAW,EACX5B,MAAO,EACPuC,WAAY1E,MAEb,CAACf,IAEJoH,qBAAU,WACJJ,IACFG,EAAc,GAAD,OAAIH,EAAMO,QAAQjG,QAAQ,iBAAkB,MACzD4E,GAAa,SAAAsB,GAAS,MAAK,CACzB1C,WAAW,EACX5B,MAAO,EACPuC,WAAY1E,SAGf,CAACiG,IAEJI,qBAAU,WACR,GAAIhB,EAAe,CACjB,IAAM3C,EAAQgE,YAAW,kBAAMX,EAAY,CAAEY,UAAW,CAAE1H,KAAIe,MAAOmC,OAAY,KAEjF,OAAO,kBAAMyE,aAAalE,OAE3B,CAAC2C,IAEJ,IAAMf,EAASuC,uBAAY,SAAAC,GACzBpB,GAAY,SAAAqB,GAAY,O,yVAAA,IACnBA,EADmB,eAErBD,EAAKE,QAAQC,OAASH,SAExB,IAEG5F,EAAoBN,EAAiB,CACzCC,OAAQ0E,EACRzE,QAAS0E,EACTzE,YAAa0E,IAiBf,OACE,oCACE,yBAAK/G,UAAWC,IAAOuI,eACrB,4BAAQ3C,IAAKD,EAAQE,cAAY,UAAU9F,UAAWC,IAAOwI,KAAM/G,QAjBjD,WACtB,IAAIgH,EAAUC,YAAc,KAAMtC,GAC9B5C,EA5EkB,GA4EWiF,IAC/BlG,EAAkBoG,SAClBnC,GAAa,SAAAsB,GAAS,MAAK,CACzB1C,WAAW,EACX5B,MAAOsE,EAAUtE,MAAQ,EACzBuC,WAAY+B,EAAU/B,WAAa+B,EAAU/B,WAAa,EAAI,MAGhEY,GAAiB,SAAA7E,GAAI,OAAIA,EAAO,OAO+D8G,SAAUnC,GACrG,kBAAC,EAAD,CAAUrB,UAAWA,IACrB,kBAAC,EAAD,CAAW5B,MAAOA,EAAOmC,OAAQA,IACjC,kBAAC,EAAD,CAAYI,WAAYA,EAAYJ,OAAQA,MAE5CP,GAAa,yBAAKrF,UAAWC,IAAO6I,YAAa9C,IAEpDyB,GAAc,yBAAKzH,UAAWC,IAAOsH,OAAQE,M,+9CCzG7C,IAAMsB,EAAgBvK,IAAH,KAebwK,EAAcxK,IAAH,KAqCX0I,EAAgB1I,IAAH,M,8HCJXyK,iBAxCf,SAAkBC,GAAQ,IAChBC,EAAOD,EAAPC,GACFC,EAAW9C,qBAAW+C,KACtBhD,EAAcC,qBAAWC,KAHR,EAKMa,YAAYkC,IAAQ,CAC/CC,YAD+C,WAM7C,OAJAC,YAAe,IACfC,EAAOC,aACPrD,EAAY,CAAE7G,KAAM,WACpB6G,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAS,yBAA0BtI,KAAM,aAC/E,kBAAC,IAAD,CAAUc,GAAI,OAEvBsJ,QAR+C,SAQvCrC,GACNtB,QAAQC,IAAIqB,MAdO,mBAKhBsC,EALgB,KAKNJ,EALM,KAKNA,OAajB,OACE,6BACGL,EAAShJ,KAAK0J,OACb,yBAAK9J,UAAWmJ,EAAKlJ,IAAO8J,WAAa9J,IAAO+J,aAC9C,kBAAC,OAAD,CAAM1J,GAAE,mBAAc8I,EAAShJ,KAAK0J,SAClC,yBAAK9J,UAAWmJ,EAAKlJ,IAAOgK,IAAMhK,IAAOiK,MAAzC,YAEF,yBAAKlK,UAAWmJ,EAAKlJ,IAAOgK,IAAMhK,IAAOiK,KAAMxI,QAASmI,GAAxD,WAKF,yBAAK7J,UAAWC,IAAO8J,YACrB,kBAAC,OAAD,CAAMzJ,GAAE,UACN,yBAAKN,UAAWmJ,EAAKlJ,IAAOgK,IAAMhK,IAAOiK,MAAzC,gB,+FCjBGC,MArBf,YAAyD,IAAhC7C,EAA+B,EAA/BA,KAAMzG,EAAyB,EAAzBA,KAAMuJ,EAAmB,EAAnBA,gBACnC,OACE,yBAAKpK,UAAWC,IAAOoK,QACrB,yBAAKrK,UAAWC,IAAOqK,aACL,oBAARhD,GAAuBA,EAAKtF,OAClCsF,EAAKiD,KAAI,SAAAF,GACP,IAAMV,EAAgB,QAAR9I,EAAiBwJ,EAAOxJ,KAAOwJ,EAAOG,MACpD,OACE,yBAAKxK,UAAWC,IAAOwK,KAAMC,IAAKL,EAAOM,IAAKjJ,QAAS,kBAAM0I,EAAgBT,EAAO9I,EAAMwJ,EAAOO,OAC9FC,YAAkBR,EAAOxJ,UAKhC,yBAAKb,UAAWC,IAAO6K,QAAvB,c,sEC8IK7B,iBAtJM,SAAC,GAAqB,IAAnB8B,EAAkB,EAAlBA,QAAS5B,EAAS,EAATA,GAAS,EACVzJ,mBAAS,CAAEoI,QAAS,GAAIkD,QAAQ,IADtB,mBACjCC,EADiC,KACxBC,EADwB,OAEFxL,mBAAS,CAAEoI,QAAS,GAAIkD,QAAQ,IAF9B,mBAEjCG,EAFiC,KAEpBC,EAFoB,OAGhB1L,mBAAS,IAHO,mBAGjCmB,EAHiC,KAG3BwK,EAH2B,OAIR3L,mBAAS,IAJD,mBAIjC4L,EAJiC,KAIvBC,EAJuB,OAKQ7L,mBAAS,IALjB,mBAKjC8L,EALiC,KAKfC,EALe,OAMc/L,qBANd,mBAMjCgM,EANiC,KAMZC,EANY,OAOZjM,mBAAS,MAPG,mBAOjCkM,EAPiC,KAOzBC,EAPyB,OAQZnM,mBAAS,MARG,mBAQjCoM,EARiC,KAQzBC,EARyB,OASNrM,mBAAS,GATH,mBASjCsM,EATiC,KAStBC,EATsB,OAUEvM,mBAAS,GAVX,mBAUjCwM,EAViC,KAUlBC,EAVkB,OAWVzM,oBAAS,GAXC,oBAWjC0M,GAXiC,MAWxBC,GAXwB,SAclBC,YAAa5N,IAAgB,CACjD6K,YADiD,YACpB,IAAfgD,EAAc,EAAdA,WACZrB,EAAW,CAAEpD,QAAS,GAAIkD,QAAQ,IAClCa,GAAU,kBAAMU,MAElB3C,QALiD,SAKzCrC,OALHiF,GAdiC,wBAqBlBF,YAAaG,IAAW,CAC5ClD,YAD4C,YAChB,IAAdmD,EAAa,EAAbA,UACZtB,EAAe,CAAEtD,QAAS,GAAIkD,QAAQ,IACtCe,GAAU,kBAAMW,MAElB9C,QAL4C,SAKpCrC,OALHoF,GArBiC,qBA8CxChF,qBAAU,WACR,GAAY,IAAR9G,GAAcuL,GAAS,CACzB,IAAMpI,EAAQgE,YAAW,kBAAMiE,GAAa,SAAAlK,GAAI,OAAIA,EAAO,OAAI,KAC/D,OAAO,kBAAMmG,aAAalE,OAE3B,CAACnD,IAEJ8G,qBAAU,WACJqE,GACFQ,GAAY,CAAEvE,UAAW,CAAE2E,MAAO/L,EAAMgM,MAAO,QAEhD,CAACb,IAsBJrE,qBAAU,WACR,GAAgB,IAAZ2D,GAAkBc,GAAS,CAC7B,IAAMpI,EAAQgE,YAAW,kBAAMmE,GAAiB,SAAApK,GAAI,OAAIA,EAAO,OAAI,KACnE,OAAO,kBAAMmG,aAAalE,OAE3B,CAACsH,IAEJ3D,qBAAU,WACJuE,GACFS,GAAY,CAAE1E,UAAW,CAAE2E,MAAOtB,OAEnC,CAACY,IAIJ,IAAM9B,GAAkB,SAAC0C,EAAKjM,EAAM+J,GAClCyB,IAAW,GACC,QAARxL,GACFwK,EAAQyB,GACRjB,EAAU,OACO,YAARhL,IACT0K,EAAYuB,GACZrB,EAAoBqB,GACpBf,EAAU,MACVJ,EAAuBf,KAoB3B,OACE,yBAAK5K,UAAU,IACb,0BAAM+M,SAjBiB,SAAAC,GACzBA,EAAEC,iBAEGpM,EAEO2K,EAED3K,GAAQ2K,GACjBT,EAAQmC,KAAK,CACXC,SAAU,UACVC,OAAO,SAAD,OAAWvM,EAAX,qBAA4ByK,EAA5B,mBAA+CI,KAJvDN,EAAe,CAAEtD,QAAS,2BAA4BkD,QAAQ,IAF9DE,EAAW,CAAEpD,QAAS,sBAAuBkD,QAAQ,MAcnD,yBAAKhL,UAAWC,IAAOoN,qBACrB,yBAAKrN,UAAWC,IAAOqN,mBACrB,2BAAOtN,UAAWmJ,EAAKlJ,IAAOsN,YAActN,IAAOuN,aAAchO,KAAK,OAAOqB,KAAK,OAAON,GAAG,aAAakN,SAlG1F,SAAAC,GAClBtB,IACHC,IAAW,GAEb,IAAMS,EAAMY,EAAMC,OAAOhE,MACpBmD,GAAe,KAARA,IACVjB,EAAU,MACVX,EAAW,CAAEpD,QAAS,GAAIkD,QAAQ,KAEpCK,EAAQyB,IAyFqIc,OAtFxH,WACrB5F,YAAW,kBAAM6D,EAAU,QAAO,MAqFmIlC,MAAO9I,EAAMgN,YAAY,gBAAgBC,aAAa,QACnN,kBAACC,EAAA,EAAD,CAAeC,GAAI/C,EAAQD,OAAQiD,QAAS,IAAKC,WAAYC,IAAYC,eAAa,GACpF,yBAAKpO,UAAWC,IAAOkO,YAAalD,EAAQnD,UAEnC,MAAV8D,GAAkB,kBAACyC,EAAD,CAAe/G,KAAMsE,EAAQ/K,KAAK,OAAOuJ,gBAAiBA,MAE/E,yBAAKpK,UAAWC,IAAOqN,mBACrB,2BAAOtN,UAAWmJ,EAAKlJ,IAAOsN,YAActN,IAAOuN,aAAchO,KAAK,OAAOqB,KAAK,WAAWN,GAAG,iBAAiBkN,SA1E9F,SAAAC,GAC3B,IAAMZ,EAAMY,EAAMC,OAAOhE,MACpByC,IACHC,IAAW,GAGRS,GAAe,KAARA,IACVf,EAAU,MACVX,EAAe,CAAEtD,QAAS,GAAIkD,QAAQ,KAExCS,EAAoB,IACpBF,EAAYuB,IA+D6Ic,OA5DhI,WACzB5F,YAAW,kBAAM+D,EAAU,QAAO,MA2DmJpC,MAAO2B,EAAUuC,YAAY,gCAAgCC,aAAa,QACvP,kBAACC,EAAA,EAAD,CAAeC,GAAI7C,EAAYH,OAAQiD,QAAS,IAAKC,WAAYC,IAAYC,eAAa,GACxF,yBAAKpO,UAAWC,IAAOkO,YAAahD,EAAYrD,UAEvC,MAAVgE,GAAkB,kBAACuC,EAAD,CAAe/G,KAAMwE,EAAQjL,KAAK,WAAWuJ,gBAAiBA,MAEnF,6BACE,4BAAQpK,UAAWmJ,EAAKlJ,IAAOsN,YAActN,IAAOuN,cAApD,kB,oBCvJZnP,EAAOC,QAAU,CAAC,QAAU,2BAA2B,WAAa,8BAA8B,UAAY,+B,oBCA9GD,EAAOC,QAAU,CAAC,WAAa,6BAA6B,QAAU,0BAA0B,WAAa,+B,oBCA7GD,EAAOC,QAAU,CAAC,UAAY,2BAA2B,QAAU,2B,oBCAnED,EAAOC,QAAU,CAAC,MAAQ,0BAA0B,YAAc,gCAAgC,KAAO,yBAAyB,WAAa,iC,oBCA/ID,EAAOC,QAAU,CAAC,WAAa,8BAA8B,UAAY,+B,oBCAzED,EAAOC,QAAU,CAAC,eAAiB,oCAAoC,KAAO,4B,iiFCCvE,IAAMgQ,EAAW9P,IAAH,KAIRiO,EAAYjO,IAAH,KAKT+P,EAAa/P,IAAH,KAIVgQ,EAAkBhQ,IAAH,KAQfiQ,EAAkBjQ,IAAH,KASfkQ,EAAkBlQ,IAAH,KAUfmQ,EAAkBnQ,IAAH,KAQfoQ,EAAkBpQ,IAAH,KAQfqQ,EAAkBrQ,IAAH,M,iCC1D5B,sCAGMsQ,EAAeC,IAAMC,YAAW,SAAC9F,EAAOrD,GAE5C,OADAI,QAAQC,IAAIgD,GAEV,yBAAKrD,IAAKA,EAAK7F,UAAWC,IAAOgP,gBAC9B/F,EAAMgG,SAAS3E,KAAI,SAAC4E,EAAKxP,GACxB,IAAMyP,EAA2B,WAAdlG,EAAM1J,KAAoBS,IAAOoP,aAAepP,IAAOqP,WAE1E,OACE,yBAAK5E,IAAK/K,EAAOK,UAAS,UAAKC,IAAOsP,cAAZ,YAA6BH,IACpDD,UAQEL,O,iCCpBf,sEA4CeU,IArCC,SAAC,GAAc,IAAZlI,EAAW,EAAXA,KACbmI,EAASnI,EAAKxG,OAASwG,EAAKoI,OAASpI,EAAKxG,OAAS,EAEvD,OACE,yBAAKd,UAAWC,IAAO0P,OACrB,yBAAK3P,UAAWC,IAAO2P,MACrB,yBAAK5P,UAAWC,IAAO4P,WACrB,yBAAK7P,UAAWC,IAAO6P,gBAAiBxI,EAAK1F,QAAU,yBAAKlB,IAAK4G,EAAK1F,QAAQC,QAAQ,WAAY,aAAiB,kBAAC,IAAD,CAAelB,KAAK,OAAOzB,MAAM,aACpJ,6BACE,wBAAIc,UAAWC,IAAO8P,OACpB,kBAAC,OAAD,CAAMzP,GAAE,oBAAegH,EAAKqD,MAAQE,YAAkBvD,EAAKzG,MAA3D,KAA0E,KAE3EyG,EAAK0I,OAAS,yBAAKhQ,UAAWC,IAAO+P,OAAQ1I,EAAK0I,OACnD,yBAAKhQ,UAAWC,IAAOqL,UACrB,kBAAC,OAAD,CAAMhL,GAAE,wBAAmBgH,EAAK2I,KAAxB,YAAgC3I,EAAK4I,aAArC,gBAAyD5I,EAAKsD,MAAQtD,EAAK4I,aAAnF,MACA,kBAAC,OAAD,CAAM5P,GAAE,wBAAmBgH,EAAK2I,KAAxB,gBAAoC3I,EAAKsD,MAAQtD,EAAK2I,KAA9D,MAEF,yBAAKjQ,UAAWC,IAAOkQ,QACpB7I,EAAK6I,OAAO5F,KAAI,SAAC4F,EAAQrQ,GAAT,OACf,0BAAM4K,IAAK5K,GACT,kBAAC,OAAD,CAAMQ,GAAE,wBAAmBgH,EAAKsD,IAAxB,YAA+BuF,EAA/B,iBAA8C7I,EAAK2I,OAASE,EAApE,MAAqF,SAK3F,yBAAKnQ,UAAWC,IAAOwP,QACrB,kBAAC,IAAD,CAAc5O,KAAK,mBAAmB8I,MAAO8F,EAAQW,UAAW,GAAKzP,KAAK,QAAQ0P,UAAQ,IAC1F,6BAAM/I,EAAKxG,OAAX,eAIN,yBAAKd,UAAWC,IAAOqQ,MAAOhJ,EAAKgJ,KAAOC,YAASjJ,EAAKgJ,KAAM,IAAM,U,0HClC7D,SAASE,EAAT,GAA+D,IAA1ClR,EAAyC,EAAzCA,OAAQmR,EAAiC,EAAjCA,IAAKC,EAA4B,EAA5BA,aAAclR,EAAc,EAAdA,KAAc,KAARmB,KACjCjB,mBAASgR,IAAgB,IADgB,mBACpEC,EADoE,KACzDC,EADyD,KAO3E,OACE,oCACE,yBAAK5Q,UAAWyQ,EAAMxQ,IAAO4Q,WAAa5Q,IAAO6Q,SAC9CxR,EAAOiL,KAAI,SAAC9I,EAAO3B,GAClB,IAAIiR,EAAa,KAOjB,OANItP,EAAMG,QACRmP,EAAatP,EAAMG,QAAQC,QAAQ,WAAY,WACtCJ,EAAMZ,OAEfkQ,EAAatP,EAAMZ,KAAKgB,QAAQ,WAAY,YAG5C,yBAAK7B,UAAWC,IAAO+Q,UAAWtG,IAAK5K,EAAG4B,QAAS,kBAAMkP,GAAa,KACpE,yBAAKlQ,IAAKqQ,SAMjBJ,GAAarR,EAAO0C,OAAS,GAAK,kBAAC,IAAD,CAAY1C,OAAQA,EAAQD,MAvB/C,WAClBuR,GAAa,IAsBwEpR,KAAMA,O,iCC7B/F,kCAAO,IAAMyB,EAAU,SAACgQ,GAEpB,GAAKA,EAAL,CAEAA,EAAO,IAAIC,KAAKD,GAEZ,IAAIE,EAAY,CACZC,OAAQ,GACRC,OAAQ,OACRC,QAAS,qBACTC,OAAQ,iBACRC,QAAS,aACTC,KAAM,gBACNC,MAAO,iBACPC,IAAK,QACLC,KAAM,UACNC,MAAO,gBACPC,OAAQ,YACRC,KAAM,eACNC,MAAO,YAGPC,EAAW,SAASC,EAAGC,GACvB,OAAOhB,EAAUe,IAAMf,EAAUe,GAAGrQ,QAAQ,MAAOuQ,KAAKC,IAAID,KAAKE,MAAMH,MAMvEb,EAAoC,OAD9B,IAAIJ,MACMqB,UAAYtB,IAAiB,EAC7CO,EAAUF,EAAU,GACpBI,EAAQF,EAAU,GAClBI,EAAOF,EAAQ,GACfM,EAAQJ,EAAO,IAEnB,OAAOT,EAAUC,QACTE,EAAU,IAAMW,EAAS,UAAWX,IACpCA,EAAU,IAAMW,EAAS,SAAU,IACnCT,EAAU,IAAMS,EAAS,UAAWT,IACpCA,EAAU,IAAMS,EAAS,OAAQ,IACjCP,EAAQ,IAAMO,EAAS,QAASP,IAChCA,EAAQ,IAAMO,EAAS,MAAO,IAC9BL,EAAO,IAAMK,EAAS,OAAQL,IAC9BA,EAAO,IAAMK,EAAS,QAAS,IAC/BL,EAAO,KAAOK,EAAS,SAAUL,EAAO,KACxCI,EAAQ,KAAOC,EAAS,OAAQ,IAChCA,EAAS,QAASD,IACdb,EAAUE,U,iCCGfmB,IAlDa,SAACC,GACzB,IAAIC,EAAY,GAElB,GAAGC,MAAMC,QAAQH,GAChBA,EAAQI,SAAQ,SAAAC,GACd,IAAIC,EAASD,EAAOE,OAASF,EAAOE,OAASF,EAAOG,SACnDH,EAAOlR,QAAQiR,SAAQ,SAAAK,GACtB,IAAIC,EAAe,CAChB3R,MAAO0R,EAAIvI,IACX/I,QAASsR,EAAItR,QACbR,QAAS8R,EAAI5C,KAAO4C,EAAI5C,KAAO,KAC/B/O,SAAU2R,EAAI5R,OAAS,EACvBf,GAAIwS,EAAOpI,IACX9J,KAAMkS,EAAOnS,UAAYmS,EAAOlS,KAChCJ,QAASsS,EAAOnR,QAChBd,OAAQiS,EAAOjS,OACfC,OAAQgS,EAAOhS,OACfG,UAAW4R,EAAO5R,WAEpBwR,EAAUxF,KAAKiG,aAId,CACL,IAAIJ,EAASN,EAAQO,OAASP,EAAQO,OAASP,EAAQQ,SACxDR,EAAQ7Q,QAAQiR,SAAQ,SAAAK,GACrB,IAAIC,EAAe,CAChB3R,MAAO0R,EAAIvI,IACX/I,QAASsR,EAAItR,QACbR,QAAS8R,EAAI5C,KAAO4C,EAAI5C,KAAO,KAC/B/O,SAAU2R,EAAI5R,OAAS,EACvBf,GAAIwS,EAAOpI,IACX9J,KAAMkS,EAAOnS,UAAYmS,EAAOlS,KAChCJ,QAASsS,EAAOnR,QAChBd,OAAQiS,EAAOjS,OACfC,OAAQgS,EAAOhS,OACfG,UAAWuR,EAAQvR,WAErBwR,EAAUxF,KAAKiG,MAOlB,OAAOT,I,kBC9CXrU,EAAOC,QAAU,83Q,wGCiDF8U,IA3CA,SAAAlK,GAAU,IAAD,EACsBxJ,oBAAS,GAD/B,mBACf2T,EADe,KACCC,EADD,KAMtB,OACE,yBAAKtT,UAAWC,IAAOsT,gBACnBF,GACA,yBAAKrT,UAAWC,IAAOuT,cACrB,yBAAKxT,UAAWC,IAAOwT,kBACrB,kBAAC,OAAD,CAAMnT,GAAI,KACR,yBAAKI,IAAKgT,EAAQ,UAK1B,yBAAK1T,UAAWqT,EAAc,UAAMpT,IAAO0T,SAAb,YAAyB1T,IAAO2T,eAAkB3T,IAAO0T,SAAUjS,QAflF,WACjB4R,GAAkB,SAAAvR,GAAI,OAAKA,OAevB,yBAAK/B,UAAWC,IAAO4T,iBAGzB,yBAAK7T,UAAWqT,EAAc,UAAMpT,IAAO6T,eAAb,YAA+B7T,IAAO8T,uBAA0B9T,IAAO6T,gBACnG,yBAAK9T,UAAWC,IAAO+T,MACrB,kBAAC,OAAD,CAAM1T,GAAI,KACR,yBAAKI,IAAKgT,EAAQ,SAGtB,yBAAK1T,UAAWC,IAAOgU,MACrB,yBAAKjU,UAAWC,IAAOiU,cACrB,kBAAC,IAAD,CAAc/K,IAAI,KAEpB,yBAAKnJ,UAAWC,IAAOkU,WACrB,kBAAC,OAAD,CAAM7T,GAAI,QAAV,oBAEF,yBAAKN,UAAWC,IAAOmU,OACrB,kBAAC,IAAD,CAAUjL,IAAI,U,oBCzC1B9K,EAAOC,QAAU,IAA0B,kC,wFCyC5B+V,IArCf,YAAoC,IAAhBC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,KACjB1T,EAAgByT,EAAhBzT,KAAM8I,EAAU2K,EAAV3K,MACN6K,EAAkBD,EAAlBC,cAFyB,EAGX9U,mBAASiK,GAHE,mBAG1B8K,EAH0B,KAGrBC,EAHqB,KAK3BC,EAASxM,uBAAY,SAAAyM,GACzB,IAAMC,EAAOD,EAAc,GACrBE,EAAe,IAAIC,WACzBD,EAAaE,iBACX,QACA,WACEN,EAAOI,EAAazK,WAEtB,GAGFyK,EAAaG,cAAcJ,GAC3BL,EAAc3T,EAAMgU,KACnB,IAlB8B,EAoBqBK,YAAY,CAAEP,SAAQQ,UAAU,IAA9EC,EApByB,EAoBzBA,aAAcC,EApBW,EAoBXA,cAEtB,OAtBiC,EAoBIC,aAGnC,yBAAKtV,UAAWC,IAAOsV,YACrB,wBAASH,EAAa,CAAEpV,UAAW,aACjC,0BAAWqV,KACX,uBAAGrV,UAAWC,IAAOuV,SAArB,qBAEDf,GACC,yBAAKzU,UAAWC,IAAOwV,YACrB,yBAAK/U,IAAK+T,Q,oBCjCpBpW,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,aAAe,6BAA6B,iBAAmB,iCAAiC,SAAW,yBAAyB,cAAgB,8BAA8B,cAAgB,8BAA8B,eAAiB,+BAA+B,sBAAwB,sCAAsC,KAAO,qBAAqB,aAAe,6BAA6B,MAAQ,sBAAsB,KAAO,qBAAqB,UAAY,4B,sECD5hB,8JAEWoX,EAAc,KAEZC,EAAiB,WAC5B,OAAOD,GAGIlM,EAAiB,SAAAoM,GAC5BF,EAAcE,GAGHjN,EAAgB,SAACoC,EAAS1E,GACrC,IAAKsP,IAAkB,CAErB,GADAtP,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAS,2CAA4CtI,KAAM,YACpGuL,EAIF,OADA8K,OAAOC,SAAS,EAAG,IACZ,EAHP/K,EAAQmC,KAAK,UAOjB,OAAO,GAGI6I,EAAe,WAC1B,IAAMC,EAAQL,IACd,MAAoB,iBAATK,GAA8B,IAATA,EACvB,CACL5V,KAAM,KACNZ,KAAM,MAGGyW,IAAUD,K,mBCjCzB3X,EAAOC,QAAU,CAAC,eAAiB,mCAAmC,aAAe,iCAAiC,MAAQ,0BAA0B,mBAAqB,uCAAuC,aAAe,iCAAiC,MAAQ,0BAA0B,UAAY,8BAA8B,KAAO,yBAAyB,QAAU,4BAA4B,SAAW,6BAA6B,KAAO,yBAAyB,KAAO,yBAAyB,KAAO,yBAAyB,YAAc,kC,gCCD5iB,+EAEa+K,EAAe6M,wBAAc,MAC7B3P,EAAkB2P,wBAAc,O,gCCH7C,oEAAO,IAAMrL,EAAoB,SAAAsL,GAC/B,GAAKA,EAAL,CAEA,IADA,IAAIC,EAAWD,EAAIE,cAAcC,MAAM,KAC9BxW,EAAI,EAAGA,EAAIsW,EAASpU,OAAQlC,IAGnCsW,EAAStW,GAAKsW,EAAStW,GAAGyW,OAAO,GAAGC,cAAgBJ,EAAStW,GAAG2W,UAAU,GAG5E,OAAOL,EAASM,KAAK,OAGVnG,EAAW,SAAC4F,EAAKQ,GAC5B,IAAMC,EAAST,EAAIG,MAAM,KAEzB,OAAIM,EAAO5U,QAAU2U,EACZR,EAEAS,EAAOC,OAAO,EAAGF,GAAUG,OAAO,CAAC,QAAQJ,KAAK,O,gCClB3D,sCAiBeK,IAdC,WACZ,OAII,yBAAK/W,UAAWC,IAAO+W,WACnB,yBAAKhX,UAAWC,IAAOgX,SAAS,8BAAW,8BAAW,8BAAW,kC,6TC6ChEC,GA7CKC,aAAW,SAAAC,GAAK,MAAK,CACrCC,YAAa,CACXC,OAAQF,EAAMG,QAAQ,GACtBC,SAAU,SA0CaxY,YA9BV,CACbyY,KAAO,CACL,wBAA0B,CACxBvY,MAAQ,UA2BWF,EAtBF,SAAAkK,GAAU,IACxBwO,EAAmCxO,EAAnCwO,MAAO7O,EAA4BK,EAA5BL,SAAW8O,EAAiBzO,EAAjByO,QAASnY,EAAQ0J,EAAR1J,KADJ,EAERoY,YAAS1O,GAFD,mBAEvBoL,EAFuB,KAEhBuD,EAFgB,KAGxBC,EAAYD,EAAKtQ,OAASsQ,EAAKE,QAAUF,EAAKtQ,MAAQ,GAC5D,OACE,kBAAC,IAAD,iBAAe+M,EAAf,CACAtU,UAAa2X,EAAQF,KACrBE,QAASA,EACT9O,SAAUA,EACVrJ,KAAMA,EACNkY,MAAOA,EACPM,WAAYF,EACZhK,aAAa,MACbvG,QAAOuQ,EACPR,OAAO,SACPW,QAAQ,WACRC,WAAS,SAQFC,EAAa,SAAAjP,GAAU,IAC3BwO,EAAexO,EAAfwO,MAAOU,EAAQlP,EAARkP,KADmB,EAETR,YAAS1O,GAFA,mBAExBoL,EAFwB,KAEjBuD,EAFiB,KAGzBC,EAAYD,EAAKtQ,OAASsQ,EAAKE,QAAUF,EAAKtQ,MAAQ,GAC5D,OACE,kBAAC,IAAD,iBACI+M,EADJ,CAEA+D,WAAS,EACTD,KAAMA,EACNV,MAAOA,EACPM,WAAYF,EACZvQ,QAAOuQ,EACNR,OAAO,SACPW,QAAQ,WACRC,WAAS,MAOHI,EAAWtZ,YAAW,CACjCyY,KAAM,CACJc,aAAc,SACdC,QAAU,QACVlB,OAAQ,UACRpY,MAAO,UACPuZ,QAAS,WACTC,OAAQ,YACRC,WAAY,IACZC,gBAAiB,UACjBC,YAAa,UACb,UAAW,CACTD,gBAAiB,UACjBC,YAAa,UACbC,UAAW,QAEb,WAAY,CACVA,UAAW,OACXF,gBAAiB,UACjBC,YAAa,WAEf,UAAW,CACTC,UAAW,mCAEb,aAAc,CACZF,gBAAiB,aAzBC5Z,CA4BrB+Z,KAUGC,EAAwB,SAAC,GAQvB,IAPNC,EAOK,EAPLA,YACAtV,EAMK,EANLA,SACAgG,EAKK,EALLA,MACA9I,EAIK,EAJLA,KACA6W,EAGK,EAHLA,MACAjK,EAEK,EAFLA,SACAG,EACK,EADLA,OAEA,OACE,kBAAC,IAAD,CAAasK,WAAS,GACpB,kBAAC,IAAD,KAAcR,GACd,kBAAC,IAAD,CAAQ7W,KAAMA,EAAM4M,SAAUA,EAAUG,OAAQA,EAAQjE,MAAOA,GAC5DhG,GAEH,kBAAC,IAAD,KAAiBsV,KAQVC,EAAY,SAAChQ,GAAW,IAC5BiQ,EAAuBjQ,EAAvBiQ,OAAQtY,EAAeqI,EAAfrI,KAAM6W,EAASxO,EAATwO,MAErB,OACE,6BACE,kBAAC,IAAD,CACE7W,KAAMA,EACNuY,GAAIJ,EACJtB,MAAOA,EACPuB,YAAa,kBAAC,IAAD,CAAcpY,KAAMA,KAGjC,kBAAC,IAAD,CAAW8I,MAAO,IACb,QAEJwP,EAAO5O,KAAI,SAAAE,GAAI,OACd,kBAAC,IAAD,CAAUC,IAAKD,EAAMd,MAAOc,GACzBA,U,mBC1JbpM,EAAOC,QAAU,CAAC,cAAgB,oCAAoC,oBAAsB,0CAA0C,kBAAoB,wCAAwC,YAAc,kCAAkC,aAAe,mCAAmC,WAAa,mC,gNC+ClS+a,EApCE,WAAO,IAAD,EACe3Z,mBAAS,MADxB,mBACd4Z,EADc,KACFC,EADE,KAEbjS,EAASkS,YAASC,IAAyB,CAAExR,UAAW,CAAEyR,aAAa,EAAM7M,MAAO,KAApFvF,KACFhI,EAASgI,EAAOA,EAAKhI,OAAS,KAE9Bqa,EAAWC,wBAAc,CAAEhN,MAAO,8BAGpCiN,EAFWD,wBAAc,CAAEhN,MAAO,+BAEb,SAAW+M,EAAW,UAAY,WAO3D,OALAhS,qBAAU,WACR,IAAIhI,EAAQyS,KAAK0H,MAAsB,EAAhB1H,KAAK2H,UAC5BR,EAAc5Z,KACb,IAGD,yBAAKK,UAAWC,IAAO+Z,QAAShV,MAAO,CAAEiV,gBAAgB,OAAD,OAAS3a,GAAUA,EAAOga,GAAcha,EAAOga,GAAY1X,QAAQC,QAAQ,WAAYgY,GAAa,KAApG,OACtD,yBAAK7Z,UAAWC,IAAOia,YACrB,kBAACC,EAAA,EAAD,CAAUhR,IAAI,KAEhB,yBAAKnJ,UAAWC,IAAOma,MACrB,yBAAK1Z,IAAKgT,EAAQ,OAClB,yBAAK1T,UAAWC,IAAOmN,QACrB,kBAACiN,EAAA,EAAD,CAAclR,IAAI,MAIrB7J,GAAUA,EAAOga,IAChB,yBAAKtZ,UAAWC,IAAOqa,WAAvB,MACK,8BAAOhb,EAAS,kBAAC,OAAD,CAAMgB,GAAE,mBAAchB,EAAOga,GAAYxG,OAAOE,OAAOrI,MAAQE,YAAkBvL,EAAOga,GAAYxG,OAAOE,OAAOpS,WAAoB,MAD3J,QAC4K,8BAAOtB,EAAS,kBAAC,OAAD,CAAMgB,GAAE,oBAAehB,EAAOga,GAAYxG,OAAOG,SAAStI,MAAQE,YAAkBvL,EAAOga,GAAYxG,OAAOG,SAASpS,OAAgB,S,oCCE5T0Z,EApCC,WAAM,MAE4BjO,YAAa5N,KAFzC,mBAEb8N,EAFa,YAEEhF,EAFF,EAEEA,QAASF,EAFX,EAEWA,KAAMC,EAFjB,EAEiBA,MAErCI,qBAAU,WACR6E,EAAY,CAAEvE,UAAW,CAAEuS,WAAW,EAAMC,SAAU,KAAM5N,MAAO,OAClE,IAsBH,OACE,6BACE,wBAAI7M,UAAU,gBAAd,sBAtBY,WACd,IAAI0a,EAAO,KACX,GAAIlT,EACFkT,EAAO,kBAAC3D,EAAA,EAAD,WACF,GAAIxP,EACTmT,EAAO,UACF,GAAoB,qBAATpT,EAAsB,CAAC,IAC/BiF,EAAejF,EAAfiF,WACRmO,EACE,yBAAK1a,UAAWC,IAAO0a,SACpBpO,EAAWhC,KAAI,SAAAE,GAAI,OAClB,kBAAC+E,EAAA,EAAD,CAAS9E,IAAKD,EAAKE,IAAKrD,KAAMmD,QAMtC,OAAOiQ,EAMJlC,K,sFCsCQoC,MA9Df,WAA2B,IAAD,EACSpB,YAASxQ,IAAa,CAAEf,UAAW,CAAE4S,UAAU,EAAMhO,MAAO,KAArFvF,EADgB,EAChBA,KAEJmL,GAHoB,EACVlL,MADU,EACHC,QAEPF,EAAOA,EAAKmL,QAAU,IAEpC,OACE,oCACGA,EAAQlI,KAAI,SAAAuQ,GACX,IAAIpI,EAAYqI,YAAiBD,GACjC,OACE,yBAAK9a,UAAWC,IAAO+a,aAAcza,GAAIua,EAAInQ,IAAKD,IAAKoQ,EAAInQ,KACzD,yBAAK3K,UAAWC,IAAOgb,mBACrB,yBAAKjb,UAAWC,IAAOO,oBAAqBsa,EAAI9H,OAAOpR,QAAU,yBAAKlB,IAAKoa,EAAI9H,OAAOpR,QAAQC,QAAQ,WAAY,aAAiB,kBAAC,IAAD,CAAclB,KAAK,MAAMzB,MAAM,aAElK,6BACE,yBAAKc,UAAWC,IAAOib,SACrB,kBAAC,OAAD,CAAM5a,GAAE,mBAAcwa,EAAI9H,OAAOrI,MAAQE,YAAkBiQ,EAAI9H,OAAOpS,YAGxE,yBAAKZ,UAAU,kBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAkBd,MAAM,YACxB,yBAAKc,UAAU,SAAS8a,EAAI9H,OAAOmI,UAAUnZ,SAE/C,yBAAKhC,UAAU,QACb,kBAAC,IAAD,CAAYd,MAAM,YAClB,yBAAKc,UAAU,SAAS8a,EAAI9H,OAAOlS,OAAnC,MAEF,yBAAKd,UAAU,QACb,kBAAC,IAAD,CAAcd,MAAM,YACpB,yBAAKc,UAAU,SAAS8a,EAAI9H,OAAOjS,UAIvC,yBAAKf,UAAWC,IAAOmb,YACrB,yBAAKpb,UAAWC,IAAOob,SACrB,uCACA,kBAAC,OAAD,CAAM/a,GAAE,oBAAewa,EAAI7H,SAAStI,MAAQE,YAAkBiQ,EAAI7H,SAASpS,QAE7E,yBAAKb,UAAWC,IAAOqL,UACrB,kBAAC,OAAD,CAAMhL,GAAE,wBAAmBwa,EAAI7H,SAAShD,KAAhC,YAAwC6K,EAAI7H,SAAS/C,eAAiB4K,EAAI7H,SAAS/C,gBAI/F,yBAAKlQ,UAAWC,IAAOqb,WACrB,kBAACvc,EAAA,EAAD,CAAc4K,MAAOmR,EAAIrL,OAAQ9O,KAAK,QAAQ0P,UAAQ,OAI5D,uBAAGrQ,UAAWC,IAAOsb,SAAUT,EAAIU,MACnC,yBAAKxb,UAAWC,IAAOwb,YACrB,kBAACjL,EAAA,EAAD,CAAWlR,OAAQoT,EAAW/R,KAAK,WAGrC,kBAAC+a,EAAA,EAAD,CAAMpa,MAAOwZ,EAAIxZ,OAAS,EAAGf,GAAIua,EAAInQ,IAAKnL,KAAK,iB,0BC4B5Cmc,MArFf,WAA0B,IAAD,EACyBjc,mBAAS,GADlC,mBAChBkc,EADgB,KACEC,EADF,OAEWnc,oBAAS,GAFpB,mBAEhBiR,EAFgB,KAELC,EAFK,OAGU4I,YAASsC,IAAqB,CAAE7T,UAAW,CAAE4S,UAAU,EAAMhO,MAAO,KAA7FvF,EAHe,EAGfA,KAWJhI,GAdmB,EAGTiI,MAHS,EAGFC,QAWRF,EAAOA,EAAKhI,OAAS,IAC9BoT,EAAY,GAmBhB,OAlBAzM,QAAQC,IAAI5G,GACRA,EAAO0C,QACT1C,EAAOuT,SAAQ,SAAAK,GACb,IAAIC,EAAe,CACjB3R,MAAO0R,EAAIvI,IACX/I,QAASsR,EAAItR,QACbR,QAAS8R,EAAI5C,KAAO4C,EAAI5C,KAAO,KAC/B/O,SAAU2R,EAAI5R,OAAS,EACvBf,GAAI2S,EAAIJ,OAAOE,OAAOrI,IACtB9J,KAAMqS,EAAIJ,OAAOE,OAAOpS,SACxBH,QAASyS,EAAIJ,OAAOE,OAAOpR,QAC3Bd,OAAQoS,EAAIJ,OAAOE,OAAOlS,OAC1BC,OAAQmS,EAAIJ,OAAOE,OAAOjS,OAC1BG,UAAWgS,EAAIJ,OAAO5R,WAExBwR,EAAUxF,KAAKiG,MAIjB,oCACG7T,EAAOiL,KAAI,SAACkK,EAAK3U,GAChB,OACE,yBAAK4K,IAAK+J,EAAI9J,IAAKjJ,QAAS,kBA7BV,SAAA5B,GACxB+b,EAAoB/b,GACpB8Q,GAAa,GA2B2BmL,CAAkBjc,KAClD,yBAAKE,UAAWC,IAAOgb,mBACrB,yBAAKjb,UAAWC,IAAOO,oBAAqBiU,EAAI3B,OAAOE,OAAOpR,QAAU,yBAAKlB,IAAK+T,EAAI3B,OAAOE,OAAOpR,UAAc,kBAAC,IAAD,CAAcjB,KAAK,MAAMzB,MAAM,aAEjJ,6BACE,yBAAKc,UAAWC,IAAOib,SACrB,kBAAC,OAAD,CAAM5a,GAAE,mBAAcmU,EAAI3B,OAAOE,OAAOrI,MAAQE,YAAkB4J,EAAI3B,OAAOE,OAAOpS,YAGtF,yBAAKZ,UAAU,kBACb,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAkBd,MAAM,YACxB,yBAAKc,UAAU,SAASyU,EAAI3B,OAAOE,OAAOmI,UAAUnZ,SAEtD,yBAAKhC,UAAU,QACb,kBAAC,IAAD,CAAYd,MAAM,YAClB,yBAAKc,UAAU,SAASyU,EAAI3B,OAAOE,OAAOlS,OAA1C,MAEF,yBAAKd,UAAU,QACb,kBAAC,IAAD,CAAcd,MAAM,YACpB,yBAAKc,UAAU,SAASyU,EAAI3B,OAAOE,OAAOjS,UAI9C,yBAAKf,UAAWC,IAAOmb,YACrB,yBAAKpb,UAAWC,IAAOob,SACrB,uCACA,kBAAC,OAAD,CAAM/a,GAAE,oBAAemU,EAAI3B,OAAOG,SAAStI,MAAQE,YAAkB4J,EAAI3B,OAAOG,SAASpS,QAE3F,yBAAKb,UAAWC,IAAOqL,UACrB,kBAAC,OAAD,CAAMhL,GAAE,wBAAmBmU,EAAI3B,OAAOG,SAAShD,KAAvC,YAA+CwE,EAAI3B,OAAOG,SAAS/C,eAAiBuE,EAAI3B,OAAOG,SAAS/C,kBAKxH,yBAAKlQ,UAAWC,IAAO6P,gBACrB,yBAAKpP,IAAK+T,EAAI7S,eAMrB+O,GAAarR,EAAO0C,OAAS,GAAK,kBAAC5C,EAAA,EAAD,CAAYE,OAAQoT,EAAWrT,MA3ElD,WAClBuR,GAAa,IA0E2ErR,YAAaqc,M,kBCxD1FI,MA5Bf,WAME,OALArU,qBAAU,WACR7C,SAASiL,MAAT,aACA8F,OAAOC,SAAS,EAAG,KAClB,IAGD,oCACE,kBAAC,EAAD,MACA,yBAAK9V,UAAU,aACb,kBAAC,EAAD,MACA,6BACE,wBAAIA,UAAU,gBAAd,sBACA,yBAAKA,UAAWC,IAAOgc,YACrB,kBAAC,EAAD,QAGJ,6BACE,wBAAIjc,UAAU,gBAAd,sBACA,yBAAKA,UAAWC,IAAOic,WACrB,kBAAC,EAAD,WCjBGC,MARf,WACI,OACI,8C,6ECCFC,GAAWC,IAAMC,OAAO,CAC5BC,QAASC,wBACTC,iBAAiB,IAgBnBC,IAA6BN,IAZJ,SAAAO,GACvB1W,QAAQC,IAAIyW,EAAcC,QAE1B,IAAMC,EAASC,aAAaC,QAAQ,UAEpC,OAAOX,GAASY,KAAT,iBAAgC,CAAEH,OAAQA,IAAUnY,MAAK,SAAAuY,GAE9D,OADAN,EAAcO,SAASN,OAAOtV,KAAO,CAAE6V,OAAQF,EAAI3V,KAAK6V,QACjDC,QAAQC,gBAOJjB,U,kBC4CAkB,GA1DO,WACpB,IAAMjX,EAAcC,qBAAWC,MADL,EAGI7G,oBAAS,GAHb,mBAGnB8H,EAHmB,KA6BpB+V,GA7BoB,KA6BRC,YAAW,CAC3BC,iBAD2B,YAEzB,MAAO,CACLC,MAFwB,EAATA,OAEC,KAIpBC,iBAAkBC,WAAaha,MAAM,CACnC8Z,MAAOE,WAAaF,MAAM,mBAAmBG,SAAS,uBAGxDC,aAAc,SAACC,EAAD,GAA8C,EAAnCC,cAAmC,EAApBC,cACtC7B,GACGY,KAAK,kBAAmBe,GACxBrZ,MAAK,SAAAuY,GACJ5W,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAQ,SAAD,OAAWmV,EAAI3V,KAAKzG,KAApB,yDAAiFrB,KAAM,gBAE5I0e,OAAM,SAAAC,GACL9X,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAASqW,EAAIjB,SAAS5V,KAAKQ,QAAStI,KAAM,gBAlB7Ege,EAxBH,WACb,OACE,oCACE,wBAAIxd,UAAWC,IAAO8P,OAAtB,kBACA,kBAAC,IAAD,KACE,yBAAK/P,UAAWC,IAAO6T,gBACrB,6BACE,kBAAC,IAAD,CAAajL,UAAU,EAAOrJ,KAAK,QAAQqB,KAAK,QAAQ6W,MAAM,gBAGhE,kBAAC,IAAD,CAAUlY,KAAK,UAAf,UAEDgI,GAAW,kBAACuP,EAAA,EAAD,OAEd,uBAAG/W,UAAWC,IAAOme,MAArB,sBACsB,IACpB,gCACE,kBAAC,OAAD,CAAM9d,GAAG,aAAT,eACQ,UA4BlB,OACE,kBAAC+d,GAAA,EAAD,CAAMtO,MAAM,iBAAiBuO,YAAY,GACvC,kBAACf,EAAD,Q,8BC6BSgB,GAhFQ,SAAArV,GAAU,IAAD,EACExJ,mBAAS,IADX,mBACvB8e,EADuB,KACbC,EADa,KAExBle,EAAOme,cAAPne,GACEyV,EAAU2I,KAAYC,MAAM1V,EAAMoC,SAAS8B,QAA3C4I,MACF3P,EAAcC,qBAAWC,MAJD,EAMIa,YAAYyX,KAAa,CACzDtV,YADyD,WAEvDlD,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAS,gDAAiDtI,KAAM,aAC7G0J,EAAM6B,QAAQmC,KAAK,WAErBtD,QALyD,SAKjDrC,GACNlB,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAASP,EAAMO,QAAQjG,QAAQ,iBAAkB,IAAKrC,KAAM,cAZ/E,mBAMvBsf,EANuB,KAMTtX,EANS,KAMTA,QAuCf+V,EAAYC,YAAW,CAC3BC,iBAD2B,YAEzB,MAAO,CACLsB,KAFiC,EAAlBA,MAED,GACdC,SAHiC,EAAZA,UAGC,KAI1BrB,iBAAkBC,WAAaha,MAAM,CACnCmb,KAAMnB,WAAaqB,IAAI,EAAG,2CAA2CC,IAAI,GAAI,wCAAwCrB,SAAS,wBAC9HmB,SAAUpB,WACPqB,IAAI,EAAG,2CACPE,MAAM,CAACvB,MAAQ,QAAS,MAAO,wBAC/BsB,IAAI,GAAI,wCACRrB,SAAS,0BAGdC,aAAc,SAACC,EAAD,GAA8C,EAAnCC,cAAmC,EAApBC,cACtCQ,EAAY,IACZK,EAAW,CACT7W,UAAW,CACT1H,KACAyV,QACAoJ,SAAUrB,EAAOgB,UAvBPvB,EA7BH,SAAC,GAA8C,EAA5CO,OAA4C,EAApCsB,OAAoC,EAA5BtH,QAA4B,EAAnBuH,aACzC,OACE,oCACE,wBAAItf,UAAWC,IAAO8P,OAAtB,wBACA,kBAAC,IAAD,KACE,yBAAK/P,UAAWC,IAAO6T,gBACrB,6BACE,kBAAC,IAAD,CAAajL,UAAU,EAAOrJ,KAAK,WAAWqB,KAAK,OAAO6W,MAAM,kBAGlE,6BACE,kBAAC,IAAD,CAAa7O,UAAU,EAAOrJ,KAAK,WAAWqB,KAAK,WAAW6W,MAAM,sBAErE8G,GACCA,EAASjU,KAAI,SAAC4T,EAAKre,GACjB,OACE,uBAAG4K,IAAK5K,EAAGE,UAAWC,IAAOsf,cAC1BpB,EAAItc,QAAQ,iBAAkB,QAIvC,kBAAC,IAAD,CAAUrC,KAAK,UAAf,gBAEDgI,GAAW,kBAACuP,EAAA,EAAD,WAkCpB,OACE,kBAACsH,GAAA,EAAD,CAAMtO,MAAM,cAAcuO,YAAY,GACpC,kBAACf,EAAD,Q,+mBCzEN,IAoGeiC,GApGK,SAAAtW,GAAU,IAAD,EACiBxJ,mBAAS,MAD1B,mBACpB+f,EADoB,KACJC,EADI,KAErBrZ,EAAcC,qBAAWC,MACzBuD,EAASZ,EAAMyW,MAAMC,OAAOrf,GAElCoI,aAAcO,EAAM6B,QAAS1E,GALF,MAOMmT,YAASqG,KAAU,CAClD5X,UAAW,CAAE1H,GAAIuJ,KADXtC,EAPmB,EAOnBA,QAASD,EAPU,EAOVA,MAAOD,EAPG,EAOHA,KAPG,EAWiBF,YAAY0Y,KAAa,CACnEvW,YADmE,YACtC,IAAfwW,EAAc,EAAdA,WACZL,EAAkBK,GAClB1Z,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAQ,kBAAoBtI,KAAM,aAC/EqW,OAAOC,SAAS,EAAG,IAErBlM,QANmE,WAOjEvD,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAS,6CAA8CtI,KAAM,WAC1GqW,OAAOC,SAAS,EAAG,MAnBI,mBAWpBiK,EAXoB,KAWGC,EAXH,KAWNxY,QAYjByY,EAAYR,IAAmBnY,EAAOA,EAAKlH,KAAO,MAElDmH,GACFlB,EAAY,CAAE7G,KAAM,eAAgBmK,MAAO,CAAE7B,QAAS,6CAA8CtI,KAAM,WAG5G,IAgCM0gB,EAAkB1C,YAAW,CACjC2C,oBAAoB,EACpB1C,iBAFiC,YAG/B,MAAO,CACL7c,SAFuD,EAAxCA,UAEO,GACtBO,YAHuD,EAA9BA,aAGG,GAC5BS,QAJuD,EAAjBA,SAIlB,GACpBqO,KALuD,EAARA,MAKjC,KAGlB0N,iBAAkBC,WAAaha,MAAM,CACnChD,SAAUgd,WAAaC,SAAS,oBAAoBqB,IAAI,GAAI,sCAC5D/d,YAAayc,WAAasB,IAAI,IAAK,uCACnCjP,KAAM2N,WAAasB,IAAI,GAAI,wCAG7BpB,aAAc,SAACC,EAAD,GAAkC,EAAvB7U,MAAuB,EAAhBkX,UAAiB,IAC3CC,EAAYtC,EAAOnc,QACC,iBAAbye,IACTA,EAAYtC,EAAOnc,QAAUmc,EAAOnc,QAAQ0U,MAAM,YAAY,GAAK,MAGrEyJ,EAAW,CACT9X,UAAU,GAAD,GACJ8V,EADI,CAEPnc,QAASye,EACT9f,GAAIuJ,QA1BY0T,EAhCX,SAAAtU,GACX,OACE,yBAAKlJ,UAAWC,KAAO6T,gBACrB,kBAAC,IAAD,KACE,6BACE,6BACE,kBAAC,IAAD,CAAOjT,KAAK,UAAUyf,UAAWjM,QAEnC,6BACE,kBAAC,IAAD,CAAaxL,UAAU,EAAOhI,KAAK,WAAW6W,MAAM,kBAGtD,6BACE,kBAAC,IAAD,CAAYW,WAAS,EAACD,KAAK,IAAIvX,KAAK,cAAc6W,MAAM,2BAG1D,6BACE,kBAAC,IAAD,CAAa7O,UAAU,EAAOhI,KAAK,OAAO6W,MAAM,WAIpD,kBAAC,IAAD,CAAU7O,SAAUK,EAAMoW,aAAc9f,KAAK,UAA7C,WAIF,yBAAKQ,UAAWC,KAAOsgB,MACrB,kBAAC,OAAD,CAAMjgB,GAAE,mBAAcwJ,IAAtB,2BAqCR,OACE,kBAACuU,GAAA,EAAD,CAAMtO,MAAO,eAAgBuO,YAAY,IACrC9W,GAAWwY,IAAa,kBAACjJ,EAAA,EAAD,MACzBkJ,KAAezY,GAAWwY,IAAa,kBAACE,EAAoBD,K,oBCpDpDO,OAtDf,WACE,OACE,gCACE,yBAAKxgB,UAAWC,KAAOwQ,KACrB,6BACE,yBAAK/P,IAAKgT,EAAQ,KAAgC5R,IAAI,MAExD,6BACE,4BAAQ9B,UAAWC,KAAO8P,OAA1B,YAEF,6BACE,4BAAQ/P,UAAWC,KAAO8P,OAA1B,aACA,4BACE,sCACA,sCAGJ,6BACE,4BAAQ/P,UAAWC,KAAO8P,OAA1B,WACA,4BACE,wCACA,0CACA,wCAGJ,6BACE,4BAAQ/P,UAAWC,KAAO8P,OAA1B,WACA,yBAAK/P,UAAWC,KAAOwgB,aACrB,8BACE,kBAAC,IAAD,CAAgB9f,KAAK,SAASzB,MAAM,aAEtC,8BACE,kBAAC,IAAD,CAAoByB,KAAK,SAASzB,MAAM,aAE1C,8BACE,kBAAC,IAAD,CAAkByB,KAAK,SAASzB,MAAM,gBAM9C,yBAAKc,UAAWC,KAAOygB,QACrB,yBAAK1gB,UAAWC,KAAO+W,WACrB,yBAAKhX,UAAWC,KAAO0gB,WAAvB,4CACA,yBAAK3gB,UAAWC,KAAO2gB,KACrB,6CACA,oD,UCrCNC,GAAa9R,IAAM+R,MAAK,kBAAM,wDAC9BC,GAAUhS,IAAM+R,MAAK,kBAAM,uDAC3BE,GAAgBjS,IAAM+R,MAAK,kBAAM,wDACjCG,GAAmBlS,IAAM+R,MAAK,kBAAM,wDACpCI,GAAYnS,IAAM+R,MAAK,kBAAM,8DAC7BK,GAASpS,IAAM+R,MAAK,kBAAM,wDAC1BM,GAAUrS,IAAM+R,MAAK,kBAAM,wDAC3BO,GAAWtS,IAAM+R,MAAK,kBAAM,kCAC5BQ,GAAQvS,IAAM+R,MAAK,kBAAM,kCACzBS,GAAiBxS,IAAM+R,MAAK,kBAAM,wDA6DzBU,GA3DG,WAChB,IAAMC,EAAe,CACnBC,MAAO,CACLxS,SAAU,GACV1P,KAAM,WAERY,KAAM2V,gBANc,EAyBI4L,cAhBP,SAACC,EAAOC,GACzB,OAAQA,EAAOriB,MACb,IAAK,QAEH,YADAoiB,EAAMxhB,KAAOyhB,EAAOlY,OAEtB,IAAK,SAGH,OAFAiY,EAAMxhB,KAAK0J,OAAS,UACpB8X,EAAMxhB,KAAKZ,KAAO,MAEpB,IAAK,eAGH,OAFAoiB,EAAMF,MAAMxS,SAAShC,KAAK2U,EAAOlY,MAAM7B,cACvC8Z,EAAMF,MAAMliB,KAAOqiB,EAAOlY,MAAMnK,SAKgBiiB,GAzBhC,mBAyBfK,EAzBe,KAyBRC,EAzBQ,KA2BtB,OACE,kBAAC,KAAaC,SAAd,CAAuBrY,MAAOmY,GAC5B,kBAAC,KAAgBE,SAAjB,CAA0BrY,MAAOoY,GAC/B,kBAAC,gBAAD,KACE,kBAACjT,EAAA,EAAD,CAAcI,SAAU4S,EAAMJ,MAAMxS,SAAU1P,KAAMsiB,EAAMJ,MAAMliB,OAChE,kBAAC,WAAD,CAAUyiB,SAAU,kBAAClL,EAAA,EAAD,OAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmL,KAAK,IAAI5B,UAAWtE,EAAWmG,OAAO,IAC7C,kBAAC,IAAD,CAAOD,KAAK,OAAO5B,UAAWiB,KAC9B,kBAAC,IAAD,CAAOW,KAAK,YAAY5B,UAAWe,KACnC,kBAAC,IAAD,CAAOa,KAAK,SAAS5B,UAAWgB,KAChC,kBAAC,IAAD,CAAOY,KAAK,iBAAiB5B,UAAWhD,KACxC,kBAAC,IAAD,CAAO4E,KAAK,sBAAsB5B,UAAW/B,KAC7C,kBAAC,IAAD,CAAO2D,KAAK,oBAAoB5B,UAAWd,KAC3C,kBAAC,IAAD,CAAO0C,KAAK,qBAAqB5B,UAAWS,KAC5C,kBAAC,IAAD,CAAOmB,KAAK,mBAAmB5B,UAAWa,KAC1C,kBAAC,IAAD,CAAOe,KAAK,qBAAqBE,OAAQ,SAAAlZ,GAAK,OAAI,kBAACkY,GAAYlY,MAC/D,kBAAC,IAAD,CAAOgZ,KAAK,gBAAgB5B,UAAWU,KACvC,kBAAC,IAAD,CAAOkB,KAAK,2BAA2B5B,UAAWO,KAClD,kBAAC,IAAD,CAAOqB,KAAK,UAAU5B,UAAWW,KAbnC,WAesB,SAAnBa,EAAM1hB,KAAKZ,MAAmB,kBAAC,IAAD,CAAO0iB,KAAK,eAAe5B,UAAWY,KACrE,kBAAC,IAAD,CAAOZ,UAAWnE,MAGtB,kBAACkG,GAAD,UCvDKC,GAfH,WAAO,IAAD,EACc5iB,oBAAS,GADvB,mBACT8H,EADS,KACA+a,EADA,KAYhB,OATA5a,qBAAU,WAMR,OALAyU,GAASY,KAAK,WAAY,CAAEwF,YAAa,YAAa9d,MAAK,SAAAuY,GACzDzT,aAAeyT,EAAI3V,KAAKmb,aACxBF,GAAW,MAGNtc,QAAQC,IAAI,cAClB,IAEI,oCAAGsB,EAAU,kBAACuP,EAAA,EAAD,MAAc,kBAAC,GAAD,Q,gGCwFpC2L,IAASN,OAAO,mBA3FF,WACZ,IAAMO,EAAQ,IAAIC,KAAc,IAE1BC,EAAc,IAAIC,eACtB,SAACC,EAAWC,GAAZ,OACE,IAAIC,MAAW,SAAAC,GACb,IAAIC,EAqBJ,OApBA/F,QAAQC,QAAQ0F,GACbre,MAAK,SAAAqe,GACJ,IAAMN,EAAc9M,eAChB8M,GACFM,EAAUK,WAAW,CACnBC,QAAS,CACPC,cAAc,UAAD,OAAYb,SAKhC/d,MAAK,WACJye,EAASH,EAAQD,GAAWQ,UAAU,CACpCthB,KAAMihB,EAASjhB,KAAKuhB,KAAKN,GACzB3b,MAAO2b,EAAS3b,MAAMic,KAAKN,GAC3BO,SAAUP,EAASO,SAASD,KAAKN,QAGpChF,MAAMgF,EAAS3b,MAAMic,KAAKN,IAEtB,WACDC,GAAQA,EAAOO,qBAKrBja,EAAS,IAAIka,KAAa,CAC9BpD,KAAMuC,cAAWc,KAAK,CACpB,IAAIC,KAAiB,CACnBC,iBAAkB,cAClBC,wBAAyB,WACvB,IAAM/N,EAAQL,eAEd,IAAKK,EACH,OAAO,EAGT,IAAK,IACKgO,EAAQ/N,KAAUD,GAAlBgO,IACR,QAAI9S,KAAK+S,OAAe,IAAND,GAKlB,SACA,OAAO,IAGXE,iBAAkB,WAChB,OAAOC,MAAM,GAAD,OAAI3H,wBAAJ,YAAgD,CAC1D4H,OAAQ,OACR5B,YAAa,aAGjB6B,YAAa,SAAA5B,GACXxc,QAAQC,IAAIuc,GACZjZ,aAAeiZ,IAEjB6B,YAAa,SAAAnG,GACXlY,QAAQse,KAAK,iDACbte,QAAQsB,MAAM4W,MAQlB0E,EACA,IAAI2B,oBAAiB,CACnBC,IAAKjI,wBACLgG,YAAa,cAGjBG,UAGF,OACE,kBAAC,KAAD,CAAgBlZ,OAAQA,GACtB,kBAAC,GAAD,SAKU,MAAW3E,SAASC,eAAe,U,mBCzGnD1G,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,KAAO,sBAAsB,UAAY,2BAA2B,WAAa,4BAA4B,MAAQ,uBAAuB,eAAiB,gCAAgC,OAAS,wBAAwB,SAAW,0BAA0B,MAAQ,uBAAuB,KAAO,sBAAsB,OAAS,0B,mBCAzXD,EAAOC,QAAU,CAAC,aAAe,qCAAqC,kBAAoB,0CAA0C,mBAAqB,2CAA2C,QAAU,gCAAgC,KAAO,6BAA6B,QAAU,gCAAgC,UAAY,kCAAkC,WAAa,mCAAmC,QAAU,gCAAgC,SAAW,mC,mBCA/cD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,YAAc,4BAA4B,OAAS,uBAAuB,UAAY,0BAA0B,UAAY,0BAA0B,IAAM,sB,mBCAxMD,EAAOC,QAAU,CAAC,WAAa,6BAA6B,YAAc,8BAA8B,IAAM,sBAAsB,KAAO,yB,mBCA3ID,EAAOC,QAAU,CAAC,cAAgB,4BAA4B,KAAO,mBAAmB,UAAY,wBAAwB,MAAQ,oBAAoB,MAAQ,oBAAoB,WAAa,yBAAyB,KAAO,mBAAmB,QAAU,sBAAsB,KAAO,mBAAmB,MAAQ,sB,o8ICC/S,IAAMomB,EAAWlmB,IAAH,KAQRqhB,EAAWrhB,IAAH,KAURmmB,EAAQnmB,IAAH,KAYLqgB,EAAcrgB,IAAH,KAUX8K,EAAS9K,IAAH,KAMNshB,EAActhB,IAAH,KAWXomB,EAAKpmB,IAAH,KAeFqmB,EAAermB,IAAH,KA4DZsmB,EAAetmB,IAAH,M,mBCrIzBH,EAAOC,QAAU,CAAC,eAAiB,iCAAiC,aAAe,+BAA+B,MAAQ,wBAAwB,KAAO,uBAAuB,aAAe,iC,mBCA/LD,EAAOC,QAAU,CAAC,aAAe,oCAAoC,kBAAoB,yCAAyC,mBAAqB,0CAA0C,QAAU,+BAA+B,KAAO,4BAA4B,QAAU,+BAA+B,UAAY,iCAAiC,WAAa,kCAAkC,QAAU,+BAA+B,SAAW,gCAAgC,eAAiB,wC,gCCDvf,6BAiBe+f,IAdf,YAAgD,IAAhCtO,EAA+B,EAA/BA,MAAOpM,EAAwB,EAAxBA,SAAU2a,EAAc,EAAdA,WAM/B,OALA3W,qBAAU,WACR7C,SAASiL,MAAT,UAAoBA,EAApB,UACA8F,OAAOC,SAAS,EAAG,KAClB,CAAC/F,IAGF,oCACGuO,GAAc,kBAAC,IAAD,MACf,yBAAKte,UAAU,aAAa2D,M,iwDCV3B,IAAMwD,EAAqB3I,IAAH,KAkBlBumB,EAAoBvmB,IAAH,KAQjBsd,EAAsBtd,IAAH,KA6BnBib,EAA0Bjb,IAAH,M,mBCxDpCH,EAAOC,QAAU,CAAC,QAAU,0BAA0B,KAAO,uBAAuB,UAAY,+B","file":"static/js/main.2da2966c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertError\":\"FlashMessage_alertError__1O2Hv\",\"alertSuccess\":\"FlashMessage_alertSuccess__TwbTr\",\"floatingAlerts\":\"FlashMessage_floatingAlerts__3CCwH\",\"floatingAlert\":\"FlashMessage_floatingAlert__1Fo-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"innerResult\":\"SearchResList_innerResult__lbvAe\",\"result\":\"SearchResList_result__3sYDk\",\"item\":\"SearchResList_item__1UHuJ\",\"noData\":\"SearchResList_noData__2sKmf\"};","import gql from \"graphql-tag\"\r\n\r\nexport const GET_BUSINESS = gql`\r\n  query Business($id: ID!, $onlyAuthor: Boolean, $preview: Boolean) {\r\n    business(id: $id, onlyAuthor: $onlyAuthor, preview: $preview) {\r\n      name\r\n      desc\r\n      excerpt\r\n      address\r\n      city\r\n      neighborhood\r\n      cat\r\n      subCat\r\n      picture\r\n      nbrRev\r\n      totRev\r\n      revPic\r\n      published\r\n      location {\r\n        coordinates\r\n      }\r\n      phone\r\n      price\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_BUSINESS_WITH_REVIEWS = gql`\r\n  query Business($id: ID!, $onlyAuthor: Boolean) {\r\n    business(id: $id, onlyAuthor: $onlyAuthor) {\r\n      _id\r\n      name\r\n      desc\r\n      excerpt\r\n      address\r\n      city\r\n      neighborhood\r\n      cat\r\n      subCat\r\n      picture\r\n      nbrRev\r\n      totRev\r\n      revPic\r\n      published\r\n      price\r\n      owner {\r\n        _id\r\n      }\r\n      reviews {\r\n        _id\r\n        text\r\n        rating\r\n        createdAt\r\n        claps\r\n        clappers\r\n        picture {\r\n          _id\r\n          picture\r\n          desc\r\n          claps\r\n        }\r\n        author {\r\n          userName\r\n          picture\r\n          _id\r\n          nbrRev\r\n          revPic\r\n          followers {\r\n            _id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_BUSINESSES = gql`\r\n  query Businesses($published: Boolean, $query: String, $limit: Int, $type: String, $cat: String, $subCat: [String], $city: String, $neighborhood: String, $price: String, $bound: [Float], $authorId: ID) {\r\n    businesses(published: $published, limit: $limit, query: $query, type: $type, cat: $cat, subCat: $subCat, city: $city, neighborhood: $neighborhood, price: $price, bound: $bound, authorId: $authorId) {\r\n      _id\r\n      name\r\n      excerpt\r\n      address\r\n      city\r\n      neighborhood\r\n      location {\r\n        coordinates\r\n      }\r\n      cat\r\n      subCat\r\n      picture\r\n      nbrRev\r\n      totRev\r\n      revPic\r\n      price\r\n      phone\r\n      published\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_BUSINESS = gql`\r\n  mutation UpdateBusiness($id: ID!, $picture: Upload, $name: String, $desc: String, $excerpt: String, $address: String, $city: String, $neighborhood: String, $cat: String, $subCat: [String!], $published: Boolean, $latitude: String, $longitude: String, $price: String, $phone: String) {\r\n    updateBusiness(id: $id, data: { picture: $picture, name: $name, desc: $desc, excerpt: $excerpt, address: $address, city: $city, neighborhood: $neighborhood, cat: $cat, subCat: $subCat, published: $published, latitude: $latitude, longitude: $longitude, price: $price, phone: $phone }) {\r\n      name\r\n      excerpt\r\n      address\r\n      city\r\n      neighborhood\r\n      location {\r\n        coordinates\r\n      }\r\n      cat\r\n      subCat\r\n      picture\r\n      nbrRev\r\n      totRev\r\n      revPic\r\n      price\r\n      phone\r\n    }\r\n  }\r\n`\r\n\r\nexport const CREATE_BUSINESS = gql`\r\n  mutation CreateBusiness($picture: Upload, $name: String!, $desc: String!, $excerpt: String, $address: String, $city: String!, $neighborhood: String!, $cat: String!, $subCat: [String!], $latitude: String, $longitude: String, $price: String, $phone: String) {\r\n    createBusiness(data: { picture: $picture, name: $name, desc: $desc, excerpt: $excerpt, address: $address, city: $city, neighborhood: $neighborhood, cat: $cat, subCat: $subCat, latitude: $latitude, longitude: $longitude, price: $price, phone: $phone }) {\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`\r\n\r\nexport const DELETE_BUSINESS = gql`\r\n  mutation DeleteBusiness($id: ID!) {\r\n    deleteBusiness(id: $id) {\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`\r\n\r\nexport const CREATE_CLAIM = gql`\r\n  mutation CreateClaim($business: String!) {\r\n    createClaim(data: { business: $business }) {\r\n      _id\r\n    }\r\n  }\r\n`\r\n","import {  withStyles } from '@material-ui/core'\r\nimport Rating from '@material-ui/lab/Rating'\r\n\r\nexport  const StyledRating = withStyles({\r\n    iconFilled: {\r\n      color: '#186bff',\r\n    }\r\n  })(Rating);","import React, { useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { timeAgo } from \"../../../utils/timeAgo\"\r\nimport styles from \"./ImageModal.module.scss\"\r\nimport { FaUserCircle } from \"react-icons/fa\"\r\nimport { BsStarFill } from \"react-icons/bs\"\r\nimport { AiFillCamera } from \"react-icons/ai\"\r\nimport Clap from \"../Clap/Clap\"\r\n\r\nexport default function ImageModal({ close, images, selectedImg, type }) {\r\n  let initialIndex = selectedImg ? selectedImg : 0\r\n  const [index, setIndex] = useState(initialIndex)\r\n\r\n  const moveImage = i => {\r\n    setIndex(prevIndex => prevIndex + i)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.modalContainer}>\r\n      <div className={styles.imageMeta}>\r\n        <div className={styles.user}>\r\n          <div className={styles.imgContainer}>\r\n            <Link to={`/${type == \"business\" ? \"business\" : \"profile\"}/${images[index].id}`}>\r\n              <div className={styles.revContainerAvatar}>{images[index].profPic ? <img src={images[index].profPic} /> : <FaUserCircle size=\"90%\" color=\"#0996e8\" />}</div>\r\n            </Link>\r\n          </div>\r\n\r\n          <div>\r\n            <h2 className={styles.userName}>\r\n              <Link to={`/${type == \"business\" ? \"business\" : \"profile\"}/${images[index].id}`}>{images[index].name}</Link>\r\n            </h2>\r\n            <div className=\"chipsContainer\">\r\n              <div className=\"chip\">\r\n                <BsStarFill color=\"#0996e8\" />\r\n                <div className=\"label\">{images[index].nbrRev} </div>\r\n              </div>\r\n              <div className=\"chip\">\r\n                <AiFillCamera color=\"#0996e8\" />\r\n                <div className=\"label\">{images[index].revPic}</div>\r\n              </div>\r\n            </div>\r\n            <p className={styles.date}>{timeAgo(images[index].createdAt)}</p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.description}>{images[index].picDesc}</div>\r\n\r\n        <div className={styles.likebtn}>\r\n          <Clap claps={images[index].picClaps} id={images[index].picId} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.image}>\r\n        <span className={styles.close} onClick={close}>\r\n          &times;\r\n        </span>\r\n        <img className={styles.modalContent} src={images[index].picture.replace(\"t_meduim\", \"t_large\")} alt=\"Snow\" />\r\n        {index != 0 && (\r\n          <span className={styles.prev} onClick={() => moveImage(-1)}>\r\n            &#10094;\r\n          </span>\r\n        )}\r\n        {index != images.length - 1 && (\r\n          <span className={styles.next} onClick={() => moveImage(1)}>\r\n            &#10095;\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useLayoutEffect, useState } from \"react\"\r\nimport mojs from \"mo-js\"\r\n/**\r\n * Custom Hook for animation\r\n */\r\nconst useClapAnimation = ({ clapEl, countEl, clapTotalEl }) => {\r\n  const [animationTimeline, setAnimationTimeline] = useState(() => new mojs.Timeline())\r\n\r\n  useLayoutEffect(() => {\r\n    if (!clapEl || !countEl || !clapTotalEl) {\r\n      return\r\n    }\r\n\r\n    const tlDuration = 300\r\n    const scaleButton = new mojs.Html({\r\n      el: clapEl,\r\n      duration: tlDuration,\r\n      scale: { 1.3: 1 },\r\n      easing: mojs.easing.ease.out\r\n    })\r\n\r\n    const triangleBurst = new mojs.Burst({\r\n      parent: clapEl,\r\n      radius: { 50: 95 },\r\n      count: 5,\r\n      angle: 30,\r\n      children: {\r\n        shape: \"polygon\",\r\n        radius: { 6: 0 },\r\n        stroke: \"rgba(211,54,0,0.5)\",\r\n        strokeWidth: 2,\r\n        angle: 210,\r\n        delay: 30,\r\n        speed: 0.2,\r\n        easing: mojs.easing.bezier(0.1, 1, 0.3, 1),\r\n        duration: tlDuration\r\n      }\r\n    })\r\n\r\n    const circleBurst = new mojs.Burst({\r\n      parent: clapEl,\r\n      radius: { 50: 75 },\r\n      angle: 25,\r\n      duration: tlDuration,\r\n      children: {\r\n        shape: \"circle\",\r\n        fill: \"rgba(149,165,166,0.5)\",\r\n        delay: 30,\r\n        speed: 0.2,\r\n        radius: { 3: 0 },\r\n        easing: mojs.easing.bezier(0.1, 1, 0.3, 1)\r\n      }\r\n    })\r\n\r\n    const countAnimation = new mojs.Html({\r\n      el: countEl,\r\n      opacity: { 0: 1 },\r\n      y: { 0: -30 },\r\n      duration: tlDuration\r\n    }).then({\r\n      opacity: { 1: 0 },\r\n      y: -80,\r\n      delay: tlDuration / 2\r\n    })\r\n\r\n    const countTotalAnimation = new mojs.Html({\r\n      el: clapTotalEl,\r\n      opacity: { 0: 1 },\r\n      delay: (3 * tlDuration) / 2,\r\n      duration: tlDuration,\r\n      y: { 0: -3 }\r\n    }).then({\r\n      opacity: { 1: 0 },\r\n      y: -80,\r\n      delay: 4 * tlDuration\r\n    })\r\n\r\n    if (typeof clapEl === \"string\") {\r\n      const clap = document.getElementById(\"clap\")\r\n      clap.style.transform = \"scale(1,1)\"\r\n    } else {\r\n      clapEl.style.transform = \"scale(1,1)\"\r\n    }\r\n\r\n    const newAnimationTimeline = animationTimeline.add([scaleButton, countTotalAnimation, countAnimation, triangleBurst, circleBurst])\r\n    setAnimationTimeline(newAnimationTimeline)\r\n  }, [clapEl, countEl, clapTotalEl])\r\n\r\n  return animationTimeline\r\n}\r\n\r\nexport default useClapAnimation\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\"\r\nimport useClapAnimation from \"./useClapAnimation\"\r\nimport { useMutation } from \"@apollo/react-hooks\"\r\nimport { UPDATE_IMAGE_CLAPS } from \"../../../qraphQl/imageType\"\r\nimport { UPDATE_REVIEW } from \"../../../qraphQl/reviewType\"\r\nimport styles from \"./Clap.module.scss\"\r\nimport { DispatchContext } from \"../../../Context\"\r\nimport { loginRequired } from \"../../../AccessToken\"\r\n\r\nconst MAXIMUM_USER_CLAP = 5\r\n\r\nconst MediumClap = ({ claps, id, type }) => {\r\n  const appDispatch = useContext(DispatchContext)\r\n  const [clapState, setClapState] = useState({\r\n    count: 0,\r\n    countTotal: claps,\r\n    isClicked: false\r\n  })\r\n  const { count, countTotal, isClicked } = clapState\r\n\r\n  const [disableBtn, setDisableBtn] = useState(false)\r\n  const [sendDataCount, setSendDataCount] = useState(0)\r\n\r\n  const [{ clapRef, clapCountRef, clapTotalRef }, setRefState] = useState({})\r\n\r\n  const graphQlQuery = type == \"review\" ? UPDATE_REVIEW : UPDATE_IMAGE_CLAPS\r\n\r\n  const [updateClaps, { data, error, loading }] = useMutation(graphQlQuery)\r\n  const [stateError, setStateError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const claps = type == \"review\" ? data.updateReview.claps : data.updateImage.claps\r\n\r\n      setClapState({\r\n        isClicked: false,\r\n        count: 0,\r\n        countTotal: claps\r\n      })\r\n    }\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    setStateError(null)\r\n    setClapState({\r\n      isClicked: false,\r\n      count: 0,\r\n      countTotal: claps\r\n    })\r\n  }, [id])\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setStateError(`${error.message.replace(\"GraphQL error:\", \"\")}`)\r\n      setClapState(prevState => ({\r\n        isClicked: false,\r\n        count: 0,\r\n        countTotal: claps\r\n      }))\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (sendDataCount) {\r\n      const delay = setTimeout(() => updateClaps({ variables: { id, claps: count } }), 2000)\r\n\r\n      return () => clearTimeout(delay)\r\n    }\r\n  }, [sendDataCount])\r\n\r\n  const setRef = useCallback(node => {\r\n    setRefState(prevRefState => ({\r\n      ...prevRefState,\r\n      [node.dataset.refkey]: node\r\n    }))\r\n  }, [])\r\n\r\n  const animationTimeline = useClapAnimation({\r\n    clapEl: clapRef,\r\n    countEl: clapCountRef,\r\n    clapTotalEl: clapTotalRef\r\n  })\r\n\r\n  const handleClapClick = () => {\r\n    let isLoged = loginRequired(null, appDispatch)\r\n    if (count < MAXIMUM_USER_CLAP && isLoged) {\r\n      animationTimeline.replay()\r\n      setClapState(prevState => ({\r\n        isClicked: true,\r\n        count: prevState.count + 1,\r\n        countTotal: prevState.countTotal ? prevState.countTotal + 1 : 1\r\n      }))\r\n\r\n      setSendDataCount(prev => prev + 1)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.clapContainer}>\r\n        <button ref={setRef} data-refkey=\"clapRef\" className={styles.clap} onClick={handleClapClick} disabled={disableBtn}>\r\n          <ClapIcon isClicked={isClicked} />\r\n          <ClapCount count={count} setRef={setRef} />\r\n          <CountTotal countTotal={countTotal} setRef={setRef} />\r\n        </button>\r\n        {!isClicked && <div className={styles.initialTot}>{countTotal}</div>}\r\n      </div>\r\n      {stateError && <div className={styles.error}>{stateError}</div>}\r\n    </>\r\n  )\r\n}\r\n\r\n/**\r\n * subcomponents\r\n */\r\n\r\nconst ClapIcon = ({ isClicked }) => {\r\n  return (\r\n    <span>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-549 338 100.1 125\" className={`${styles.icon} ${isClicked && styles.checked}`}>\r\n        <path d=\"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7 1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9 2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5 1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2 5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2 .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6 10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z\" />\r\n        <path d=\"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1 5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2 5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9 2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6 11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7 4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9\" />\r\n      </svg>\r\n    </span>\r\n  )\r\n}\r\nconst ClapCount = ({ count, setRef }) => {\r\n  return (\r\n    <span ref={setRef} data-refkey=\"clapCountRef\" className={styles.count}>\r\n      + {count}\r\n    </span>\r\n  )\r\n}\r\n\r\nconst CountTotal = ({ countTotal, setRef }) => {\r\n  console.log(countTotal)\r\n  return (\r\n    <span ref={setRef} data-refkey=\"clapTotalRef\" className={styles.total}>\r\n      {countTotal}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default MediumClap\r\n","import gql from \"graphql-tag\"\r\n\r\nexport const CREATE_REVIEW = gql`\r\n  mutation CreateReview($picture: [Upload], $text: String!, $rating: Int!, $business: ID!) {\r\n    createReview(data: { picture: $picture, text: $text, rating: $rating, business: $business }) {\r\n      _id\r\n      business {\r\n        nbrRev\r\n        revPic\r\n        totRev\r\n        author {\r\n          _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const GET_REVIEWS = gql`\r\n  query Reviews($featured: Boolean, $limit: Int) {\r\n    reviews(featured: $featured, limit: $limit) {\r\n      _id\r\n      text\r\n      rating\r\n      claps\r\n      clappers\r\n      createdAt\r\n      picture {\r\n        _id\r\n        picture\r\n        desc\r\n      }\r\n      author {\r\n        userName\r\n        picture\r\n        _id\r\n        nbrRev\r\n        revPic\r\n        followers {\r\n          _id\r\n        }\r\n      }\r\n      business {\r\n        _id\r\n        name\r\n        city\r\n        neighborhood\r\n        nbrRev\r\n        revPic\r\n        totRev\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_REVIEW = gql`\r\n  mutation UpdateReview($id: ID!, $claps: Int) {\r\n    updateReview(id: $id, data: { claps: $claps }) {\r\n      _id\r\n      author {\r\n        _id\r\n      }\r\n      business {\r\n        _id\r\n        name\r\n      }\r\n      claps\r\n    }\r\n  }\r\n`\r\n","import React, { Fragment, useContext } from \"react\"\r\nimport { Link, Redirect } from \"react-router-dom\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport styles from \"./LoginBtn.module.scss\"\r\nimport { useMutation } from \"@apollo/react-hooks\"\r\nimport { loggedInUser } from \"../../../../AccessToken\"\r\nimport { LOGOUT } from \"../../../../qraphQl/userType\"\r\nimport { setAccessToken } from \"../../../../AccessToken\"\r\nimport { StateContext, DispatchContext } from \"../../../../Context\"\r\n\r\nfunction LoginBtn(props) {\r\n  const { FP } = props // allow us to change style based on where is dispalyed front page or top bar\r\n  const appState = useContext(StateContext)\r\n  const appDispatch = useContext(DispatchContext)\r\n\r\n  const [logout, { client }] = useMutation(LOGOUT, {\r\n    onCompleted() {\r\n      setAccessToken(\"\")\r\n      client.resetStore()\r\n      appDispatch({ type: \"logout\" })\r\n      appDispatch({ type: \"flashMessage\", value: { message: \"Successfully loggedout\", type: \"success\" } })\r\n      return <Redirect to={\"/\"} />\r\n    },\r\n    onError(error) {\r\n      console.log(error)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      {appState.user.userId ? (\r\n        <div className={FP ? styles.btnSection : styles.btnSection2}>\r\n          <Link to={`/profile/${appState.user.userId}`}>\r\n            <div className={FP ? styles.btn : styles.btn2}>Profile</div>\r\n          </Link>\r\n          <div className={FP ? styles.btn : styles.btn2} onClick={logout}>\r\n            LogOut\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.btnSection}>\r\n          <Link to={`/login`}>\r\n            <div className={FP ? styles.btn : styles.btn2}>Login</div>\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(LoginBtn)\r\n","import React from \"react\"\r\nimport { upCaseFirstLetter } from \"../../../../utils/string\"\r\nimport styles from \"./SearchResList.module.scss\"\r\n\r\nfunction SearchResList({ data, name, selectSearchVal }) {\r\n  return (\r\n    <div className={styles.result}>\r\n      <div className={styles.innerResult}>\r\n        {typeof data != \"undefined\" && data.length ? (\r\n          data.map(result => {\r\n            const value = name == \"name\" ? result.name : result.neigh\r\n            return (\r\n              <div className={styles.item} key={result._id} onClick={() => selectSearchVal(value, name, result.cat)}>\r\n                {upCaseFirstLetter(result.name)}\r\n              </div>\r\n            )\r\n          })\r\n        ) : (\r\n          <div className={styles.noData}>no data</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchResList\r\n","import React, { useState, useRef, useEffect } from \"react\"\r\nimport { useLazyQuery } from \"@apollo/react-hooks\"\r\nimport SearchReslist from \"./SearchResList/SearchReslist\"\r\nimport styles from \"./SearchFilter.module.scss\"\r\nimport { GET_BUSINESSES } from \"../../../qraphQl/businessType\"\r\nimport { LOCATIONS } from \"../../../qraphQl/taxonomyType\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport inputError from \"../../../cssTransition/inputError.module.scss\"\r\nimport { CSSTransition } from \"react-transition-group\"\r\n\r\nconst SearchFilter = ({ history, FP }) => {\r\n  const [nameErr, setNameErr] = useState({ message: \"\", status: false })\r\n  const [locationErr, setLocationErr] = useState({ message: \"\", status: false })\r\n  const [name, setName] = useState(\"\")\r\n  const [location, setLocation] = useState(\"\")\r\n  const [selectedLocation, setSelectedLocation] = useState(\"\") //the user should select a location in order to submit a search\r\n  const [selectedLocationCat, setSelectedLocationCat] = useState() // Neighborhood or city\r\n  const [busSug, setBusSug] = useState(null)\r\n  const [locSug, setLocSug] = useState(null)\r\n  const [nameCount, setNameCount] = useState(0)\r\n  const [locationCount, setLocationCount] = useState(0)\r\n  const [doFetch, setDoFetch] = useState(true)\r\n\r\n  // QUERIES\r\n  const [getBusiness] = useLazyQuery(GET_BUSINESSES, {\r\n    onCompleted({ businesses }) {\r\n      setNameErr({ message: \"\", status: false })\r\n      setBusSug(() => businesses)\r\n    },\r\n    onError(error) {}\r\n  })\r\n  const [getLocation] = useLazyQuery(LOCATIONS, {\r\n    onCompleted({ locations }) {\r\n      setLocationErr({ message: \"\", status: false })\r\n      setLocSug(() => locations)\r\n    },\r\n    onError(error) {}\r\n  })\r\n\r\n  // Name Filter\r\n  const handleNameChange = event => {\r\n    if (!doFetch) {\r\n      setDoFetch(true)\r\n    }\r\n    const val = event.target.value\r\n    if (!val || val === \"\") {\r\n      setBusSug(null)\r\n      setNameErr({ message: \"\", status: false })\r\n    }\r\n    setName(val)\r\n  }\r\n\r\n  const handleNameBlur = () => {\r\n    setTimeout(() => setBusSug(null), 300)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (name != \"\" && doFetch) {\r\n      const delay = setTimeout(() => setNameCount(prev => prev + 1), 1000)\r\n      return () => clearTimeout(delay)\r\n    }\r\n  }, [name])\r\n\r\n  useEffect(() => {\r\n    if (nameCount) {\r\n      getBusiness({ variables: { query: name, limit: 10 } })\r\n    }\r\n  }, [nameCount])\r\n\r\n  // Location Filter\r\n\r\n  const handleLocationChange = event => {\r\n    const val = event.target.value\r\n    if (!doFetch) {\r\n      setDoFetch(true)\r\n    }\r\n\r\n    if (!val || val === \"\") {\r\n      setLocSug(null)\r\n      setLocationErr({ message: \"\", status: false })\r\n    }\r\n    setSelectedLocation(\"\")\r\n    setLocation(val)\r\n  }\r\n\r\n  const handleLocationBlur = () => {\r\n    setTimeout(() => setLocSug(null), 300)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (location != \"\" && doFetch) {\r\n      const delay = setTimeout(() => setLocationCount(prev => prev + 1), 1000)\r\n      return () => clearTimeout(delay)\r\n    }\r\n  }, [location])\r\n\r\n  useEffect(() => {\r\n    if (locationCount) {\r\n      getLocation({ variables: { query: location } })\r\n    }\r\n  }, [locationCount])\r\n\r\n  // handle when you select a business or a location\r\n\r\n  const selectSearchVal = (val, name, cat) => {\r\n    setDoFetch(false)\r\n    if (name == \"name\") {\r\n      setName(val)\r\n      setBusSug(null)\r\n    } else if (name == \"location\") {\r\n      setLocation(val)\r\n      setSelectedLocation(val)\r\n      setLocSug(null)\r\n      setSelectedLocationCat(cat)\r\n    }\r\n  }\r\n\r\n  // handle when you submit form\r\n  const handleSearchSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    if (!name) {\r\n      setNameErr({ message: \"Please enter a name\", status: true })\r\n    } else if (!selectedLocation) {\r\n      setLocationErr({ message: \"Please select a location\", status: true })\r\n    } else if (name && selectedLocation) {\r\n      history.push({\r\n        pathname: \"/search\",\r\n        search: `?name=${name}&location=${location}&locCat=${selectedLocationCat}`\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <form onSubmit={handleSearchSubmit}>\r\n        <div className={styles.searchFormContainer}>\r\n          <div className={styles.searchFormSection}>\r\n            <input className={FP ? styles.searchInput : styles.searchInput2} type=\"text\" name=\"name\" id=\"selectName\" onChange={handleNameChange} onBlur={handleNameBlur} value={name} placeholder=\"Business name\" autoComplete=\"off\" />\r\n            <CSSTransition in={nameErr.status} timeout={330} classNames={inputError} unmountOnExit>\r\n              <div className={styles.inputError}>{nameErr.message}</div>\r\n            </CSSTransition>\r\n            {busSug != null && <SearchReslist data={busSug} name=\"name\" selectSearchVal={selectSearchVal} />}\r\n          </div>\r\n          <div className={styles.searchFormSection}>\r\n            <input className={FP ? styles.searchInput : styles.searchInput2} type=\"text\" name=\"location\" id=\"selectLocation\" onChange={handleLocationChange} onBlur={handleLocationBlur} value={location} placeholder=\"location: city - neighborhood\" autoComplete=\"off\" />\r\n            <CSSTransition in={locationErr.status} timeout={330} classNames={inputError} unmountOnExit>\r\n              <div className={styles.inputError}>{locationErr.message}</div>\r\n            </CSSTransition>\r\n            {locSug != null && <SearchReslist data={locSug} name=\"location\" selectSearchVal={selectSearchVal} />}\r\n          </div>\r\n          <div>\r\n            <button className={FP ? styles.searchInput : styles.searchInput2}>Search</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(SearchFilter)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgGrid\":\"ImageGrid_imgGrid__LSN-A\",\"imgGridTop\":\"ImageGrid_imgGridTop__1Q3HA\",\"singleImg\":\"ImageGrid_singleImg__37GMn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buzPicture\":\"DropZone_buzPicture__bVIvM\",\"dropBox\":\"DropZone_dropBox__2F23l\",\"imgProfile\":\"DropZone_imgProfile__npCg_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Spinner_container__2xqUe\",\"ldsRing\":\"Spinner_ldsRing__lN7cj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"inputError_enter__2b5Uv\",\"enterActive\":\"inputError_enterActive__GJtzT\",\"exit\":\"inputError_exit__3TdYA\",\"exitActive\":\"inputError_exitActive__3gXW4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewGrid\":\"FrontPage_reviewGrid__34Vpr\",\"imageGrid\":\"FrontPage_imageGrid__23CoG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"innerContainer\":\"EditProfile_innerContainer__kFuSA\",\"link\":\"EditProfile_link__2pXZj\"};","import  gql  from 'graphql-tag'\r\n\r\nexport const LOCATION = gql` query Location( $name: String, $neigh: String){ \r\n  location( name: $name , neigh: $neigh ) { _id name neigh cat group lat lng } \r\n    }`\r\n\r\nexport const LOCATIONS = gql` query Locations($query: String, $group: String, $cat: String) { \r\n    locations(query: $query, group: $group , cat: $cat ) { _id name neigh cat group lat lng } \r\n     }`\r\n\r\n\r\nexport const CATEGORIES = gql` query Categories( $group: String, $cat: String) { \r\n  categories( group: $group , cat: $cat ) { _id name desc cat group } \r\n   }`\r\n\r\nexport const UPDATE_LOCATION = gql`\r\nmutation UpdateLocation( $id: ID! , $neigh: String, $name: String, $desc: String, $cat: String, $group: String, $lat: String, $lng: String)  {\r\n  updateLocation(id: $id, data : { name: $name, neigh: $neigh, desc: $desc, cat: $cat, group: $group, lat: $lat,  lng: $lng}) {\r\n    name\r\n  }\r\n}\r\n`\r\n\r\nexport const CREATE_LOCATION = gql`\r\nmutation CreateLocation(  $name: String!, $neigh: String!, $desc: String, $cat: String!, $group: String!, $lat: String!, $lng: String!)  {\r\n  createLocation( data : { name: $name, desc: $desc, neigh: $neigh, cat: $cat, group: $group, lat: $lat, \r\n    lng: $lng}) {\r\n    name\r\n  }\r\n}\r\n`\r\n\r\nexport const DELETE_LOCATION = gql`\r\nmutation DeleteLocation( $id: ID! )  {\r\n  deleteLocation( id : $id) {\r\n    _id\r\n  }\r\n}\r\n`\r\n\r\n// mutation Categories\r\n\r\nexport const UPDATE_CATEGORY = gql`\r\nmutation UpdateCategory( $id: ID! ,  $name: String, $desc: String, $cat: String, $group: String)  {\r\n  updateCategory(id: $id, data : { name: $name,  desc: $desc, cat: $cat, group: $group}) {\r\n    name\r\n  }\r\n}\r\n`\r\n\r\nexport const CREATE_CATEGORY = gql`\r\nmutation CreateCategory(  $name: String!, $desc: String, $cat: String!, $group: String!)  {\r\n  createCategory( data : { name: $name, desc: $desc,  cat: $cat, group: $group}) {\r\n    name\r\n  }\r\n}\r\n`\r\n\r\nexport const DELETE_CATEGORY = gql`\r\nmutation DeleteCategory( $id: ID! )  {\r\n  deleteCategory( id : $id) {\r\n    _id\r\n  }\r\n}\r\n`","import React from \"react\"\r\nimport styles from \"./FlashMessage.module.scss\"\r\n\r\nconst FlashMessage = React.forwardRef((props, ref) => {\r\n  console.log(props)\r\n  return (\r\n    <div ref={ref} className={styles.floatingAlerts}>\r\n      {props.messages.map((msg, index) => {\r\n        const alertStyle = props.type == \"success\" ? styles.alertSuccess : styles.alertError\r\n\r\n        return (\r\n          <div key={index} className={`${styles.floatingAlert} ${alertStyle}`}>\r\n            {msg}\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default FlashMessage\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styles from \"./BuzCard.module.scss\"\r\nimport { truncate, upCaseFirstLetter } from \"../../../../utils/string\"\r\nimport { StyledRating } from \"../../../UI/CustomFields/StyledRating\"\r\nimport { AiOutlineShop } from \"react-icons/ai\"\r\n\r\nconst BuzCard = ({ data }) => {\r\n  let rating = data.nbrRev ? data.totRev / data.nbrRev : 0\r\n\r\n  return (\r\n    <div className={styles.paper}>\r\n      <div className={styles.head}>\r\n        <div className={styles.headInner}>\r\n          <div className={styles.imageContainer}>{data.picture ? <img src={data.picture.replace(\"t_meduim\", \"t_small\")} /> : <AiOutlineShop size=\"100%\" color=\"#0996e8\" />}</div>\r\n          <div>\r\n            <h2 className={styles.title}>\r\n              <Link to={`/business/${data._id}`}>{upCaseFirstLetter(data.name)} </Link>{\" \"}\r\n            </h2>\r\n            {data.price && <div className={styles.price}>{data.price}</div>}\r\n            <div className={styles.location}>\r\n              <Link to={`/tax/location/${data.city}/${data.neighborhood}?cat=${data.cat}`}>{data.neighborhood}, </Link>\r\n              <Link to={`/tax/location/${data.city}?cat=${data.cat}`}>{data.city} </Link>\r\n            </div>\r\n            <div className={styles.subCat}>\r\n              {data.subCat.map((subCat, i) => (\r\n                <span key={i}>\r\n                  <Link to={`/tax/category/${data.cat}/${subCat}?city=${data.city}`}>{subCat}, </Link>{\" \"}\r\n                </span>\r\n              ))}\r\n            </div>\r\n\r\n            <div className={styles.rating}>\r\n              <StyledRating name=\"customized-color\" value={rating} precision={0.5} size=\"small\" readOnly />\r\n              <div>{data.nbrRev} reviews</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.desc}>{data.desc ? truncate(data.desc, 30) : null}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BuzCard\r\n","import React, { useState } from \"react\"\r\nimport ImageModal from \"../../UI/ImageModal/ImageModal\"\r\nimport styles from \"./ImageGrid.module.scss\"\r\n\r\nexport default function ImageGrid({ images, top, showModalBtn, type, size }) {\r\n  const [showModal, setShowModal] = useState(showModalBtn || false)\r\n\r\n  const modalClosed = () => {\r\n    setShowModal(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={top ? styles.imgGridTop : styles.imgGrid}>\r\n        {images.map((image, i) => {\r\n          let finalImage = null\r\n          if (image.picture) {\r\n            finalImage = image.picture.replace(\"t_meduim\", \"t_small\")\r\n          } else if (image.name) {\r\n            // pour le dropZone\r\n            finalImage = image.name.replace(\"t_meduim\", \"t_small\")\r\n          }\r\n          return (\r\n            <div className={styles.singleImg} key={i} onClick={() => setShowModal(true)}>\r\n              <img src={finalImage} />\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {showModal && images.length > 0 && <ImageModal images={images} close={modalClosed} type={type} />}\r\n    </>\r\n  )\r\n}\r\n","\r\nexport const timeAgo = (time) => {\r\n\r\n    if (!time) { return }\r\n\r\n    time = new Date(time );\r\n\r\n        let templates = {\r\n            prefix: \"\",\r\n            suffix: \" ago\",\r\n            seconds: \"less than a minute\",\r\n            minute: \"about a minute\",\r\n            minutes: \"%d minutes\",\r\n            hour: \"about an hour\",\r\n            hours: \"about %d hours\",\r\n            day: \"a day\",\r\n            days: \"%d days\",\r\n            month: \"about a month\",\r\n            months: \"%d months\",\r\n            year: \"about a year\",\r\n            years: \"%d years\"\r\n        }\r\n\r\n        let template = function(t, n) {\r\n            return templates[t] && templates[t].replace(/%d/i, Math.abs(Math.round(n)));\r\n        };\r\n    \r\n       \r\n\r\n        var now = new Date();\r\n        var seconds = ((now.getTime() - time) * .001) >> 0;\r\n        var minutes = seconds / 60;\r\n        var hours = minutes / 60;\r\n        var days = hours / 24;\r\n        var years = days / 365;\r\n\r\n        return templates.prefix + (\r\n                seconds < 45 && template('seconds', seconds) ||\r\n                seconds < 90 && template('minute', 1) ||\r\n                minutes < 45 && template('minutes', minutes) ||\r\n                minutes < 90 && template('hour', 1) ||\r\n                hours < 24 && template('hours', hours) ||\r\n                hours < 42 && template('day', 1) ||\r\n                days < 30 && template('days', days) ||\r\n                days < 45 && template('month', 1) ||\r\n                days < 365 && template('months', days / 30) ||\r\n                years < 1.5 && template('year', 1) ||\r\n                template('years', years)\r\n                ) + templates.suffix;\r\n\r\n    \r\n}","\r\nconst useImageFromReviews = (reviews) => {\r\n    let modalInfo = []\r\n\r\n  if(Array.isArray(reviews)) {\r\n   reviews.forEach(review => {\r\n     let entity = review.author ? review.author : review.business\r\n      review.picture.forEach(pic => {\r\n       let detailedInfo = {\r\n          picId: pic._id,\r\n          picture: pic.picture,\r\n          picDesc: pic.desc ? pic.desc : null,\r\n          picClaps: pic.claps || 0,\r\n          id: entity._id,\r\n          name: entity.userName || entity.name,\r\n          profPic: entity.picture,\r\n          nbrRev: entity.nbrRev,\r\n          revPic: entity.revPic,\r\n          createdAt: review.createdAt\r\n        }\r\n        modalInfo.push(detailedInfo)\r\n        \r\n } )\r\n})\r\n  } else {\r\n    let entity = reviews.author ? reviews.author : reviews.business\r\n   reviews.picture.forEach(pic => {\r\n      let detailedInfo = {\r\n         picId: pic._id,\r\n         picture: pic.picture,\r\n         picDesc: pic.desc ? pic.desc : null,\r\n         picClaps: pic.claps || 0,\r\n         id: entity._id,\r\n         name: entity.userName || entity.name,\r\n         profPic: entity.picture,\r\n         nbrRev: entity.nbrRev,\r\n         revPic: entity.revPic,\r\n         createdAt: reviews.createdAt\r\n       }\r\n       modalInfo.push(detailedInfo)\r\n       \r\n} )\r\n  }\r\n  \r\n         \r\n    \r\n    return modalInfo \r\n}\r\n\r\n\r\n\r\nexport default useImageFromReviews","module.exports = \"data:image/png;base64,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\"","import React, { useState } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styles from \"./TopBar.module.scss\"\r\nimport SearchFilter from \"../Search/SearchFilter/SearchFilter\"\r\nimport LoginBtn from \"../Register/Forms/LoginBtn/LoginBtn\"\r\n\r\nconst TopBar = props => {\r\n  const [showMobileMenu, setShowMobileMenu] = useState(false)\r\n  const toggleMenu = () => {\r\n    setShowMobileMenu(prev => !prev)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.mainContainer}>\r\n      {!showMobileMenu && (\r\n        <div className={styles.TopBarMobile}>\r\n          <div className={styles.TopBarMobileLogo}>\r\n            <Link to={\"/\"}>\r\n              <img src={require(\"../../static/image/logo.jpg\")} />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className={showMobileMenu ? `${styles.menuIcon} ${styles.menuIconClose}` : styles.menuIcon} onClick={toggleMenu}>\r\n        <div className={styles.menuIconMidle}></div>\r\n      </div>\r\n\r\n      <div className={showMobileMenu ? `${styles.innerContainer} ${styles.innerContainerVisible}` : styles.innerContainer}>\r\n        <div className={styles.logo}>\r\n          <Link to={\"/\"}>\r\n            <img src={require(\"../../static/image/logo.jpg\")} />\r\n          </Link>\r\n        </div>\r\n        <div className={styles.grid}>\r\n          <div className={styles.searchFilter}>\r\n            <SearchFilter FP={false} />\r\n          </div>\r\n          <div className={styles.advSearch}>\r\n            <Link to={\"/map\"}>Advanced Search</Link>\r\n          </div>\r\n          <div className={styles.login}>\r\n            <LoginBtn FP={false} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TopBar\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.152968e7.jpg\";","import React, { useCallback, useState } from \"react\"\r\nimport { useDropzone } from \"react-dropzone\"\r\nimport styles from \"./DropZone.module.scss\"\r\n\r\nfunction DropZone({ field, form }) {\r\n  const { name, value } = field\r\n  const { setFieldValue } = form\r\n  const [img, setImg] = useState(value)\r\n\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    const file = acceptedFiles[0]\r\n    const myFileReader = new FileReader()\r\n    myFileReader.addEventListener(\r\n      \"load\",\r\n      () => {\r\n        setImg(myFileReader.result)\r\n      },\r\n      false\r\n    )\r\n\r\n    myFileReader.readAsDataURL(file)\r\n    setFieldValue(name, file)\r\n  }, [])\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop, multiple: false })\r\n\r\n  return (\r\n    <div className={styles.buzPicture}>\r\n      <div {...getRootProps({ className: \"dropzone\" })}>\r\n        <input {...getInputProps()} />\r\n        <p className={styles.dropBox}>Select new image</p>\r\n      </div>\r\n      {img && (\r\n        <div className={styles.imgProfile}>\r\n          <img src={img} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DropZone\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bizList\":\"BizList_bizList__3dHcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"TopBar_mainContainer__8MM0-\",\"TopBarMobile\":\"TopBar_TopBarMobile__1kGKA\",\"TopBarMobileLogo\":\"TopBar_TopBarMobileLogo__JiyaS\",\"menuIcon\":\"TopBar_menuIcon__2IejG\",\"menuIconMidle\":\"TopBar_menuIconMidle__Rxyk7\",\"menuIconClose\":\"TopBar_menuIconClose__2mnk9\",\"innerContainer\":\"TopBar_innerContainer__Zgwni\",\"innerContainerVisible\":\"TopBar_innerContainerVisible__38Btm\",\"grid\":\"TopBar_grid__2zaa4\",\"searchFilter\":\"TopBar_searchFilter__3NrVQ\",\"login\":\"TopBar_login__J-860\",\"logo\":\"TopBar_logo__1GaFm\",\"advSearch\":\"TopBar_advSearch__2rXhN\"};","import jwtDecode from \"jwt-decode\"\r\n\r\nexport let AccessToken = null\r\n\r\nexport const getAccessToken = () => {\r\n  return AccessToken\r\n}\r\n\r\nexport const setAccessToken = s => {\r\n  AccessToken = s\r\n}\r\n\r\nexport const loginRequired = (history, appDispatch) => {\r\n  if (!getAccessToken()) {\r\n    appDispatch({ type: \"flashMessage\", value: { message: \"you need to login to perform this action\", type: \"error\" } })\r\n    if (history) {\r\n      history.push(\"/login\")\r\n    } else {\r\n      window.scrollTo(0, 0)\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nexport const loggedInUser = () => {\r\n  const token = getAccessToken()\r\n  if (typeof token != \"string\" || token == \"\") {\r\n    return {\r\n      user: null,\r\n      type: null\r\n    }\r\n  }\r\n  const user = jwtDecode(token)\r\n  return user\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"ImageModal_modalContainer__1XqSo\",\"imgContainer\":\"ImageModal_imgContainer__2jKKV\",\"image\":\"ImageModal_image__1mkKw\",\"revContainerAvatar\":\"ImageModal_revContainerAvatar__2rHrm\",\"modalContent\":\"ImageModal_modalContent__2H8sn\",\"close\":\"ImageModal_close__3fegG\",\"imageMeta\":\"ImageModal_imageMeta__148xa\",\"user\":\"ImageModal_user__1_sSJ\",\"userPic\":\"ImageModal_userPic__3QiXP\",\"userName\":\"ImageModal_userName__3dVvy\",\"prev\":\"ImageModal_prev__3nQTz\",\"next\":\"ImageModal_next__1FbZD\",\"date\":\"ImageModal_date__1-PVP\",\"description\":\"ImageModal_description__35lwi\"};","import { createContext } from \"react\"\r\n\r\nexport const StateContext = createContext(null)\r\nexport const DispatchContext = createContext(null)\r\n","export const upCaseFirstLetter = str => {\r\n  if (!str) return\r\n  var splitStr = str.toLowerCase().split(\" \")\r\n  for (var i = 0; i < splitStr.length; i++) {\r\n    // You do not need to check if i is larger than splitStr length, as your for does that for you\r\n    // Assign it back to the array\r\n    splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1)\r\n  }\r\n  // Directly return the joined string\r\n  return splitStr.join(\" \")\r\n}\r\n\r\nexport const truncate = (str, no_words) => {\r\n  const strArr = str.split(\" \")\r\n\r\n  if (strArr.length <= no_words) {\r\n    return str\r\n  } else {\r\n    return strArr.splice(0, no_words).concat([\"...\"]).join(\" \")\r\n  }\r\n}\r\n","import React from 'react'\r\nimport styles from './Spinner.module.scss'\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        // <div className=\"container\">\r\n        //     <div className=\"loader\">Loading...</div>\r\n        // </div>\r\n        <div className={styles.container}>\r\n            <div className={styles.ldsRing}><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n        \r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default Spinner","import React from 'react';\r\nimport {TextField, Radio, FormControlLabel, Button} from '@material-ui/core'\r\nimport { useField, Field, ErrorMessage} from 'formik'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withStyles, makeStyles, MenuItem, FormHelperText  } from '@material-ui/core';\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  }\r\n}));\r\n  \r\n\r\nexport const MyRadio = ({label, ...props}) => {\r\n    const [field] = useField(props)\r\n    return (\r\n      <FormControlLabel {...field} control={<Radio />} label={label} />\r\n    )\r\n  }\r\n\r\n  const styles = {\r\n    root : {\r\n      '& .MuiInputBase-input' : {\r\n        color : 'blue'\r\n      }    \r\n    },\r\n  }\r\n  \r\n  const MyTextFieldPre = props => {\r\n    const {label, disabled,  classes, type} = props\r\n    const [field, meta] = useField(props)\r\n    const errorText = meta.error && meta.touched ? meta.error : ''\r\n    return (\r\n      <TextField {...field} \r\n      className = {classes.root}\r\n      classes={classes}\r\n      disabled={disabled} \r\n      type={type}\r\n      label={label} \r\n      helperText={errorText}\r\n      autoComplete=\"off\"\r\n      error={errorText ? true : false}  \r\n      margin=\"normal\"      \r\n      variant=\"outlined\"\r\n      fullWidth\r\n      \r\n      />\r\n    )\r\n}\r\n\r\nexport const MyTextField = withStyles(styles)(MyTextFieldPre)\r\n\r\nexport const MyTextArea = props => {\r\n  const {label, rows} = props\r\n    const [field, meta] = useField(props)\r\n    const errorText = meta.error && meta.touched ? meta.error : ''\r\n    return (\r\n      <TextField \r\n      {...field}  \r\n      multiline   \r\n      rows={rows}\r\n      label={label}  \r\n      helperText={errorText} \r\n      error={errorText ? true : false} \r\n       margin=\"normal\"      \r\n       variant=\"outlined\"\r\n       fullWidth\r\n       />\r\n    )\r\n}\r\n\r\n// Button \r\n\r\nexport const MyButton = withStyles({\r\n  root: {\r\n    justifyItems: 'center',\r\n    display : 'block',\r\n    margin :' 0 auto',\r\n    color: '#ffffff',\r\n    padding: '6px 12px',\r\n    border: '1px solid',\r\n    lineHeight: 1.5,\r\n    backgroundColor: '#007bff',\r\n    borderColor: '#007bff',\r\n    '&:hover': {\r\n      backgroundColor: '#0069d9',\r\n      borderColor: '#0062cc',\r\n      boxShadow: 'none',\r\n    },\r\n    '&:active': {\r\n      boxShadow: 'none',\r\n      backgroundColor: '#0062cc',\r\n      borderColor: '#005cbf',\r\n    },\r\n    '&:focus': {\r\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\r\n    },\r\n    '&:disabled': {\r\n      backgroundColor: '#000000',\r\n    },\r\n  },\r\n})(Button);\r\n\r\n\r\nexport const MyRating = ({name}) => {\r\n  return <Rating name=\"rating\"/>\r\n}\r\n\r\n\r\n\r\n\r\nconst MaterialUISelectField = ({\r\n  errorString,\r\n  children,\r\n  value,\r\n  name,\r\n  label,\r\n  onChange,\r\n  onBlur,\r\n }) => {\r\n  return (\r\n    <FormControl fullWidth>\r\n      <InputLabel >{label}</InputLabel>\r\n      <Select name={name} onChange={onChange} onBlur={onBlur} value={value}>\r\n        {children}\r\n      </Select>\r\n      <FormHelperText>{errorString}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nexport const MySelect  = (props) => {\r\n  const {option, name, label} = props\r\n\r\n  return (\r\n    <div >\r\n      <Field\r\n        name={name}\r\n        as={MaterialUISelectField}\r\n        label={label}\r\n        errorString={<ErrorMessage name={name} />}\r\n      \r\n      >\r\n        <MenuItem  value={\"\"}>\r\n            {\"None\"}\r\n          </MenuItem>\r\n        {option.map(item => (\r\n          <MenuItem key={item} value={item}>\r\n            {item}\r\n          </MenuItem>\r\n        ))}\r\n      </Field>\r\n    </div>\r\n  )\r\n\r\n  \r\n  }\r\n\r\n ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchResults\":\"SearchFilter_searchResults__2A0h3\",\"searchFormContainer\":\"SearchFilter_searchFormContainer__fCo4U\",\"searchFormSection\":\"SearchFilter_searchFormSection__1Oh2T\",\"searchInput\":\"SearchFilter_searchInput__maTYo\",\"searchInput2\":\"SearchFilter_searchInput2__3yz7J\",\"inputError\":\"SearchFilter_inputError__z2v55\"};","import React, { useState } from \"react\"\r\nimport SearchFilter from \"../../Search/SearchFilter/SearchFilter\"\r\nimport styles from \"./FPHeader.module.scss\"\r\nimport LoginBtn from \"../../Register/Forms/LoginBtn/LoginBtn\"\r\nimport { useEffect } from \"react\"\r\nimport { useQuery } from \"@apollo/react-hooks\"\r\nimport { GET_TOP_FEATURED_IMAGES } from \"../../../qraphQl/imageType\"\r\nimport { upCaseFirstLetter } from \"../../../utils/string\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useMediaQuery } from \"react-responsive\"\r\nimport { requiredFieldMessage } from \"graphql/validation/rules/ValuesOfCorrectType\"\r\n\r\nconst FPHeader = () => {\r\n  const [imageIndex, setImageIndex] = useState(null)\r\n  const { data } = useQuery(GET_TOP_FEATURED_IMAGES, { variables: { topFeatured: true, limit: 4 } })\r\n  const images = data ? data.images : null\r\n\r\n  const isTablet = useMediaQuery({ query: \"(min-device-width: 768px)\" })\r\n  const isDesk = useMediaQuery({ query: \"(min-device-width: 1024px)\" })\r\n\r\n  let ImageSize = isDesk ? \"t_huge\" : isTablet ? \"t_large\" : \"t_meduim\"\r\n\r\n  useEffect(() => {\r\n    let index = Math.floor(Math.random() * 4)\r\n    setImageIndex(index)\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles.bgImage} style={{ backgroundImage: `url(${images && images[imageIndex] ? images[imageIndex].picture.replace(\"t_meduim\", ImageSize) : null})` }}>\r\n      <div className={styles.navigation}>\r\n        <LoginBtn FP={true} />\r\n      </div>\r\n      <div className={styles.main}>\r\n        <img src={require(\"../../../static/image/logo.png\")} />\r\n        <div className={styles.search}>\r\n          <SearchFilter FP={true} />\r\n        </div>\r\n      </div>\r\n\r\n      {images && images[imageIndex] && (\r\n        <div className={styles.imageInfo}>\r\n          by <span>{images ? <Link to={`/profile/${images[imageIndex].review.author._id}`}>{upCaseFirstLetter(images[imageIndex].review.author.userName)}</Link> : null}</span> for <span>{images ? <Link to={`/business/${images[imageIndex].review.business._id}`}>{upCaseFirstLetter(images[imageIndex].review.business.name)}</Link> : null}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FPHeader\r\n","import React, { useEffect } from \"react\"\r\nimport styles from \"./BizList.module.scss\"\r\nimport BuzCard from \"../../UI/Cards/BuzCard/BuzCard\"\r\nimport { GET_BUSINESSES } from \"../../../qraphQl/businessType\"\r\nimport { useLazyQuery } from \"@apollo/react-hooks\"\r\nimport Spinner from \"../../UI/Spinner/Spinner\"\r\n\r\nconst BizList = () => {\r\n  // QUERIES\r\n  const [getBusiness, { loading, data, error }] = useLazyQuery(GET_BUSINESSES)\r\n\r\n  useEffect(() => {\r\n    getBusiness({ variables: { published: true, authorID: null, limit: 8 } })\r\n  }, [])\r\n\r\n  const display = () => {\r\n    let body = null\r\n    if (loading) {\r\n      body = <Spinner />\r\n    } else if (error) {\r\n      body = null\r\n    } else if (typeof data !== \"undefined\") {\r\n      const { businesses } = data\r\n      body = (\r\n        <div className={styles.bizList}>\r\n          {businesses.map(item => (\r\n            <BuzCard key={item._id} data={item} />\r\n          ))}\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return body\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"sectionTitle\"> Popular this week</h2>\r\n      {display()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BizList\r\n","import React from \"react\"\r\nimport { useQuery } from \"@apollo/react-hooks\"\r\nimport { GET_REVIEWS } from \"../../../../../qraphQl/reviewType\"\r\nimport { upCaseFirstLetter } from \"../../../../../utils/string\"\r\nimport Clap from \"../../../Clap/Clap\"\r\nimport styles from \"./FeaturedReview.module.scss\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { StyledRating } from \"../../../../UI/CustomFields/StyledRating\"\r\nimport ImageGrid from \"../../../../UI/ImageGrid/ImageGrid\"\r\nimport imageFromReviews from \"../../../../../utils/imageFromReviews\"\r\nimport { BsFillPeopleFill, BsStarFill } from \"react-icons/bs\"\r\nimport { AiFillCamera } from \"react-icons/ai\"\r\nimport { FaUserCircle } from \"react-icons/fa\"\r\n\r\nfunction FeaturedReview() {\r\n  const { data, error, loading } = useQuery(GET_REVIEWS, { variables: { featured: true, limit: 4 } })\r\n\r\n  let reviews = data ? data.reviews : []\r\n\r\n  return (\r\n    <>\r\n      {reviews.map(rev => {\r\n        let modalInfo = imageFromReviews(rev)\r\n        return (\r\n          <div className={styles.revContainer} id={rev._id} key={rev._id}>\r\n            <div className={styles.revContainerInner}>\r\n              <div className={styles.revContainerAvatar}>{rev.author.picture ? <img src={rev.author.picture.replace(\"t_meduim\", \"t_small\")} /> : <FaUserCircle size=\"90%\" color=\"#0996e8\" />}</div>\r\n\r\n              <div>\r\n                <div className={styles.revAuth}>\r\n                  <Link to={`/profile/${rev.author._id}`}>{upCaseFirstLetter(rev.author.userName)}</Link>\r\n                </div>\r\n\r\n                <div className=\"chipsContainer\">\r\n                  <div className=\"chip\">\r\n                    <BsFillPeopleFill color=\"#0996e8\" />\r\n                    <div className=\"label\">{rev.author.followers.length}</div>\r\n                  </div>\r\n                  <div className=\"chip\">\r\n                    <BsStarFill color=\"#0996e8\" />\r\n                    <div className=\"label\">{rev.author.nbrRev} </div>\r\n                  </div>\r\n                  <div className=\"chip\">\r\n                    <AiFillCamera color=\"#0996e8\" />\r\n                    <div className=\"label\">{rev.author.revPic}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.busSection}>\r\n                  <div className={styles.busName}>\r\n                    <span>for: </span>\r\n                    <Link to={`/business/${rev.business._id}`}>{upCaseFirstLetter(rev.business.name)}</Link>\r\n                  </div>\r\n                  <div className={styles.location}>\r\n                    <Link to={`/tax/location/${rev.business.city}/${rev.business.neighborhood}`}>{rev.business.neighborhood}</Link>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.revRating}>\r\n                  <StyledRating value={rev.rating} size=\"small\" readOnly />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p className={styles.revDesc}>{rev.text}</p>\r\n            <div className={styles.revPicture}>\r\n              <ImageGrid images={modalInfo} size=\"small\" />\r\n            </div>\r\n\r\n            <Clap claps={rev.claps || 0} id={rev._id} type=\"review\" />\r\n          </div>\r\n        )\r\n      })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FeaturedReview\r\n","import React, { useState, useEffect } from \"react\"\r\nimport { useQuery } from \"@apollo/react-hooks\"\r\nimport { GET_FEATURED_IMAGES } from \"../../../../../qraphQl/imageType\"\r\nimport ImageModal from \"../../../../UI/ImageModal/ImageModal\"\r\nimport { BsFillPeopleFill, BsStarFill } from \"react-icons/bs\"\r\nimport { AiFillCamera } from \"react-icons/ai\"\r\nimport { FaUserCircle } from \"react-icons/fa\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { upCaseFirstLetter } from \"../../../../../utils/string\"\r\nimport styles from \"./FeaturedImage.module.scss\"\r\n\r\nfunction FeaturedImage() {\r\n  const [selectedImgIndex, setSelectedImgIndex] = useState(0)\r\n  const [showModal, setShowModal] = useState(false)\r\n  const { data, error, loading } = useQuery(GET_FEATURED_IMAGES, { variables: { featured: true, limit: 4 } })\r\n\r\n  const modalClosed = () => {\r\n    setShowModal(false)\r\n  }\r\n\r\n  const imageClickHandler = i => {\r\n    setSelectedImgIndex(i)\r\n    setShowModal(true)\r\n  }\r\n\r\n  let images = data ? data.images : []\r\n  let modalInfo = []\r\n  console.log(images)\r\n  if (images.length) {\r\n    images.forEach(pic => {\r\n      let detailedInfo = {\r\n        picId: pic._id,\r\n        picture: pic.picture,\r\n        picDesc: pic.desc ? pic.desc : null,\r\n        picClaps: pic.claps || 0,\r\n        id: pic.review.author._id,\r\n        name: pic.review.author.userName,\r\n        profPic: pic.review.author.picture,\r\n        nbrRev: pic.review.author.nbrRev,\r\n        revPic: pic.review.author.revPic,\r\n        createdAt: pic.review.createdAt\r\n      }\r\n      modalInfo.push(detailedInfo)\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      {images.map((img, i) => {\r\n        return (\r\n          <div key={img._id} onClick={() => imageClickHandler(i)}>\r\n            <div className={styles.revContainerInner}>\r\n              <div className={styles.revContainerAvatar}>{img.review.author.picture ? <img src={img.review.author.picture} /> : <FaUserCircle size=\"90%\" color=\"#0996e8\" />}</div>\r\n\r\n              <div>\r\n                <div className={styles.revAuth}>\r\n                  <Link to={`/profile/${img.review.author._id}`}>{upCaseFirstLetter(img.review.author.userName)}</Link>\r\n                </div>\r\n\r\n                <div className=\"chipsContainer\">\r\n                  <div className=\"chip\">\r\n                    <BsFillPeopleFill color=\"#0996e8\" />\r\n                    <div className=\"label\">{img.review.author.followers.length}</div>\r\n                  </div>\r\n                  <div className=\"chip\">\r\n                    <BsStarFill color=\"#0996e8\" />\r\n                    <div className=\"label\">{img.review.author.nbrRev} </div>\r\n                  </div>\r\n                  <div className=\"chip\">\r\n                    <AiFillCamera color=\"#0996e8\" />\r\n                    <div className=\"label\">{img.review.author.revPic}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles.busSection}>\r\n                  <div className={styles.busName}>\r\n                    <span>for: </span>\r\n                    <Link to={`/business/${img.review.business._id}`}>{upCaseFirstLetter(img.review.business.name)}</Link>\r\n                  </div>\r\n                  <div className={styles.location}>\r\n                    <Link to={`/tax/location/${img.review.business.city}/${img.review.business.neighborhood}`}>{img.review.business.neighborhood}</Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={styles.imageContainer}>\r\n              <img src={img.picture} />\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n\r\n      {showModal && images.length > 0 && <ImageModal images={modalInfo} close={modalClosed} selectedImg={selectedImgIndex} />}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FeaturedImage\r\n","import React, { useEffect } from \"react\"\r\nimport FPHeader from \"./FPHeader/FPHeader\"\r\nimport BizList from \"../Business/BizList/BizList\"\r\nimport FeaturedReview from \"../UI/Cards/ReviewCard/FeaturedReview/FeaturedReview\"\r\nimport FeaturedImage from \"../UI/Cards/ImageCard/FeaturedImage/FeaturedImage\"\r\nimport styles from \"./FrontPage.module.scss\"\r\n\r\nfunction FrontPage() {\r\n  useEffect(() => {\r\n    document.title = `Home | Aly`\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <FPHeader />\r\n      <div className=\"container\">\r\n        <BizList />\r\n        <div>\r\n          <h1 className=\"sectionTitle\">Reviews of the day</h1>\r\n          <div className={styles.reviewGrid}>\r\n            <FeaturedReview />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h1 className=\"sectionTitle\">Picture of the day</h1>\r\n          <div className={styles.imageGrid}>\r\n            <FeaturedImage />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FrontPage\r\n","import React from 'react'\r\n\r\nfunction NoPageFound() {\r\n    return (\r\n        <div>\r\n            NoPage Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoPageFound\r\n","// curently deosnot do any thing try to create instances of axios\r\n\r\nimport axios from \"axios\"\r\nimport createAuthRefreshInterceptor from \"axios-auth-refresh\"\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKENDURL || \"\",\r\n  withCredentials: true\r\n})\r\n\r\n// Function that will be called to refresh authorization\r\nconst refreshAuthLogic = failedRequest => {\r\n  console.log(failedRequest.config)\r\n\r\n  const refTok = localStorage.getItem(\"refTok\")\r\n\r\n  return instance.post(`/refresh-token`, { refTok: refTok }).then(res => {\r\n    failedRequest.response.config.data = { acsTok: res.data.acsTok }\r\n    return Promise.resolve()\r\n  })\r\n}\r\n\r\n// Instantiate the interceptor (you can chain it as it returns the axios instance)\r\ncreateAuthRefreshInterceptor(instance, refreshAuthLogic)\r\n\r\nexport default instance\r\n","import React, { useState, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styles from \"./Forms/Register.module.scss\"\r\nimport { MyTextField, MyButton } from \"../UI/CustomFields/CustomField\"\r\nimport { withFormik, Form } from \"formik\"\r\nimport Spinner from \"../UI/Spinner/Spinner\"\r\nimport * as Yup from \"yup\"\r\nimport instance from \"../../axios/axios\"\r\nimport { DispatchContext } from \"../../Context\"\r\nimport Page from \"../Page/Page\"\r\n\r\nconst ResetPassword = () => {\r\n  const appDispatch = useContext(DispatchContext)\r\n\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const myForm = () => {\r\n    return (\r\n      <>\r\n        <h1 className={styles.title}>Reset Password</h1>\r\n        <Form>\r\n          <div className={styles.innerContainer}>\r\n            <div>\r\n              <MyTextField disabled={false} type=\"email\" name=\"email\" label=\"Your Email\" />\r\n            </div>\r\n\r\n            <MyButton type=\"submit\">Reset</MyButton>\r\n          </div>\r\n          {loading && <Spinner />}\r\n        </Form>\r\n        <p className={styles.note}>\r\n          not a menber please{\" \"}\r\n          <strong>\r\n            <Link to=\"/register\"> Register </Link>\r\n          </strong>{\" \"}\r\n        </p>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const ResetForm = withFormik({\r\n    mapPropsToValues({ email }) {\r\n      return {\r\n        email: email || \"\"\r\n      }\r\n    },\r\n\r\n    validationSchema: Yup.object().shape({\r\n      email: Yup.string().email(\"Email not valid\").required(\"Email is required\")\r\n    }),\r\n\r\n    handleSubmit: (values, { setSubmitting, setFieldError }) => {\r\n      instance\r\n        .post(\"/reset-password\", values)\r\n        .then(res => {\r\n          appDispatch({ type: \"flashMessage\", value: { message: `hello ${res.data.name} a link was sent to your email to reset your password`, type: \"success\" } })\r\n        })\r\n        .catch(err => {\r\n          appDispatch({ type: \"flashMessage\", value: { message: err.response.data.message, type: \"error\" } })\r\n        })\r\n    }\r\n  })(myForm)\r\n  return (\r\n    <Page title=\"Reset Password\" withTopBar={true}>\r\n      <ResetForm />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React, { useState, useContext } from \"react\"\r\nimport styles from \"./Forms/Register.module.scss\"\r\nimport { MyTextField, MyButton } from \"../UI/CustomFields/CustomField\"\r\nimport { withFormik, Form } from \"formik\"\r\nimport Spinner from \"../UI/Spinner/Spinner\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport queryString from \"query-string\"\r\nimport * as Yup from \"yup\"\r\nimport { useMutation } from \"@apollo/react-hooks\"\r\nimport { CHANGE_PASS } from \"../../qraphQl/userType\"\r\nimport { DispatchContext } from \"../../Context\"\r\nimport Page from \"../Page/Page\"\r\n\r\nconst ChangePassword = props => {\r\n  const [genError, setGenError] = useState([])\r\n  let { id } = useParams()\r\n  const { token } = queryString.parse(props.location.search)\r\n  const appDispatch = useContext(DispatchContext)\r\n\r\n  const [changePass, { loading }] = useMutation(CHANGE_PASS, {\r\n    onCompleted() {\r\n      appDispatch({ type: \"flashMessage\", value: { message: \"Your password sucessfuly changed please Login\", type: \"success\" } })\r\n      props.history.push(\"/login\")\r\n    },\r\n    onError(error) {\r\n      appDispatch({ type: \"flashMessage\", value: { message: error.message.replace(\"GraphQL error:\", \"\"), type: \"error\" } })\r\n    }\r\n  })\r\n\r\n  const myForm = ({ values, errors, touched, isSubmitting }) => {\r\n    return (\r\n      <>\r\n        <h1 className={styles.title}>Change your Password</h1>\r\n        <Form>\r\n          <div className={styles.innerContainer}>\r\n            <div>\r\n              <MyTextField disabled={false} type=\"password\" name=\"pass\" label=\"New Password\" />\r\n            </div>\r\n\r\n            <div>\r\n              <MyTextField disabled={false} type=\"password\" name=\"confPass\" label=\"Confirm Password\" />\r\n            </div>\r\n            {genError &&\r\n              genError.map((err, i) => {\r\n                return (\r\n                  <p key={i} className={styles.generalError}>\r\n                    {err.replace(\"GraphQL error:\", \"\")}\r\n                  </p>\r\n                )\r\n              })}\r\n            <MyButton type=\"submit\">Change Pass</MyButton>\r\n          </div>\r\n          {loading && <Spinner />}\r\n        </Form>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const ResetForm = withFormik({\r\n    mapPropsToValues({ pass, confPass }) {\r\n      return {\r\n        pass: pass || \"\",\r\n        confPass: confPass || \"\"\r\n      }\r\n    },\r\n\r\n    validationSchema: Yup.object().shape({\r\n      pass: Yup.string().min(6, \"Password must be 6 characters or longer\").max(30, \"name should be at most 30 characters\").required(\"Password is required\"),\r\n      confPass: Yup.string()\r\n        .min(6, \"Password must be 6 characters or longer\")\r\n        .oneOf([Yup.ref(\"pass\"), null], \"Passwords must match\")\r\n        .max(30, \"name should be at most 30 characters\")\r\n        .required(\"Password is required\")\r\n    }),\r\n\r\n    handleSubmit: (values, { setSubmitting, setFieldError }) => {\r\n      setGenError([])\r\n      changePass({\r\n        variables: {\r\n          id,\r\n          token,\r\n          password: values.pass\r\n        }\r\n      })\r\n    }\r\n  })(myForm)\r\n  return (\r\n    <Page title=\"Change Pass\" withTopBar={true}>\r\n      <ResetForm />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default ChangePassword\r\n","import React, { useState, Fragment, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { withFormik, Form, Field } from \"formik\"\r\nimport * as Yup from \"yup\"\r\nimport { MyTextField, MyTextArea, MyButton } from \"../UI/CustomFields/CustomField\"\r\nimport Spinner from \"../UI/Spinner/Spinner\"\r\nimport DropZone from \"../UI/Upload/DropZone\"\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\"\r\nimport { GET_USER } from \"../../qraphQl/userType\"\r\nimport { UPDATE_USER } from \"../../qraphQl/userType\"\r\nimport { loginRequired } from \"../../AccessToken\"\r\nimport styles from \"./EditProfile.module.scss\"\r\nimport { DispatchContext } from \"../../Context\"\r\nimport Page from \"../Page/Page\"\r\n\r\nconst EditProfile = props => {\r\n  const [updatedProfile, setUpdatedProfile] = useState(null)\r\n  const appDispatch = useContext(DispatchContext)\r\n  const userId = props.match.params.id\r\n\r\n  loginRequired(props.history, appDispatch)\r\n\r\n  const { loading, error, data } = useQuery(GET_USER, {\r\n    variables: { id: userId }\r\n  })\r\n\r\n  const [updateUser, { loading: loadingU }] = useMutation(UPDATE_USER, {\r\n    onCompleted({ updateUser }) {\r\n      setUpdatedProfile(updateUser)\r\n      appDispatch({ type: \"flashMessage\", value: { message: `Profile updated`, type: \"success\" } })\r\n      window.scrollTo(0, 0)\r\n    },\r\n    onError() {\r\n      appDispatch({ type: \"flashMessage\", value: { message: \"Somethicng is wrong please try again later\", type: \"error\" } })\r\n      window.scrollTo(0, 0)\r\n    }\r\n  })\r\n\r\n  let finalData = updatedProfile || (data ? data.user : null)\r\n\r\n  if (error) {\r\n    appDispatch({ type: \"flashMessage\", value: { message: \"Somethicng is wrong please try again later\", type: \"error\" } })\r\n  }\r\n\r\n  const form = props => {\r\n    return (\r\n      <div className={styles.innerContainer}>\r\n        <Form>\r\n          <div>\r\n            <div>\r\n              <Field name=\"picture\" component={DropZone}></Field>\r\n            </div>\r\n            <div>\r\n              <MyTextField disabled={false} name=\"userName\" label=\"display Name\" />\r\n            </div>\r\n\r\n            <div>\r\n              <MyTextArea multiline rows=\"3\" name=\"description\" label=\"What's in your mind ?\" />\r\n            </div>\r\n\r\n            <div>\r\n              <MyTextField disabled={false} name=\"city\" label=\"City\" />\r\n            </div>\r\n          </div>\r\n\r\n          <MyButton disabled={props.isSubmitting} type=\"submit\">\r\n            Submit\r\n          </MyButton>\r\n        </Form>\r\n        <div className={styles.link}>\r\n          <Link to={`/profile/${userId}`}>&lt;&lt; Back to Profile</Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const EditProfileForm = withFormik({\r\n    enableReinitialize: true,\r\n    mapPropsToValues({ userName, description, picture, city }) {\r\n      return {\r\n        userName: userName || \"\",\r\n        description: description || \"\",\r\n        picture: picture || \"\",\r\n        city: city || \"\"\r\n      }\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      userName: Yup.string().required(\"Name is required\").max(30, \"you should not exceed 30 character\"),\r\n      description: Yup.string().max(140, \"you should not exceed 140 character\"),\r\n      city: Yup.string().max(30, \"you should not exceed 30 character\")\r\n    }),\r\n\r\n    handleSubmit: (values, { props, resetForm }) => {\r\n      let pictureId = values.picture\r\n      if (typeof pictureId == \"string\") {\r\n        pictureId = values.picture ? values.picture.split(\"/images/\")[1] : null\r\n      }\r\n\r\n      updateUser({\r\n        variables: {\r\n          ...values,\r\n          picture: pictureId,\r\n          id: userId\r\n        }\r\n      })\r\n    }\r\n  })(form)\r\n  return (\r\n    <Page title={\"Edit Profile\"} withTopBar={false}>\r\n      {(loading || loadingU) && <Spinner />}\r\n      {finalData && !(loading || loadingU) && <EditProfileForm {...finalData} />}\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default EditProfile\r\n","import React, { useEffect } from \"react\"\r\nimport styles from \"./Footer.module.scss\"\r\nimport { AiFillFacebook, AiOutlineInstagram, AiOutlineYoutube } from \"react-icons/ai\"\r\n\r\nfunction ComponentName() {\r\n  return (\r\n    <footer>\r\n      <div className={styles.top}>\r\n        <div>\r\n          <img src={require(\"../../static/image/logo.png\")} alt=\"\" />\r\n        </div>\r\n        <div>\r\n          <strong className={styles.title}>Service</strong>\r\n        </div>\r\n        <div>\r\n          <strong className={styles.title}>Resources</strong>\r\n          <ul>\r\n            <li>Videos</li>\r\n            <li>Blog</li>\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <strong className={styles.title}>Company</strong>\r\n          <ul>\r\n            <li>About Us</li>\r\n            <li>Contact Us</li>\r\n            <li>Career</li>\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <strong className={styles.title}>Connect</strong>\r\n          <div className={styles.socialMedia}>\r\n            <span>\r\n              <AiFillFacebook size=\"1.5rem\" color=\"#0996e8\" />\r\n            </span>\r\n            <span>\r\n              <AiOutlineInstagram size=\"1.5rem\" color=\"#0996e8\" />\r\n            </span>\r\n            <span>\r\n              <AiOutlineYoutube size=\"1.5rem\" color=\"#0996e8\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.bottom}>\r\n        <div className={styles.container}>\r\n          <div className={styles.copyright}>Copyright  2020 Digitopia Studio LLC</div>\r\n          <div className={styles.law}>\r\n            <div>Terms of Use</div>\r\n            <div>Privacy Policy</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default ComponentName\r\n","import React, { Suspense } from \"react\"\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\"\r\nimport FlashMessage from \"../components/UI/FlashMessage/FlashMessage\"\r\nimport FrontPage from \"../components/FrontPage/FrontPage\"\r\nimport NoPageFound from \"../components/NoPageFound/NoPageFound\"\r\nimport ResetPassword from \"../components/Register/ResetPassword\"\r\nimport ChangePassword from \"../components/Register/ChangePassword\"\r\nimport EditProfile from \"../components/Profile/EditProfile\"\r\nimport { StateContext, DispatchContext } from \"../Context\"\r\nimport Footer from \"../components/Footer/Footer\"\r\nimport { loggedInUser } from \"../AccessToken\"\r\nimport { useImmerReducer } from \"use-immer\"\r\nimport Spinner from \"../components/UI/Spinner/Spinner\"\r\nconst TaxBizList = React.lazy(() => import(\"../components/Business/TaxBizList/TaxBizList\"))\r\nconst Profile = React.lazy(() => import(\"../components/Profile/Profile\"))\r\nconst BuzSinglePage = React.lazy(() => import(\"../components/Business/BuzSinglePage/BuzSinglePage\"))\r\nconst SearchResultPage = React.lazy(() => import(\"../components/Search/SearchResultPage/SearchResultPage\"))\r\nconst AdminMain = React.lazy(() => import(\"../components/Admin/AdminMain\"))\r\nconst Newbuz = React.lazy(() => import(\"../components/Business/NewBuz/Newbuz\"))\r\nconst Editbuz = React.lazy(() => import(\"../components/Business/NewBuz/Editbuz\"))\r\nconst Register = React.lazy(() => import(\"../components/Register/Register\"))\r\nconst Login = React.lazy(() => import(\"../components/Register/Login\"))\r\nconst AdvancedSearch = React.lazy(() => import(\"../components/Search/AdvancedSearch/AdvancedSearch\"))\r\n\r\nconst AppRouter = () => {\r\n  const initialState = {\r\n    flash: {\r\n      messages: [],\r\n      type: \"success\"\r\n    },\r\n    user: loggedInUser()\r\n  }\r\n\r\n  const ourReducer = (draft, action) => {\r\n    switch (action.type) {\r\n      case \"login\":\r\n        draft.user = action.value\r\n        return\r\n      case \"logout\":\r\n        draft.user.userId = null\r\n        draft.user.type = null\r\n        return\r\n      case \"flashMessage\":\r\n        draft.flash.messages.push(action.value.message)\r\n        draft.flash.type = action.value.type\r\n        return\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useImmerReducer(ourReducer, initialState)\r\n\r\n  return (\r\n    <StateContext.Provider value={state}>\r\n      <DispatchContext.Provider value={dispatch}>\r\n        <BrowserRouter>\r\n          <FlashMessage messages={state.flash.messages} type={state.flash.type} />\r\n          <Suspense fallback={<Spinner />}>\r\n            <Switch>\r\n              <Route path=\"/\" component={FrontPage} exact={true} />\r\n              <Route path=\"/map\" component={AdvancedSearch} />\r\n              <Route path=\"/register\" component={Register} />\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/resetPassword\" component={ResetPassword} />\r\n              <Route path=\"/changePassword/:id\" component={ChangePassword} />\r\n              <Route path=\"/profile/edit/:id\" component={EditProfile} />\r\n              <Route path=\"/profile/:id/:tab?\" component={Profile} />\r\n              <Route path=\"/business/create\" component={Newbuz} />\r\n              <Route path=\"/business/edit/:id\" render={props => <Editbuz {...props} />} />\r\n              <Route path=\"/business/:id\" component={BuzSinglePage} />\r\n              <Route path=\"/tax/:type/:tax/:subTax?\" component={TaxBizList} />\r\n              <Route path=\"/search\" component={SearchResultPage} />\r\n              // admin\r\n              {state.user.type == \"ADMIN\" && <Route path=\"/admin/:tab?\" component={AdminMain} />}\r\n              <Route component={NoPageFound} />\r\n            </Switch>\r\n          </Suspense>\r\n          <Footer />\r\n        </BrowserRouter>\r\n      </DispatchContext.Provider>\r\n    </StateContext.Provider>\r\n  )\r\n}\r\n\r\nexport default AppRouter\r\n","import React, { useEffect, useState } from \"react\"\r\nimport Spinner from \"./components/UI/Spinner/Spinner\"\r\nimport AppRouter from \"./routers/AppRouter\"\r\nimport instance from \"./axios/axios\"\r\nimport { setAccessToken } from \"./AccessToken\"\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    instance.post(\"/refresh\", { credentials: \"include\" }).then(res => {\r\n      setAccessToken(res.data.accessToken)\r\n      setLoading(false)\r\n    })\r\n\r\n    return console.log(\"unmouted\")\r\n  }, [])\r\n\r\n  return <>{loading ? <Spinner /> : <AppRouter />}</>\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\nimport \"./index.scss\"\r\nimport { ApolloProvider } from \"@apollo/react-hooks\"\r\nimport { getAccessToken, setAccessToken } from \"./AccessToken\"\r\nimport { ApolloClient } from \"apollo-client\"\r\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\r\n// import { HttpLink } from \"apollo-link-http\"\r\nimport { createUploadLink } from \"apollo-upload-client\"\r\nimport { onError } from \"apollo-link-error\"\r\nimport { ApolloLink, Observable } from \"apollo-link\"\r\nimport { TokenRefreshLink } from \"apollo-link-token-refresh\"\r\nimport jwtDecode from \"jwt-decode\"\r\n\r\nconst Index = () => {\r\n  const cache = new InMemoryCache({})\r\n\r\n  const requestLink = new ApolloLink(\r\n    (operation, forward) =>\r\n      new Observable(observer => {\r\n        let handle\r\n        Promise.resolve(operation)\r\n          .then(operation => {\r\n            const accessToken = getAccessToken()\r\n            if (accessToken) {\r\n              operation.setContext({\r\n                headers: {\r\n                  authorization: `bearer ${accessToken}`\r\n                }\r\n              })\r\n            }\r\n          })\r\n          .then(() => {\r\n            handle = forward(operation).subscribe({\r\n              next: observer.next.bind(observer),\r\n              error: observer.error.bind(observer),\r\n              complete: observer.complete.bind(observer)\r\n            })\r\n          })\r\n          .catch(observer.error.bind(observer))\r\n\r\n        return () => {\r\n          if (handle) handle.unsubscribe()\r\n        }\r\n      })\r\n  )\r\n\r\n  const client = new ApolloClient({\r\n    link: ApolloLink.from([\r\n      new TokenRefreshLink({\r\n        accessTokenField: \"accessToken\",\r\n        isTokenValidOrUndefined: () => {\r\n          const token = getAccessToken()\r\n\r\n          if (!token) {\r\n            return true\r\n          }\r\n\r\n          try {\r\n            const { exp } = jwtDecode(token)\r\n            if (Date.now() >= exp * 1000) {\r\n              return false\r\n            } else {\r\n              return true\r\n            }\r\n          } catch {\r\n            return false\r\n          }\r\n        },\r\n        fetchAccessToken: () => {\r\n          return fetch(`${process.env.REACT_APP_BACKENDURL}/refresh`, {\r\n            method: \"POST\",\r\n            credentials: \"include\"\r\n          })\r\n        },\r\n        handleFetch: accessToken => {\r\n          console.log(accessToken)\r\n          setAccessToken(accessToken)\r\n        },\r\n        handleError: err => {\r\n          console.warn(\"Your refresh token is invalid. Try to relogin\")\r\n          console.error(err)\r\n        }\r\n      }),\r\n      // onError(({ graphQLErrors, networkError }) => {\r\n      //   console.log(graphQLErrors);\r\n      //   console.log(networkError);\r\n      // }),\r\n\r\n      requestLink,\r\n      new createUploadLink({\r\n        uri: process.env.REACT_APP_BACKENDURL || \"\",\r\n        credentials: \"include\"\r\n      })\r\n    ]),\r\n    cache\r\n  })\r\n\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <App />\r\n    </ApolloProvider>\r\n  )\r\n}\r\n\r\nReactDOM.render(<Index />, document.getElementById(\"root\"))\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"BuzCard_paper__2e9bh\",\"head\":\"BuzCard_head__1DhBG\",\"headInner\":\"BuzCard_headInner__20B_O\",\"profileImg\":\"BuzCard_profileImg__3m2Xo\",\"title\":\"BuzCard_title__3fgfb\",\"imageContainer\":\"BuzCard_imageContainer__2PmaH\",\"subCat\":\"BuzCard_subCat__S8kzT\",\"location\":\"BuzCard_location__2T-9-\",\"price\":\"BuzCard_price__LPt_U\",\"desc\":\"BuzCard_desc__31k7C\",\"rating\":\"BuzCard_rating__26jyv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"revContainer\":\"FeaturedReview_revContainer__1_6us\",\"revContainerInner\":\"FeaturedReview_revContainerInner__-agW2\",\"revContainerAvatar\":\"FeaturedReview_revContainerAvatar__3jvnz\",\"revAuth\":\"FeaturedReview_revAuth__1w9-s\",\"date\":\"FeaturedReview_date__2QF4u\",\"revDesc\":\"FeaturedReview_revDesc__3LS28\",\"revRating\":\"FeaturedReview_revRating__1JzbX\",\"busSection\":\"FeaturedReview_busSection__31UB1\",\"busName\":\"FeaturedReview_busName__2V6By\",\"location\":\"FeaturedReview_location__2vjrH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"Footer_top__fURF5\",\"socialMedia\":\"Footer_socialMedia__WOsNj\",\"bottom\":\"Footer_bottom__2g-y3\",\"container\":\"Footer_container__2XsSj\",\"copyright\":\"Footer_copyright__2Wv1v\",\"law\":\"Footer_law__3FJLE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSection\":\"LoginBtn_btnSection__3-y0u\",\"btnSection2\":\"LoginBtn_btnSection2__3qeHN\",\"btn\":\"LoginBtn_btn__1l0mH\",\"btn2\":\"LoginBtn_btn2__wbYK5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clapContainer\":\"Clap_clapContainer__3IFzP\",\"clap\":\"Clap_clap__2bbEF\",\"shockwave\":\"Clap_shockwave__1rWWQ\",\"count\":\"Clap_count__2siL2\",\"total\":\"Clap_total__2LxX2\",\"initialTot\":\"Clap_initialTot__3FDc6\",\"icon\":\"Clap_icon__1XiHP\",\"checked\":\"Clap_checked__rqbgg\",\"info\":\"Clap_info__2hgfv\",\"error\":\"Clap_error__M1F92\"};","import gql from \"graphql-tag\"\r\n\r\nexport const REGISTER = gql`\r\n  mutation CreateUser($userName: String!, $email: String!, $password: String!) {\r\n    createUser(data: { userName: $userName, email: $email, password: $password }) {\r\n      userName\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_USER = gql`\r\n  query User($id: ID!) {\r\n    user(id: $id) {\r\n      userName\r\n      description\r\n      city\r\n      picture\r\n    }\r\n  }\r\n`\r\nexport const LOGIN = gql`\r\n  mutation Login($email: String!, $password: String!) {\r\n    login(data: { email: $email, password: $password }) {\r\n      token\r\n      user {\r\n        _id\r\n        type\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const CHANGE_PASS = gql`\r\n  mutation ChangePass($id: ID!, $password: String!, $token: String!) {\r\n    changePass(id: $id, data: { password: $password, token: $token }) {\r\n      _id\r\n      userName\r\n      email\r\n    }\r\n  }\r\n`\r\n\r\nexport const LOGOUT = gql`\r\n  mutation Logout {\r\n    logout\r\n  }\r\n`\r\n\r\nexport const UPDATE_USER = gql`\r\n  mutation UpdateUser($id: ID!, $picture: Upload, $userName: String, $description: String, $city: String) {\r\n    updateUser(id: $id, data: { picture: $picture, userName: $userName, description: $description, city: $city }) {\r\n      userName\r\n      picture\r\n      description\r\n      city\r\n    }\r\n  }\r\n`\r\n\r\nexport const ME = gql`\r\n  query Me {\r\n    me {\r\n      _id\r\n      userName\r\n      type\r\n      followings {\r\n        user {\r\n          _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const PROFILE_INFO = gql`\r\n  query User($id: ID!) {\r\n    user(id: $id) {\r\n      _id\r\n      userName\r\n      picture\r\n      description\r\n      city\r\n      nbrRev\r\n      revPic\r\n      business {\r\n        _id\r\n        name\r\n        desc\r\n        picture\r\n        neighborhood\r\n        city\r\n        cat\r\n        subCat\r\n        nbrRev\r\n        totRev\r\n        revPic\r\n      }\r\n      reviews {\r\n        _id\r\n        text\r\n        rating\r\n        createdAt\r\n        claps\r\n        clappers\r\n        picture {\r\n          _id\r\n          picture\r\n          desc\r\n          claps\r\n        }\r\n\r\n        business {\r\n          _id\r\n          name\r\n          picture\r\n          nbrRev\r\n          totRev\r\n          revPic\r\n        }\r\n      }\r\n      followers {\r\n        follower {\r\n          _id\r\n          userName\r\n          picture\r\n          nbrRev\r\n          revPic\r\n          description\r\n          city\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const PROFILE_FEED = gql`\r\n  query User($id: ID!) {\r\n    user(id: $id) {\r\n      _id\r\n      followings {\r\n        user {\r\n          _id\r\n          userName\r\n          picture\r\n          performer(first: 10, orderBy: createdAt_DESC) {\r\n            _id\r\n            action\r\n            createdAt\r\n            recipient {\r\n              _id\r\n              userName\r\n            }\r\n            business {\r\n              _id\r\n              name\r\n            }\r\n            review {\r\n              _id\r\n              text\r\n              rating\r\n              claps\r\n              createdAt\r\n              picture {\r\n                _id\r\n                picture\r\n                desc\r\n              }\r\n            }\r\n            image {\r\n              _id\r\n              picture\r\n              claps\r\n              desc\r\n              createdAt\r\n            }\r\n          }\r\n        }\r\n      }\r\n      recipient(first: 10, orderBy: createdAt_DESC) {\r\n        _id\r\n        action\r\n        createdAt\r\n        performer {\r\n          _id\r\n          userName\r\n          picture\r\n        }\r\n        business {\r\n          _id\r\n          name\r\n        }\r\n        review {\r\n          _id\r\n          text\r\n          rating\r\n          claps\r\n          createdAt\r\n          picture {\r\n            _id\r\n            picture\r\n            desc\r\n          }\r\n        }\r\n        image {\r\n          _id\r\n          picture\r\n          claps\r\n          desc\r\n          createdAt\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"innerContainer\":\"Register_innerContainer__NawGY\",\"topContainer\":\"Register_topContainer__1Rtt-\",\"title\":\"Register_title__29hFz\",\"note\":\"Register_note__1epzS\",\"generalError\":\"Register_generalError__2aS-4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"revContainer\":\"FeaturedImage_revContainer__2awzd\",\"revContainerInner\":\"FeaturedImage_revContainerInner__2-nzY\",\"revContainerAvatar\":\"FeaturedImage_revContainerAvatar__1aeTf\",\"revAuth\":\"FeaturedImage_revAuth__3NtJI\",\"date\":\"FeaturedImage_date__12WHO\",\"revDesc\":\"FeaturedImage_revDesc__3m_h_\",\"revRating\":\"FeaturedImage_revRating__2siiP\",\"busSection\":\"FeaturedImage_busSection__1U6J2\",\"busName\":\"FeaturedImage_busName__3MLVr\",\"location\":\"FeaturedImage_location__2iah2\",\"imageContainer\":\"FeaturedImage_imageContainer__2oDd3\"};","import React, { useEffect } from \"react\"\r\nimport TopBar from \"../TopBar/TopBar\"\r\n\r\nfunction Page({ title, children, withTopBar }) {\r\n  useEffect(() => {\r\n    document.title = `${title} | Aly`\r\n    window.scrollTo(0, 0)\r\n  }, [title])\r\n\r\n  return (\r\n    <>\r\n      {withTopBar && <TopBar />}\r\n      <div className=\"container\">{children}</div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Page\r\n","import gql from \"graphql-tag\"\r\n\r\nexport const UPDATE_IMAGE_CLAPS = gql`\r\n  mutation UpdateImage($id: ID!, $picture: String, $desc: String, $claps: Int) {\r\n    updateImage(id: $id, data: { picture: $picture, desc: $desc, claps: $claps }) {\r\n      _id\r\n      claps\r\n      review {\r\n        _id\r\n        author {\r\n          _id\r\n        }\r\n        business {\r\n          _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const UPDATE_IMAGE_DESC = gql`\r\n  mutation UpdateImage($id: ID!, $picture: String, $desc: String, $claps: Int) {\r\n    updateImage(id: $id, data: { picture: $picture, desc: $desc, claps: $claps }) {\r\n      desc\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_FEATURED_IMAGES = gql`\r\n  query Images($featured: Boolean, $limit: Int) {\r\n    images(featured: $featured, limit: $limit) {\r\n      _id\r\n      picture\r\n      desc\r\n      claps\r\n      review {\r\n        createdAt\r\n        author {\r\n          userName\r\n          picture\r\n          _id\r\n          nbrRev\r\n          revPic\r\n          followers {\r\n            _id\r\n          }\r\n        }\r\n        business {\r\n          _id\r\n          name\r\n          neighborhood\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GET_TOP_FEATURED_IMAGES = gql`\r\n  query Images($limit: Int, $topFeatured: Boolean) {\r\n    images(topFeatured: $topFeatured, limit: $limit) {\r\n      _id\r\n      picture\r\n      desc\r\n      claps\r\n      review {\r\n        author {\r\n          userName\r\n          _id\r\n        }\r\n        business {\r\n          name\r\n          _id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgImage\":\"FPHeader_bgImage__1vvz0\",\"main\":\"FPHeader_main__3Qyu3\",\"imageInfo\":\"FPHeader_imageInfo__1Kgix\"};"],"sourceRoot":""}